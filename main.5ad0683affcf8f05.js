(self.webpackChunkng_spendsmart=self.webpackChunkng_spendsmart||[]).push([[179],{6304:(lt,Se,P)=>{"use strict";P.d(Se,{Dh:()=>Ue,GT:()=>Ie,cc:()=>pe,hO:()=>Fe,on:()=>H,pX:()=>ae,xv:()=>Ce});var h=P(8926),L=P(7142),j=P(543);lt=P.hmd(lt);const ee=["ngOnDestroy"],ae=(xe,st,Ae,we={})=>new Proxy(xe,{get:(ge,de)=>Ae.runOutsideAngular(()=>{var be;if(xe[de])return!(null===(be=we?.spy)||void 0===be)&&be.get&&we.spy.get(de,xe[de]),xe[de];if(ee.indexOf(de)>-1)return()=>{};const J=st.toPromise().then(B=>{const Y=B&&B[de];return"function"==typeof Y?Y.bind(B):Y&&Y.then?Y.then(Z=>Ae.run(()=>Z)):Ae.run(()=>Y)});return new Proxy(()=>{},{get:(B,Y)=>J[Y],apply:(B,Y,Z)=>J.then(Ze=>{var He;const pt=Ze&&Ze(...Z);return!(null===(He=we?.spy)||void 0===He)&&He.apply&&we.spy.apply(de,Z,pt),pt})})})}),Ie=(xe,st)=>{st.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(we=>{Object.defineProperty(xe.prototype,we,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,we))})})};class Oe{constructor(st){return st}}const Ue=new h.OlP("angularfire2.app.options"),Ce=new h.OlP("angularfire2.app.name");function H(xe,st,Ae){const ge="object"==typeof Ae&&Ae||{};ge.name=ge.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const be=L.Z.apps.filter(J=>J&&J.name===ge.name)[0]||st.runOutsideAngular(()=>L.Z.initializeApp(xe,ge));try{JSON.stringify(xe)!==JSON.stringify(be.options)&&$("error",`${be.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(be)}const $=(xe,...st)=>{(0,h.X6Q)()&&typeof console<"u"&&console[xe](...st)},ue={provide:Oe,useFactory:H,deps:[Ue,h.R0b,[new h.FiY,Ce]]};let Fe=(()=>{class xe{constructor(Ae){L.Z.registerVersion("angularfire",j.q4.full,"core"),L.Z.registerVersion("angularfire",j.q4.full,"app-compat"),L.Z.registerVersion("angular",h.q4F.full,Ae.toString())}static initializeApp(Ae,we){return{ngModule:xe,providers:[{provide:Ue,useValue:Ae},{provide:Ce,useValue:we}]}}}return xe.\u0275fac=function(Ae){return new(Ae||xe)(h.LFG(h.Lbi))},xe.\u0275mod=h.oAB({type:xe}),xe.\u0275inj=h.cJS({providers:[ue]}),xe})();function pe(xe,st,Ae,we,ge){const[,de,be]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===xe)||[];if(de)return function We(xe,st){try{return xe.toString()===st.toString()}catch{return xe===st}}(ge,be)||(qe("error",`${st} was already initialized on the ${Ae} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:ge,was:be})),de;{const J=we();return globalThis.\u0275AngularfireInstanceCache.push([xe,J,ge]),J}}const ze=!!lt.hot,qe=(xe,...st)=>{(0,h.X6Q)()&&typeof console<"u"&&console[xe](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},543:(lt,Se,P)=>{"use strict";P.d(Se,{q4:()=>cl,iC:()=>vf,HU:()=>Ha,vb:()=>sa,JM:()=>yf,u3:()=>la});var h=P(8926),L=P(3182),j=P(5861),ee=P(534),ae=P(9058),Ie=P(4537),Oe=P(7879);const Ue=(w,D)=>D.some(S=>w instanceof S);let Ce,H;const Fe=new WeakMap,pe=new WeakMap,We=new WeakMap,ze=new WeakMap,qe=new WeakMap;let Ae={get(w,D,S){if(w instanceof IDBTransaction){if("done"===D)return pe.get(w);if("objectStoreNames"===D)return w.objectStoreNames||We.get(w);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return be(w[D])},set:(w,D,S)=>(w[D]=S,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function de(w){return"function"==typeof w?function ge(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(J(this),D),be(Fe.get(this))}:function(...D){return be(w.apply(J(this),D))}:function(D,...S){const O=w.call(J(this),D,...S);return We.set(O,D.sort?D.sort():[D]),be(O)}}(w):(w instanceof IDBTransaction&&function st(w){if(pe.has(w))return;const D=new Promise((S,O)=>{const U=()=>{w.removeEventListener("complete",K),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},K=()=>{S(),U()},fe=()=>{O(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",K),w.addEventListener("error",fe),w.addEventListener("abort",fe)});pe.set(w,D)}(w),Ue(w,function $(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ae):w)}function be(w){if(w instanceof IDBRequest)return function xe(w){const D=new Promise((S,O)=>{const U=()=>{w.removeEventListener("success",K),w.removeEventListener("error",fe)},K=()=>{S(be(w.result)),U()},fe=()=>{O(w.error),U()};w.addEventListener("success",K),w.addEventListener("error",fe)});return D.then(S=>{S instanceof IDBCursor&&Fe.set(S,w)}).catch(()=>{}),qe.set(D,w),D}(w);if(ze.has(w))return ze.get(w);const D=de(w);return D!==w&&(ze.set(w,D),qe.set(D,w)),D}const J=w=>qe.get(w),Z=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],He=new Map;function pt(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(He.get(D))return He.get(D);const S=D.replace(/FromIndex$/,""),O=D!==S,U=Ze.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!U&&!Z.includes(S))return;const K=function(){var fe=(0,j.Z)(function*(Ge,...Be){const rt=this.transaction(Ge,U?"readwrite":"readonly");let xt=rt.store;return O&&(xt=xt.index(Be.shift())),(yield Promise.all([xt[S](...Be),U&&rt.done]))[0]});return function(Be){return fe.apply(this,arguments)}}();return He.set(D,K),K}!function we(w){Ae=w(Ae)}(w=>({...w,get:(D,S,O)=>pt(D,S)||w.get(D,S,O),has:(D,S)=>!!pt(D,S)||w.has(D,S)}));const gt="@firebase/installations",yt="0.6.4",rn=1e4,wn=`w:${yt}`,te="FIS_v2",re="https://firebaseinstallations.googleapis.com/v1",ye=36e5,Je=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Qt({projectId:w}){return`${re}/projects/${w}/installations`}function mt(w){return{token:w.token,requestStatus:2,expiresIn:Mr(w.expiresIn),creationTime:Date.now()}}function Ft(w,D){return vt.apply(this,arguments)}function vt(){return(vt=(0,j.Z)(function*(w,D){const O=(yield D.json()).error;return Je.create("request-failed",{requestName:w,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function gn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function xr(w){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,j.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Mr(w){return Number(w.replace("s","000"))}function Di(){return(Di=(0,j.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:S}){const O=Qt(w),U=gn(w),K=D.getImmediate({optional:!0});if(K){const rt=yield K.getHeartbeatsHeader();rt&&U.append("x-firebase-client",rt)}const Ge={method:"POST",headers:U,body:JSON.stringify({fid:S,authVersion:te,appId:w.appId,sdkVersion:wn})},Be=yield xr(()=>fetch(O,Ge));if(Be.ok){const rt=yield Be.json();return{fid:rt.fid||S,registrationStatus:2,refreshToken:rt.refreshToken,authToken:mt(rt.authToken)}}throw yield Ft("Create Installation",Be)})).apply(this,arguments)}function mo(w){return new Promise(D=>{setTimeout(D,w)})}const Gs=/^[cdef][\w-]{21}$/,Jt="";function ct(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function Et(w){return function zs(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Gs.test(S)?S:Jt}catch{return Jt}}function xn(w){return`${w.appName}!${w.appId}`}const ot=new Map;function Nr(w,D){const S=xn(w);Ji(S,D),function mn(w,D){const S=function zt(){return!ln&&"BroadcastChannel"in self&&(ln=new BroadcastChannel("[Firebase] FID Change"),ln.onmessage=w=>{Ji(w.data.key,w.data.fid)}),ln}();S&&S.postMessage({key:w,fid:D}),function yu(){0===ot.size&&ln&&(ln.close(),ln=null)}()}(S,D)}function Ji(w,D){const S=ot.get(w);if(S)for(const O of S)O(D)}let ln=null;const Uo="firebase-installations-database",Es=1,hr="firebase-installations-store";let Kr=null;function Rr(){return Kr||(Kr=function B(w,D,{blocked:S,upgrade:O,blocking:U,terminated:K}={}){const fe=indexedDB.open(w,D),Ge=be(fe);return O&&fe.addEventListener("upgradeneeded",Be=>{O(be(fe.result),Be.oldVersion,Be.newVersion,be(fe.transaction))}),S&&fe.addEventListener("blocked",()=>S()),Ge.then(Be=>{K&&Be.addEventListener("close",()=>K()),U&&Be.addEventListener("versionchange",()=>U())}).catch(()=>{}),Ge}(Uo,Es,{upgrade:(w,D)=>{0===D&&w.createObjectStore(hr)}})),Kr}function tr(w,D){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,j.Z)(function*(w,D){const S=xn(w),U=(yield Rr()).transaction(hr,"readwrite"),K=U.objectStore(hr),fe=yield K.get(S);return yield K.put(D,S),yield U.done,(!fe||fe.fid!==D.fid)&&Nr(w,D.fid),D})).apply(this,arguments)}function Zn(w){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,j.Z)(function*(w){const D=xn(w),O=(yield Rr()).transaction(hr,"readwrite");yield O.objectStore(hr).delete(D),yield O.done})).apply(this,arguments)}function bi(w,D){return nr.apply(this,arguments)}function nr(){return(nr=(0,j.Z)(function*(w,D){const S=xn(w),U=(yield Rr()).transaction(hr,"readwrite"),K=U.objectStore(hr),fe=yield K.get(S),Ge=D(fe);return void 0===Ge?yield K.delete(S):yield K.put(Ge,S),yield U.done,Ge&&(!fe||fe.fid!==Ge.fid)&&Nr(w,Ge.fid),Ge})).apply(this,arguments)}function V(w){return F.apply(this,arguments)}function F(){return F=(0,j.Z)(function*(w){let D;const S=yield bi(w.appConfig,O=>{const U=function q(w){return Mn(w||{fid:ct(),registrationStatus:0})}(O),K=function he(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Je.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},O=function ie(w,D){return et.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:O}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:_t(w)}:{installationEntry:D}}(w,U);return D=K.registrationPromise,K.installationEntry});return S.fid===Jt?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),F.apply(this,arguments)}function et(){return et=(0,j.Z)(function*(w,D){try{const S=yield function ws(w,D){return Di.apply(this,arguments)}(w,D);return tr(w.appConfig,S)}catch(S){throw kt(S)&&409===S.customData.serverCode?yield Zn(w.appConfig):yield tr(w.appConfig,{fid:D.fid,registrationStatus:0}),S}}),et.apply(this,arguments)}function _t(w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,j.Z)(function*(w){let D=yield fr(w.appConfig);for(;1===D.registrationStatus;)yield mo(100),D=yield fr(w.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:O}=yield V(w);return O||S}return D})).apply(this,arguments)}function fr(w){return bi(w,D=>{if(!D)throw Je.create("installation-not-found");return Mn(D)})}function Mn(w){return function Nn(w){return 1===w.registrationStatus&&w.registrationTime+rn<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Cn(){return(Cn=(0,j.Z)(function*({appConfig:w,heartbeatServiceProvider:D},S){const O=function Hn(w,{fid:D}){return`${Qt(w)}/${D}/authTokens:generate`}(w,S),U=function Ar(w,{refreshToken:D}){const S=gn(w);return S.append("Authorization",function qr(w){return`${te} ${w}`}(D)),S}(w,S),K=D.getImmediate({optional:!0});if(K){const rt=yield K.getHeartbeatsHeader();rt&&U.append("x-firebase-client",rt)}const Ge={method:"POST",headers:U,body:JSON.stringify({installation:{sdkVersion:wn,appId:w.appId}})},Be=yield xr(()=>fetch(O,Ge));if(Be.ok)return mt(yield Be.json());throw yield Ft("Generate Auth Token",Be)})).apply(this,arguments)}function Gt(w){return Is.apply(this,arguments)}function Is(){return Is=(0,j.Z)(function*(w,D=!1){let S;const O=yield bi(w.appConfig,K=>{if(!Bt(K))throw Je.create("not-registered");const fe=K.authToken;if(!D&&function on(w){return 2===w.requestStatus&&!function Yn(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+ye}(w)}(fe))return K;if(1===fe.requestStatus)return S=function me(w,D){return X.apply(this,arguments)}(w,D),K;{if(!navigator.onLine)throw Je.create("app-offline");const Ge=function Rn(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}(K);return S=function nt(w,D){return Ct.apply(this,arguments)}(w,Ge),Ge}});return S?yield S:O.authToken}),Is.apply(this,arguments)}function X(){return(X=(0,j.Z)(function*(w,D){let S=yield Re(w.appConfig);for(;1===S.authToken.requestStatus;)yield mo(100),S=yield Re(w.appConfig);const O=S.authToken;return 0===O.requestStatus?Gt(w,D):O})).apply(this,arguments)}function Re(w){return bi(w,D=>{if(!Bt(D))throw Je.create("not-registered");return function Ds(w){return 1===w.requestStatus&&w.requestTime+rn<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ct(){return Ct=(0,j.Z)(function*(w,D){try{const S=yield function Vt(w,D){return Cn.apply(this,arguments)}(w,D),O=Object.assign(Object.assign({},D),{authToken:S});return yield tr(w.appConfig,O),S}catch(S){if(!kt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const O=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield tr(w.appConfig,O)}else yield Zn(w.appConfig);throw S}}),Ct.apply(this,arguments)}function Bt(w){return void 0!==w&&2===w.registrationStatus}function Bo(){return(Bo=(0,j.Z)(function*(w){const D=w,{installationEntry:S,registrationPromise:O}=yield V(D);return O?O.catch(console.error):Gt(D).catch(console.error),S.fid})).apply(this,arguments)}function Sa(){return Sa=(0,j.Z)(function*(w,D=!1){const S=w;return yield function bs(w){return $o.apply(this,arguments)}(S),(yield Gt(S,D)).token}),Sa.apply(this,arguments)}function $o(){return($o=(0,j.Z)(function*(w){const{registrationPromise:D}=yield V(w);D&&(yield D)})).apply(this,arguments)}function jo(w){return Je.create("missing-app-config-values",{valueName:w})}const vc="installations",xa=w=>{const D=w.getProvider("app").getImmediate(),S=function vu(w){if(!w||!w.options)throw jo("App Configuration");if(!w.name)throw jo("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!w.options[S])throw jo(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},_u=w=>{const D=w.getProvider("app").getImmediate(),S=(0,ee._getProvider)(D,vc).getImmediate();return{getId:()=>function Cs(w){return Bo.apply(this,arguments)}(S),getToken:U=>function yc(w){return Sa.apply(this,arguments)}(S,U)}};(function Jl(){(0,ee._registerComponent)(new Ie.wA(vc,xa,"PUBLIC")),(0,ee._registerComponent)(new Ie.wA("installations-internal",_u,"PRIVATE"))})(),(0,ee.registerVersion)(gt,yt),(0,ee.registerVersion)(gt,yt,"esm2017");const _c="@firebase/remote-config",pr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zn{constructor(D,S,O,U){this.client=D,this.storage=S,this.storageCache=O,this.logger=U}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-S,U=O<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${U}.`),U}fetch(D){var S=this;return(0,j.Z)(function*(){const[O,U]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(U&&S.isCachedDataFresh(D.cacheMaxAgeMillis,O))return U;D.eTag=U&&U.eTag;const K=yield S.client.fetch(D),fe=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&fe.push(S.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(fe),K})()}}function ts(w=navigator){return w.languages&&w.languages[0]||w.language}class Ts{constructor(D,S,O,U,K,fe){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=O,this.projectId=U,this.apiKey=K,this.appId=fe}fetch(D){var S=this;return(0,j.Z)(function*(){const[O,U]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Be={sdk_version:S.sdkVersion,app_instance_id:O,app_instance_id_token:U,app_id:S.appId,language_code:ts()},rt={method:"POST",headers:Ge,body:JSON.stringify(Be)},xt=fetch(fe,rt),Tt=new Promise(($r,hs)=>{D.signal.addEventListener(()=>{const Sd=new Error("The operation was aborted.");Sd.name="AbortError",hs(Sd)})});let ti;try{yield Promise.race([xt,Tt]),ti=yield xt}catch($r){let hs="fetch-client-network";throw"AbortError"===$r?.name&&(hs="fetch-timeout"),pr.create(hs,{originalErrorMessage:$r?.message})}let Xn=ti.status;const da=ti.headers.get("ETag")||void 0;let za,ds;if(200===ti.status){let $r;try{$r=yield ti.json()}catch(hs){throw pr.create("fetch-client-parse",{originalErrorMessage:hs?.message})}za=$r.entries,ds=$r.state}if("INSTANCE_STATE_UNSPECIFIED"===ds?Xn=500:"NO_CHANGE"===ds?Xn=304:("NO_TEMPLATE"===ds||"EMPTY_CONFIG"===ds)&&(za={}),304!==Xn&&200!==Xn)throw pr.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:da,config:za}})()}}class Dc{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,j.Z)(function*(){const O=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,O)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:O}){var U=this;return(0,j.Z)(function*(){yield function St(w,D){return new Promise((S,O)=>{const U=Math.max(D-Date.now(),0),K=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(K),O(pr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const K=yield U.client.fetch(D);return yield U.storage.deleteThrottleMetadata(),K}catch(K){if(!function Iu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(K))throw K;const fe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(O),backoffCount:O+1};return yield U.storage.setThrottleMetadata(fe),U.attemptFetch(D,fe)}})()}}class yo{constructor(D,S,O,U,K){this.app=D,this._client=S,this._storageCache=O,this._storage=U,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kr(w,D){const S=w.target.error||void 0;return pr.create(D,{originalErrorMessage:S&&S?.message})}const Cr="app_namespace_store";class ns{constructor(D,S,O,U=function Go(){return new Promise((w,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=O=>{D(kr(O,"storage-open"))},S.onsuccess=O=>{w(O.target.result)},S.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Cr,{keyPath:"compositeKey"})}}catch(S){D(pr.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=O,this.openDbPromise=U}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,j.Z)(function*(){const O=yield S.openDbPromise;return new Promise((U,K)=>{const Ge=O.transaction([Cr],"readonly").objectStore(Cr),Be=S.createCompositeKey(D);try{const rt=Ge.get(Be);rt.onerror=xt=>{K(kr(xt,"storage-get"))},rt.onsuccess=xt=>{const Tt=xt.target.result;U(Tt?Tt.value:void 0)}}catch(rt){K(pr.create("storage-get",{originalErrorMessage:rt?.message}))}})})()}set(D,S){var O=this;return(0,j.Z)(function*(){const U=yield O.openDbPromise;return new Promise((K,fe)=>{const Be=U.transaction([Cr],"readwrite").objectStore(Cr),rt=O.createCompositeKey(D);try{const xt=Be.put({compositeKey:rt,value:S});xt.onerror=Tt=>{fe(kr(Tt,"storage-set"))},xt.onsuccess=()=>{K()}}catch(xt){fe(pr.create("storage-set",{originalErrorMessage:xt?.message}))}})})()}delete(D){var S=this;return(0,j.Z)(function*(){const O=yield S.openDbPromise;return new Promise((U,K)=>{const Ge=O.transaction([Cr],"readwrite").objectStore(Cr),Be=S.createCompositeKey(D);try{const rt=Ge.delete(Be);rt.onerror=xt=>{K(kr(xt,"storage-delete"))},rt.onsuccess=()=>{U()}}catch(rt){K(pr.create("storage-delete",{originalErrorMessage:rt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ui{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,j.Z)(function*(){const S=D.storage.getLastFetchStatus(),O=D.storage.getLastSuccessfulFetchTimestampMillis(),U=D.storage.getActiveConfig(),K=yield S;K&&(D.lastFetchStatus=K);const fe=yield O;fe&&(D.lastSuccessfulFetchTimestampMillis=fe);const Ge=yield U;Ge&&(D.activeConfig=Ge)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function bc(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,j.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Ss(){(0,ee._registerComponent)(new Ie.wA("remote-config",function w(D,{instanceIdentifier:S}){const O=D.getProvider("app").getImmediate(),U=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!(0,ae.hl)())throw pr.create("indexed-db-unavailable");const{projectId:K,apiKey:fe,appId:Ge}=O.options;if(!K)throw pr.create("registration-project-id");if(!fe)throw pr.create("registration-api-key");if(!Ge)throw pr.create("registration-app-id");const Be=new ns(Ge,O.name,S=S||"firebase"),rt=new Ui(Be),xt=new Oe.Yd(_c);xt.logLevel=Oe.in.ERROR;const Tt=new Ts(U,ee.SDK_VERSION,S,K,fe,Ge),ti=new Dc(Tt,Be),Xn=new zn(ti,Be,rt,xt),da=new yo(O,Xn,rt,Be,xt);return function Ic(w){const D=(0,ae.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(da),da},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(_c,"0.4.4"),(0,ee.registerVersion)(_c,"0.4.4","esm2017")}();const rs=(w,D)=>D.some(S=>w instanceof S);let As,xs;const Cu=new WeakMap,vr=new WeakMap,hn=new WeakMap,Wo=new WeakMap,Ks=new WeakMap;let Na={get(w,D,S){if(w instanceof IDBTransaction){if("done"===D)return vr.get(w);if("objectStoreNames"===D)return w.objectStoreNames||hn.get(w);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Bi(w[D])},set:(w,D,S)=>(w[D]=S,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function ed(w){return"function"==typeof w?function Qh(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function br(){return xs||(xs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(bu(this),D),Bi(Cu.get(this))}:function(...D){return Bi(w.apply(bu(this),D))}:function(D,...S){const O=w.call(bu(this),D,...S);return hn.set(O,D.sort?D.sort():[D]),Bi(O)}}(w):(w instanceof IDBTransaction&&function Qr(w){if(vr.has(w))return;const D=new Promise((S,O)=>{const U=()=>{w.removeEventListener("complete",K),w.removeEventListener("error",fe),w.removeEventListener("abort",fe)},K=()=>{S(),U()},fe=()=>{O(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",K),w.addEventListener("error",fe),w.addEventListener("abort",fe)});vr.set(w,D)}(w),rs(w,function vo(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Na):w)}function Bi(w){if(w instanceof IDBRequest)return function qo(w){const D=new Promise((S,O)=>{const U=()=>{w.removeEventListener("success",K),w.removeEventListener("error",fe)},K=()=>{S(Bi(w.result)),U()},fe=()=>{O(w.error),U()};w.addEventListener("success",K),w.addEventListener("error",fe)});return D.then(S=>{S instanceof IDBCursor&&Cu.set(S,w)}).catch(()=>{}),Ks.set(D,w),D}(w);if(Wo.has(w))return Wo.get(w);const D=ed(w);return D!==w&&(Wo.set(w,D),Ks.set(D,w)),D}const bu=w=>Ks.get(w);function Sc(w,D,{blocked:S,upgrade:O,blocking:U,terminated:K}={}){const fe=indexedDB.open(w,D),Ge=Bi(fe);return O&&fe.addEventListener("upgradeneeded",Be=>{O(Bi(fe.result),Be.oldVersion,Be.newVersion,Bi(fe.transaction))}),S&&fe.addEventListener("blocked",()=>S()),Ge.then(Be=>{K&&Be.addEventListener("close",()=>K()),U&&Be.addEventListener("versionchange",()=>U())}).catch(()=>{}),Ge}function Tu(w,{blocked:D}={}){const S=indexedDB.deleteDatabase(w);return D&&S.addEventListener("blocked",()=>D()),Bi(S).then(()=>{})}const Jh=["get","getKey","getAll","getAllKeys","count"],td=["put","add","delete","clear"],nd=new Map;function rd(w,D){if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(nd.get(D))return nd.get(D);const S=D.replace(/FromIndex$/,""),O=D!==S,U=td.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!U&&!Jh.includes(S))return;const K=function(){var fe=(0,j.Z)(function*(Ge,...Be){const rt=this.transaction(Ge,U?"readwrite":"readonly");let xt=rt.store;return O&&(xt=xt.index(Be.shift())),(yield Promise.all([xt[S](...Be),U&&rt.done]))[0]});return function(Be){return fe.apply(this,arguments)}}();return nd.set(D,K),K}!function Yh(w){Na=w(Na)}(w=>({...w,get:(D,S,O)=>rd(D,S)||w.get(D,S,O),has:(D,S)=>!!rd(D,S)||w.has(D,S)}));const Ac="/firebase-messaging-sw.js",id="/firebase-cloud-messaging-push-scope",sd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xh="https://fcmregistrations.googleapis.com/v1",ef="google.c.a.c_id",On="google.c.a.c_l",tf="google.c.a.ts";var Zs=(()=>((Zs=Zs||{}).PUSH_RECEIVED="push-received",Zs.NOTIFICATION_CLICKED="notification-clicked",Zs))();function $i(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ys(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(S),U=new Uint8Array(O.length);for(let K=0;K<O.length;++K)U[K]=O.charCodeAt(K);return U}const Ko="fcm_token_details_db",Su=5,Mc="fcm_token_object_Store";function Au(){return Au=(0,j.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(Ko))return null;let D=null;return(yield Sc(Ko,Su,{upgrade:(O=(0,j.Z)(function*(U,K,fe,Ge){var Be;if(K<2||!U.objectStoreNames.contains(Mc))return;const rt=Ge.objectStore(Mc),xt=yield rt.index("fcmSenderId").get(w);if(yield rt.clear(),xt)if(2===K){const Tt=xt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;D={token:Tt.fcmToken,createTime:null!==(Be=Tt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:$i(Tt.vapidKey)}}}else if(3===K){const Tt=xt;D={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:$i(Tt.auth),p256dh:$i(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:$i(Tt.vapidKey)}}}else if(4===K){const Tt=xt;D={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:$i(Tt.auth),p256dh:$i(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:$i(Tt.vapidKey)}}}}),function(K,fe,Ge,Be){return O.apply(this,arguments)})})).close(),yield Tu(Ko),yield Tu("fcm_vapid_details_db"),yield Tu("undefined"),function Rc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var O}),Au.apply(this,arguments)}const nf="firebase-messaging-database",xu=1,Ti="firebase-messaging-store";let hi=null;function Ra(){return hi||(hi=Sc(nf,xu,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Ti)}})),hi}function Pn(w){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,j.Z)(function*(w){const D=od(w),O=yield(yield Ra()).transaction(Ti).objectStore(Ti).get(D);if(O)return O;{const U=yield function Nc(w){return Au.apply(this,arguments)}(w.appConfig.senderId);if(U)return yield Oc(w,U),U}}),Oa.apply(this,arguments)}function Oc(w,D){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,j.Z)(function*(w,D){const S=od(w),U=(yield Ra()).transaction(Ti,"readwrite");return yield U.objectStore(Ti).put(D,S),yield U.done,D})).apply(this,arguments)}function Ms(){return(Ms=(0,j.Z)(function*(w){const D=od(w),O=(yield Ra()).transaction(Ti,"readwrite");yield O.objectStore(Ti).delete(D),yield O.done})).apply(this,arguments)}function od({appConfig:w}){return w.appId}const Qn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ad(w,D){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,j.Z)(function*(w,D){const S=yield Zo(w),O=Lc(D),U={method:"POST",headers:S,body:JSON.stringify(O)};let K;try{K=yield(yield fetch(ud(w.appConfig),U)).json()}catch(fe){throw Qn.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(K.error)throw Qn.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw Qn.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Ru(){return(Ru=(0,j.Z)(function*(w,D){const S=yield Zo(w),O=Lc(D.subscriptionOptions),U={method:"PATCH",headers:S,body:JSON.stringify(O)};let K;try{K=yield(yield fetch(`${ud(w.appConfig)}/${D.token}`,U)).json()}catch(fe){throw Qn.create("token-update-failed",{errorInfo:fe?.toString()})}if(K.error)throw Qn.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw Qn.create("token-update-no-token");return K.token})).apply(this,arguments)}function Kp(w,D){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,j.Z)(function*(w,D){const O={method:"DELETE",headers:yield Zo(w)};try{const K=yield(yield fetch(`${ud(w.appConfig)}/${D}`,O)).json();if(K.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(U){throw Qn.create("token-unsubscribe-failed",{errorInfo:U?.toString()})}})).apply(this,arguments)}function ud({projectId:w}){return`${Xh}/projects/${w}/registrations`}function Zo(w){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,j.Z)(function*({appConfig:w,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Lc({p256dh:w,auth:D,endpoint:S,vapidKey:O}){const U={web:{endpoint:S,auth:D,p256dh:w}};return O!==sd&&(U.web.applicationPubKey=O),U}const cd=6048e5;function ld(){return ld=(0,j.Z)(function*(w){const D=yield function fi(w,D){return ku.apply(this,arguments)}(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:$i(D.getKey("auth")),p256dh:$i(D.getKey("p256dh"))},O=yield Pn(w.firebaseDependencies);if(O){if(function Fu(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}(O.subscriptionOptions,S))return Date.now()>=O.createTime+cd?function Uc(w,D){return dd.apply(this,arguments)}(w,{token:O.token,createTime:Date.now(),subscriptionOptions:S}):O.token;try{yield Kp(w.firebaseDependencies,O.token)}catch(U){console.warn(U)}return Qs(w.firebaseDependencies,S)}return Qs(w.firebaseDependencies,S)}),ld.apply(this,arguments)}function Pu(){return Pu=(0,j.Z)(function*(w){const D=yield Pn(w.firebaseDependencies);D&&(yield Kp(w.firebaseDependencies,D.token),yield function Pc(w){return Ms.apply(this,arguments)}(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Pu.apply(this,arguments)}function dd(){return dd=(0,j.Z)(function*(w,D){try{const S=yield function kc(w,D){return Ru.apply(this,arguments)}(w.firebaseDependencies,D),O=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield Oc(w.firebaseDependencies,O),S}catch(S){throw yield function rf(w){return Pu.apply(this,arguments)}(w),S}}),dd.apply(this,arguments)}function Qs(w,D){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,j.Z)(function*(w,D){const O={token:yield ad(w,D),createTime:Date.now(),subscriptionOptions:D};return yield Oc(w,O),O.token})).apply(this,arguments)}function ku(){return(ku=(0,j.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ys(D)})})).apply(this,arguments)}function dn(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function sf(w,D){if(!D.notification)return;w.notification={};const S=D.notification.title;S&&(w.notification.title=S);const O=D.notification.body;O&&(w.notification.body=O);const U=D.notification.image;U&&(w.notification.image=U);const K=D.notification.icon;K&&(w.notification.icon=K)}(D,w),function Yo(w,D){D.data&&(w.data=D.data)}(D,w),function pi(w,D){var S,O,U,K,fe;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;w.fcmOptions={};const Ge=null!==(U=null===(O=D.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==U?U:null===(K=D.notification)||void 0===K?void 0:K.click_action;Ge&&(w.fcmOptions.link=Ge);const Be=null===(fe=D.fcmOptions)||void 0===fe?void 0:fe.analytics_label;Be&&(w.fcmOptions.analyticsLabel=Be)}(D,w),D}function $c(w,D){const S=[];for(let O=0;O<w.length;O++)S.push(w.charAt(O)),O<D.length&&S.push(D.charAt(O));return S.join("")}function Fr(w){return Qn.create("missing-app-config-values",{valueName:w})}$c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uf{constructor(D,S,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const U=function _o(w){if(!w||!w.options)throw Fr("App Configuration Object");if(!w.name)throw Fr("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const O of D)if(!S[O])throw Fr(O);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:U,installations:S,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Hc(){return(Hc=(0,j.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Ac,{scope:id}),w.swRegistration.update().catch(()=>{})}catch(D){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Ai(){return(Ai=(0,j.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield function jc(w){return Hc.apply(this,arguments)}(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function Vu(){return(Vu=(0,j.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=sd)})).apply(this,arguments)}function Uu(){return Uu=(0,j.Z)(function*(w,D){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield function Lu(w,D){return Vu.apply(this,arguments)}(w,D?.vapidKey),yield function Si(w,D){return Ai.apply(this,arguments)}(w,D?.serviceWorkerRegistration),function Vc(w){return ld.apply(this,arguments)}(w)}),Uu.apply(this,arguments)}function bt(){return(bt=(0,j.Z)(function*(w,D,S){const O=function hd(w){switch(w){case Zs.NOTIFICATION_CLICKED:return"notification_open";case Zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:S[ef],message_name:S[On],message_time:S[tf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qo(){return Qo=(0,j.Z)(function*(w,D){const S=D.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===Zs.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(dn(S)):w.onMessageHandler.next(dn(S)));const O=S.data;(function af(w){return"object"==typeof w&&!!w&&ef in w})(O)&&"1"===O["google.c.a.e"]&&(yield function Zp(w,D,S){return bt.apply(this,arguments)}(w,S.messageType,O))}),Qo.apply(this,arguments)}const Bu="@firebase/messaging",fd=w=>{const D=new uf(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Gc(w,D){return Qo.apply(this,arguments)}(D,S)),D},wo=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:O=>function zc(w,D){return Uu.apply(this,arguments)}(D,O)}};function $u(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,j.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cf(){(0,ee._registerComponent)(new Ie.wA("messaging",fd,"PUBLIC")),(0,ee._registerComponent)(new Ie.wA("messaging-internal",wo,"PRIVATE")),(0,ee.registerVersion)(Bu,"0.12.4"),(0,ee.registerVersion)(Bu,"0.12.4","esm2017")}();const Io="analytics",xi="firebase_id",Kc="origin",ka=6e4,gd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",md="https://www.googletagmanager.com/gtag/js",Gn=new Oe.Yd("@firebase/analytics"),yn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zc(w){if(!w.startsWith(md)){const D=yn.create("invalid-gtag-resource",{gtagURL:w});return Gn.warn(D.message),""}return w}function is(w){return Promise.all(w.map(D=>D.catch(S=>S)))}function Jo(){return(Jo=(0,j.Z)(function*(w,D,S,O,U,K){const fe=O[U];try{if(fe)yield D[fe];else{const Be=(yield is(S)).find(rt=>rt.measurementId===U);Be&&(yield D[Be.appId])}}catch(Ge){Gn.error(Ge)}w("config",U,K)})).apply(this,arguments)}function Do(){return(Do=(0,j.Z)(function*(w,D,S,O,U){try{let K=[];if(U&&U.send_to){let fe=U.send_to;Array.isArray(fe)||(fe=[fe]);const Ge=yield is(S);for(const Be of fe){const rt=Ge.find(Tt=>Tt.measurementId===Be),xt=rt&&D[rt.appId];if(!xt){K=[];break}K.push(xt)}}0===K.length&&(K=Object.values(D)),yield Promise.all(K),w("event",O,U||{})}catch(K){Gn.error(K)}})).apply(this,arguments)}const Qp=30,Xc=new class df{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function hf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Hu(){return(Hu=(0,j.Z)(function*(w){var D;const{appId:S,apiKey:O}=w,U={method:"GET",headers:hf(O)},K=gd.replace("{app-id}",S),fe=yield fetch(K,U);if(200!==fe.status&&304!==fe.status){let Ge="";try{const Be=yield fe.json();null!==(D=Be.error)&&void 0!==D&&D.message&&(Ge=Be.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Ge})}return fe.json()})).apply(this,arguments)}function vd(){return(vd=(0,j.Z)(function*(w,D=Xc,S){const{appId:O,apiKey:U,measurementId:K}=w.options;if(!O)throw yn.create("no-app-id");if(!U){if(K)return{measurementId:K,appId:O};throw yn.create("no-api-key")}const fe=D.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new wd;return setTimeout((0,j.Z)(function*(){Ge.abort()}),void 0!==S?S:ka),Vr({appId:O,apiKey:U,measurementId:K},fe,Ge,D)})).apply(this,arguments)}function Vr(w,D,S){return Js.apply(this,arguments)}function Js(){return Js=(0,j.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:S},O,U=Xc){var K;const{appId:fe,measurementId:Ge}=w;try{yield function bn(w,D){return new Promise((S,O)=>{const U=Math.max(D-Date.now(),0),K=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(K),O(yn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(O,D)}catch(Be){if(Ge)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:fe,measurementId:Ge};throw Be}try{const Be=yield function ff(w){return Hu.apply(this,arguments)}(w);return U.deleteThrottleMetadata(fe),Be}catch(Be){const rt=Be;if(!function _d(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(rt)){if(U.deleteThrottleMetadata(fe),Ge)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:fe,measurementId:Ge};throw Be}const xt=503===Number(null===(K=rt?.customData)||void 0===K?void 0:K.httpStatus)?(0,ae.$s)(S,U.intervalMillis,Qp):(0,ae.$s)(S,U.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+xt,backoffCount:S+1};return U.setThrottleMetadata(fe,Tt),Gn.debug(`Calling attemptFetch again in ${xt} millis`),Vr(w,Tt,O,U)}}),Js.apply(this,arguments)}class wd{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let tl,Va;function nl(){return(nl=(0,j.Z)(function*(w,D,S,O,U){if(U&&U.global)w("event",S,O);else{const K=yield D;w("event",S,Object.assign(Object.assign({},O),{send_to:K}))}})).apply(this,arguments)}function Ua(){return(Ua=(0,j.Z)(function*(){if(!(0,ae.hl)())return Gn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return Gn.warn(yn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function ji(){return ji=(0,j.Z)(function*(w,D,S,O,U,K,fe){var Ge;const Be=function el(w){return vd.apply(this,arguments)}(w);Be.then(Xn=>{S[Xn.measurementId]=Xn.appId,w.options.measurementId&&Xn.measurementId!==w.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>Gn.error(Xn)),D.push(Be);const rt=function pf(){return Ua.apply(this,arguments)}().then(Xn=>{if(Xn)return O.getId()}),[xt,Tt]=yield Promise.all([Be,rt]);(function yd(w){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(md)&&S.src.includes(w))return S;return null})(K)||function Yp(w,D){const S=function Mi(w,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(w,D)),S}("firebase-js-sdk-policy",{createScriptURL:Zc}),O=document.createElement("script"),U=`${md}?l=${w}&id=${D}`;O.src=S?S?.createScriptURL(U):U,O.async=!0,document.head.appendChild(O)}(K,xt.measurementId),Va&&(U("consent","default",Va),function as(w){Va=w}(void 0)),U("js",new Date);const ti=null!==(Ge=fe?.config)&&void 0!==Ge?Ge:{};return ti[Kc]="firebase",ti.update=!0,null!=Tt&&(ti[xi]=Tt),U("config",xt.measurementId,ti),tl&&(U("set",tl),function Xs(w){tl=w}(void 0)),xt.measurementId}),ji.apply(this,arguments)}class Zt{constructor(D){this.app=D}_delete(){return delete us[this.app.options.appId],Promise.resolve()}}let us={},gf=[];const Dd={};let Ni,gi,Hi="dataLayer",Ns=!1;function Cd(w,D,S){!function sl(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((O,U)=>`(${U+1}) ${O}`).join(" "),S=yn.create("invalid-analytics-context",{errorInfo:D});Gn.warn(S.message)}}();const O=w.options.appId;if(!O)throw yn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw yn.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=us[O])throw yn.create("already-exists",{id:O});if(!Ns){!function ju(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Hi);const{wrappedGtag:K,gtagCore:fe}=function Fa(w,D,S,O,U){let K=function(...fe){window[O].push(arguments)};return window[U]&&"function"==typeof window[U]&&(K=window[U]),window[U]=function Qc(w,D,S,O){function K(){return K=(0,j.Z)(function*(fe,...Ge){try{if("event"===fe){const[Be,rt]=Ge;yield function ss(w,D,S,O,U){return Do.apply(this,arguments)}(w,D,S,Be,rt)}else if("config"===fe){const[Be,rt]=Ge;yield function Yc(w,D,S,O,U,K){return Jo.apply(this,arguments)}(w,D,S,O,Be,rt)}else if("consent"===fe){const[Be]=Ge;w("consent","update",Be)}else if("get"===fe){const[Be,rt,xt]=Ge;w("get",Be,rt,xt)}else if("set"===fe){const[Be]=Ge;w("set",Be)}else w(fe,...Ge)}catch(Be){Gn.error(Be)}}),K.apply(this,arguments)}return function U(fe){return K.apply(this,arguments)}}(K,w,D,S),{gtagCore:K,wrappedGtag:window[U]}}(us,gf,Dd,Hi,"gtag");gi=K,Ni=fe,Ns=!0}return us[O]=function rl(w,D,S,O,U,K,fe){return ji.apply(this,arguments)}(w,gf,Dd,D,Ni,Hi,S),new Zt(w)}function cs(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,j.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const Os="@firebase/analytics";!function Gi(){(0,ee._registerComponent)(new Ie.wA(Io,(D,{options:S})=>Cd(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,ee._registerComponent)(new Ie.wA("analytics-internal",function w(D){try{const S=D.getProvider(Io).getImmediate();return{logEvent:(O,U,K)=>function $a(w,D,S,O){w=(0,ae.m9)(w),function Jp(w,D,S,O,U){return nl.apply(this,arguments)}(gi,us[w.app.options.appId],D,S,O).catch(U=>Gn.error(U))}(S,O,U,K)}}catch(S){throw yn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,ee.registerVersion)(Os,"0.10.0"),(0,ee.registerVersion)(Os,"0.10.0","esm2017")}();var So=P(7394);class Ps extends So.w0{constructor(D,S){super()}schedule(D,S=0){return this}}const Un={setInterval(w,D,...S){const{delegate:O}=Un;return O?.setInterval?O.setInterval(w,D,...S):setInterval(w,D,...S)},clearInterval(w){const{delegate:D}=Un;return(D?.clearInterval||clearInterval)(w)},delegate:void 0};var ja=P(9039);class to extends Ps{constructor(D,S){super(D,S),this.scheduler=D,this.work=S,this.pending=!1}schedule(D,S=0){var O;if(this.closed)return this;this.state=D;const U=this.id,K=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(K,U,S)),this.pending=!0,this.delay=S,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(K,this.id,S),this}requestAsyncId(D,S,O=0){return Un.setInterval(D.flush.bind(D,this),O)}recycleAsyncId(D,S,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return S;null!=S&&Un.clearInterval(S)}execute(D,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(D,S);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,S){let U,O=!1;try{this.work(D)}catch(K){O=!0,U=K||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:D,scheduler:S}=this,{actions:O}=S;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ja.P)(O,this),null!=D&&(this.id=this.recycleAsyncId(S,D,null)),this.delay=null,super.unsubscribe()}}}var ks=P(4552);class mi{constructor(D,S=mi.now){this.schedulerActionCtor=D,this.now=S}schedule(D,S=0,O){return new this.schedulerActionCtor(this,D).schedule(O,S)}}mi.now=ks.l.now;class sr extends mi{constructor(D,S=mi.now){super(D,S),this.actions=[],this._active=!1}flush(D){const{actions:S}=this;if(this._active)return void S.push(D);let O;this._active=!0;do{if(O=D.execute(D.state,D.delay))break}while(D=S.shift());if(this._active=!1,O){for(;D=S.shift();)D.unsubscribe();throw O}}}const zu=new class ls extends sr{}(class ul extends to{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(D,S,O):(D.flush(this),0)}}),no=new sr(to);var Gu=P(5592),ra=P(9397),At=P(5137),ia=P(3093);const cl=new h.GfV("7.6.1"),xo="__angularfire_symbol__analyticsIsSupportedValue",bd="__angularfire_symbol__analyticsIsSupported",Td="__angularfire_symbol__remoteConfigIsSupportedValue",yi="__angularfire_symbol__remoteConfigIsSupported",ll="__angularfire_symbol__messagingIsSupportedValue",dl="__angularfire_symbol__messagingIsSupported";function yf(w,D,S){if(D){if(1===D.length)return D[0];const K=D.filter(fe=>fe.app===S);if(1===K.length)return K[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[bd]||(globalThis[bd]=cs().then(w=>globalThis[xo]=w).catch(()=>globalThis[xo]=!1)),globalThis[dl]||(globalThis[dl]=$u().then(w=>globalThis[ll]=w).catch(()=>globalThis[ll]=!1)),globalThis[yi]||(globalThis[yi]=bc().then(w=>globalThis[Td]=w).catch(()=>globalThis[Td]=!1));const sa=(w,D)=>{const S=D?[D]:(0,L.C6)(),O=[];return S.forEach(U=>{U.container.getProvider(w).instances.forEach(fe=>{O.includes(fe)||O.push(fe)})}),O};function oa(){}class ei{constructor(D,S=zu){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,O){const U=this.zone;return this.delegate.schedule(function(fe){U.runGuarded(()=>{D.apply(this,[fe])})},S,O)}}class aa{constructor(D){this.zone=D,this.task=null}call(D,S){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oa,{},oa,oa)),S.pipe((0,ra.b)({next:O,complete:O,error:O})).subscribe(D).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ha=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new ei(Zone.current)),this.insideAngular=S.run(()=>new ei(Zone.current,no)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Br(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Wi(w){return Br().ngZone.run(()=>w())}function vf(w){return Br(),function _r(w){return function(S){return(S=S.lift(new aa(w.ngZone))).pipe((0,At.R)(w.outsideAngular),(0,ia.Q)(w.insideAngular))}}(Br())(w)}const ca=(w,D)=>function(){const O=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Wi(()=>w.apply(void 0,O))},la=(w,D)=>function(){let S;const O=arguments;for(let K=0;K<arguments.length;K++)"function"==typeof O[K]&&(D&&(S||(S=Wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oa,{},oa,oa)))),O[K]=ca(O[K],S));const U=function Yt(w){return Br().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,O));if(!D){if(U instanceof Gu.y){const K=Br();return U.pipe((0,At.R)(K.outsideAngular),(0,ia.Q)(K.insideAngular))}return Wi(()=>U)}return U instanceof Gu.y?U.pipe(vf):U instanceof Promise?Wi(()=>new Promise((K,fe)=>U.then(Ge=>Wi(()=>K(Ge)),Ge=>Wi(()=>fe(Ge))))):"function"==typeof U&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),U.apply(this,arguments)}:Wi(()=>U)}},6878:(lt,Se,P)=>{"use strict";P.d(Se,{$:()=>Ac,A:()=>$,D:()=>pe,I:()=>Ql,J:()=>xa,L:()=>Pr,N:()=>bi,P:()=>rl,Q:()=>ns,R:()=>Co,U:()=>Cc,V:()=>bc,W:()=>Tc,X:()=>Wt,Y:()=>vo,Z:()=>br,_:()=>Ks,a:()=>Te,a0:()=>sd,a1:()=>ef,a2:()=>pw,a3:()=>Mc,a4:()=>Au,a5:()=>nf,a6:()=>Ti,a7:()=>Ra,a8:()=>Oa,a9:()=>Mu,aA:()=>B,aB:()=>na,aC:()=>Zn,aD:()=>nr,aE:()=>sr,aF:()=>Ri,aG:()=>mf,aH:()=>Fn,aL:()=>Eo,aO:()=>As,aa:()=>Pc,ab:()=>od,ac:()=>Fy,ad:()=>kc,ae:()=>Kp,af:()=>ud,ai:()=>cd,aj:()=>ld,ak:()=>rf,an:()=>Qh,ao:()=>sf,aq:()=>Vu,ar:()=>Bu,as:()=>Z,at:()=>Mn,au:()=>_t,av:()=>we,aw:()=>U,ax:()=>ia,ay:()=>Nn,az:()=>ge,b:()=>pd,c:()=>gi,d:()=>Cd,e:()=>il,f:()=>Os,g:()=>ja,h:()=>So,i:()=>Jc,j:()=>ks,k:()=>rt,l:()=>kn,m:()=>ti,p:()=>Ue,r:()=>Xr,s:()=>os,u:()=>pf});var h=P(5861),L=P(9058),j=P(534),ee=P(7582),ae=P(7879),Ie=P(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pe=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ae.Yd("@firebase/auth");function Ae(v,...p){xe.logLevel<=ae.in.ERROR&&xe.error(`Auth (${j.SDK_VERSION}): ${v}`,...p)}function we(v,...p){throw J(v,...p)}function ge(v,...p){return J(v,...p)}function de(v,p,g){const I=Object.assign(Object.assign({},We()),{[p]:g});return new L.LL("auth","Firebase",I).create(p,{appName:v.name})}function be(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&we(v,"argument-error"),de(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J(v,...p){if("string"!=typeof v){const g=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(g,...I)}return ze.create(v,...p)}function B(v,p,...g){if(!v)throw J(p,...g)}function Y(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ae(p),new Error(p)}function Z(v,p){v||Y(p)}function Ze(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function He(){return"http:"===pt()||"https:"===pt()}function pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class rn{constructor(p,g){this.shortDelay=p,this.longDelay=g,Z(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(v,p){Z(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class te{static initialize(p,g,I){this.fetchImpl=p,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new rn(3e4,6e4);function oe(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function ve(v,p,g,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(v,p,g,I,x={}){return Je(v,x,(0,h.Z)(function*(){let N={},W={};I&&("GET"===p?W=I:N={body:JSON.stringify(I)});const le=(0,L.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/json",v.languageCode&&($e["X-Firebase-Locale"]=v.languageCode),te.fetch()(Ft(v,v.config.apiHost,g,le),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Je(v,p,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(v,p,g){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},re),p);try{const x=new vt(v),N=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const W=yield N.json();if("needConfirmation"in W)throw gn(v,"account-exists-with-different-credential",W);if(N.ok&&!("errorMessage"in W))return W;{const le=N.ok?W.errorMessage:W.error.message,[$e,Ye]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw gn(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===$e)throw gn(v,"email-already-in-use",W);if("USER_DISABLED"===$e)throw gn(v,"user-disabled",W);const dt=I[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw de(v,dt,Ye);we(v,dt)}}catch(x){if(x instanceof L.ZR)throw x;we(v,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function Qt(v,p,g,I){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(v,p,g,I,x={}){const N=yield ve(v,p,g,I,x);return"mfaPendingCredential"in N&&we(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ft(v,p,g,I){const x=`${p}${g}?${I}`;return v.config.emulator?wn(v.config,x):`${v.config.apiScheme}://${x}`}class vt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(ge(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(v,p,g){const I={appName:v.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const x=ge(v,p,I);return x.customData._tokenResponse=g,x}function xr(){return(xr=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Di(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Gs(){return(Gs=(0,h.Z)(function*(v,p=!1){const g=(0,L.m9)(v),I=yield g.getIdToken(p),x=ct(I);B(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const N="object"==typeof x.firebase?x.firebase:void 0,W=N?.sign_in_provider;return{claims:x,token:I,authTime:Di(Jt(x.auth_time)),issuedAtTime:Di(Jt(x.iat)),expirationTime:Di(Jt(x.exp)),signInProvider:W||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Jt(v){return 1e3*Number(v)}function ct(v){const[p,g,I]=v.split(".");if(void 0===p||void 0===g||void 0===I)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(g);return x?JSON.parse(x):(Ae("Failed to decode base64 JWT payload"),null)}catch(x){return Ae("Caught error parsing JWT payload as JSON",x?.toString()),null}}function xn(v,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(I){throw I instanceof L.ZR&&function Nr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Ci{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),I)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class sn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ji(v){return mn.apply(this,arguments)}function mn(){return mn=(0,h.Z)(function*(v){var p;const g=v.auth,I=yield v.getIdToken(),x=yield xn(v,function qr(v,p){return ws.apply(this,arguments)}(g,{idToken:I}));B(x?.users.length,g,"internal-error");const N=x.users[0];v._notifyReloadListener(N);const W=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?function Uo(v){return v.map(p=>{var{providerId:g}=p,I=(0,ee._T)(p,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(N.providerUserInfo):[],le=function yu(v,p){return[...v.filter(I=>!p.some(x=>x.providerId===I.providerId)),...p]}(v.providerData,W),dt=!!v.isAnonymous&&!(v.email&&N.passwordHash||le?.length),qt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:le,metadata:new sn(N.createdAt,N.lastLoginAt),isAnonymous:dt};Object.assign(v,qt)}),mn.apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(v){const p=(0,L.m9)(v);yield Ji(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(v,p){const g=yield Je(v,{},(0,h.Z)(function*(){const I=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:N}=v.config,W=Ft(v,x,"/v1/token",`key=${N}`),le=yield v._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(W,{method:"POST",headers:le,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){B(p.idToken,"internal-error"),B(typeof p.idToken<"u","internal-error"),B(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Et(v){const p=ct(v);return B(p,"internal-error"),B(typeof p.exp<"u","internal-error"),B(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var I=this;return(0,h.Z)(function*(){return B(!I.accessToken||I.refreshToken,p,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var I=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:N,expiresIn:W}=yield function Es(v,p){return hr.apply(this,arguments)}(p,g);I.updateTokensAndExpiration(x,N,Number(W))})()}updateTokensAndExpiration(p,g,I){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,g){const{refreshToken:I,accessToken:x,expirationTime:N}=g,W=new Kr;return I&&(B("string"==typeof I,"internal-error",{appName:p}),W.refreshToken=I),x&&(B("string"==typeof x,"internal-error",{appName:p}),W.accessToken=x),N&&(B("number"==typeof N,"internal-error",{appName:p}),W.expirationTime=N),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return Y("not implemented")}}function Rr(v,p){B("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class tr{constructor(p){var{uid:g,auth:I,stsTokenManager:x}=p,N=(0,ee._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new sn(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,h.Z)(function*(){const I=yield xn(g,g.stsTokenManager.getToken(g.auth,p));return B(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(p){return function zs(v){return Gs.apply(this,arguments)}(this,p)}reload(){return function ln(v){return zt.apply(this,arguments)}(this)}_assign(p){this!==p&&(B(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new tr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var I=this;return(0,h.Z)(function*(){let x=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield Ji(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,h.Z)(function*(){const g=yield p.getIdToken();return yield xn(p,function Ar(v,p){return xr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var I,x,N,W,le,$e,Ye,dt;const qt=null!==(I=g.displayName)&&void 0!==I?I:void 0,Oi=null!==(x=g.email)&&void 0!==x?x:void 0,fs=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,wf=null!==(W=g.photoURL)&&void 0!==W?W:void 0,eg=null!==(le=g.tenantId)&&void 0!==le?le:void 0,Wu=null!==($e=g._redirectEventId)&&void 0!==$e?$e:void 0,pl=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,ro=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Ad,emailVerified:qa,isAnonymous:xd,providerData:Ka,stsTokenManager:Za}=g;B(Ad&&Za,p,"internal-error");const Ef=Kr.fromJSON(this.name,Za);B("string"==typeof Ad,p,"internal-error"),Rr(qt,p.name),Rr(Oi,p.name),B("boolean"==typeof qa,p,"internal-error"),B("boolean"==typeof xd,p,"internal-error"),Rr(fs,p.name),Rr(wf,p.name),Rr(eg,p.name),Rr(Wu,p.name),Rr(pl,p.name),Rr(ro,p.name);const Md=new tr({uid:Ad,auth:p,email:Oi,emailVerified:qa,displayName:qt,isAnonymous:xd,photoURL:wf,phoneNumber:fs,tenantId:eg,stsTokenManager:Ef,createdAt:pl,lastLoginAt:ro});return Ka&&Array.isArray(Ka)&&(Md.providerData=Ka.map(tg=>Object.assign({},tg))),Wu&&(Md._redirectEventId=Wu),Md}static _fromIdTokenResponse(p,g,I=!1){return(0,h.Z)(function*(){const x=new Kr;x.updateFromServerResponse(g);const N=new tr({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:I});return yield Ji(N),N})()}}const Zr=new Map;function Zn(v){Z(v instanceof Function,"Expected a class definition");let p=Zr.get(v);return p?(Z(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Zr.set(v,p),p)}const bi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,I){var x=this;return(0,h.Z)(function*(){x.storage[g]=I})()}_get(g){var I=this;return(0,h.Z)(function*(){const x=I.storage[g];return void 0===x?null:x})()}_remove(g){var I=this;return(0,h.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return v.type="NONE",v})();function nr(v,p,g){return`firebase:${v}:${p}:${g}`}class V{constructor(p,g,I){this.persistence=p,this.auth=g,this.userKey=I;const{config:x,name:N}=this.auth;this.fullUserKey=nr(this.userKey,x.apiKey,N),this.fullPersistenceKey=nr("persistence",x.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?tr._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,h.Z)(function*(){if(g.persistence===p)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,I="authUser"){return(0,h.Z)(function*(){if(!g.length)return new V(Zn(bi),p,I);const x=(yield Promise.all(g.map(function(){var Ye=(0,h.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let N=x[0]||Zn(bi);const W=nr(I,p.config.apiKey,p.name);let le=null;for(const Ye of g)try{const dt=yield Ye._get(W);if(dt){const qt=tr._fromJSON(p,dt);Ye!==N&&(le=qt),N=Ye;break}}catch{}const $e=x.filter(Ye=>Ye._shouldAllowMigration);return N._shouldAllowMigration&&$e.length?(N=$e[0],le&&(yield N._set(W,le.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,h.Z)(function*(dt){if(dt!==N)try{yield dt._remove(W)}catch{}});return function(dt){return Ye.apply(this,arguments)}}())),new V(N,p,I)):new V(N,p,I)})()}}function F(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(et(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(q(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xt(p))return"Blackberry";if(fr(p))return"Webos";if(he(p))return"Safari";if((p.includes("chrome/")||ie(p))&&!p.includes("edge/"))return"Chrome";if(_t(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function q(v=(0,L.z$)()){return/firefox\//i.test(v)}function he(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ie(v=(0,L.z$)()){return/crios\//i.test(v)}function et(v=(0,L.z$)()){return/iemobile/i.test(v)}function _t(v=(0,L.z$)()){return/android/i.test(v)}function Xt(v=(0,L.z$)()){return/blackberry/i.test(v)}function fr(v=(0,L.z$)()){return/webos/i.test(v)}function Mn(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Nn(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Hn(v=(0,L.z$)()){return Mn(v)||_t(v)||fr(v)||Xt(v)||/windows phone/i.test(v)||et(v)}function Is(v,p=[]){let g;switch(v){case"Browser":g=F((0,L.z$)());break;case"Worker":g=`${F((0,L.z$)())}-${v}`;break;default:g=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${j.SDK_VERSION}/${I}`}function X(){return(X=(0,h.Z)(function*(v){return(yield ve(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Re(v,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(v,p){return ve(v,"GET","/v2/recaptchaConfig",oe(v,p))})).apply(this,arguments)}function Ct(v){return void 0!==v&&void 0!==v.getResponse}function Bt(v){return void 0!==v&&void 0!==v.enterprise}class on{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Rn(v){return new Promise((p,g)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=x=>{const N=ge("internal-error");N.customData=x,g(N)},I.type="text/javascript",I.charset="UTF-8",function Yn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function Ds(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Sa{constructor(p){this.type="recaptcha-enterprise",this.auth=Fn(p)}verify(p="verify",g=!1){var I=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(le){if(!g){if(null==le.tenantId&&null!=le._agentRecaptchaConfig)return le._agentRecaptchaConfig.siteKey;if(null!=le.tenantId&&void 0!==le._tenantRecaptchaConfigs[le.tenantId])return le._tenantRecaptchaConfigs[le.tenantId].siteKey}return new Promise(function(){var $e=(0,h.Z)(function*(Ye,dt){Re(le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qt=>{if(void 0!==qt.recaptchaKey){const Oi=new on(qt);return null==le.tenantId?le._agentRecaptchaConfig=Oi:le._tenantRecaptchaConfigs[le.tenantId]=Oi,Ye(Oi.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(qt=>{dt(qt)})});return function(Ye,dt){return $e.apply(this,arguments)}}())}),N.apply(this,arguments)}function W(le,$e,Ye){const dt=window.grecaptcha;Bt(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(le,{action:p}).then(qt=>{$e(qt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Ye(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((le,$e)=>{(function x(le){return N.apply(this,arguments)})(I.auth).then(Ye=>{if(!g&&Bt(window.grecaptcha))W(Ye,le,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));Rn("https://www.google.com/recaptcha/enterprise.js?render="+Ye).then(()=>{W(Ye,le,$e)}).catch(dt=>{$e(dt)})}}).catch(Ye=>{$e(Ye)})})})()}}function bs(v,p,g){return $o.apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(v,p,g,I=!1){const x=new Sa(v);let N;try{N=yield x.verify(g)}catch{N=yield x.verify(g,!0)}const W=Object.assign({},p);return Object.assign(W,I?{captchaResp:N}:{captchaResponse:N}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class Wh{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const I=N=>new Promise((W,le)=>{try{W(p(N))}catch($e){le($e)}});I.onAbort=g,this.queue.push(I);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===p)return;const I=[];try{for(const x of g.queue)yield x(p),x.onAbort&&I.push(x.onAbort)}catch(x){I.reverse();for(const N of I)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Or{constructor(p,g,I,x){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qh(this),this.idTokenSubscription=new qh(this),this.beforeStateQueue=new Wh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(p,g){var I=this;return g&&(this._popupRedirectResolver=Zn(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x,N;if(!I._deleted&&(I.persistenceManager=yield V.create(I,p),!I._deleted)){if(null!==(x=I._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(N=I.currentUser)||void 0===N?void 0:N.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,h.Z)(function*(){var I;const x=yield g.assertedPersistence.getCurrentUser();let N=x,W=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const le=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,$e=N?._redirectEventId,Ye=yield g.tryRedirectSignIn(p);(!le||le===$e)&&Ye?.user&&(N=Ye.user,W=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(N)}catch(le){N=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(le))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return B(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var g=this;return(0,h.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,h.Z)(function*(){try{yield Ji(p)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function yt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,h.Z)(function*(){const I=p?(0,L.m9)(p):null;return I&&B(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(p,g=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return p&&B(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(Zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const g=yield Re(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new on(g);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new Sa(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,I){return this.registerStateListener(this.authStateSubscription,p,g,I)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,I){return this.registerStateListener(this.idTokenSubscription,p,g,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var I=this;return(0,h.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const I=p&&Zn(p)||g._popupRedirectResolver;B(I,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[Zn(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,h.Z)(function*(){var I,x;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,h.Z)(function*(){if(p===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,I,x){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return B(W,this,"internal-error"),W.then(()=>N(this.currentUser)),"function"==typeof g?p.addObserver(g,I,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Is(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var g;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();x&&(I["X-Firebase-Client"]=x);const N=yield p._getAppCheckToken();return N&&(I["X-Firebase-AppCheck"]=N),I})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var g;const I=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function st(v,...p){xe.logLevel<=ae.in.WARN&&xe.warn(`Auth (${j.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Fn(v){return(0,L.m9)(v)}class qh{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ql(v,p,g){const I=Fn(v);B(I._canInitEmulator,I,"emulator-config-failed"),B(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const x=!!g?.disableWarnings,N=vu(p),{host:W,port:le}=function jo(v){const p=vu(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const N=x[1];return{host:N,port:vc(I.substr(N.length+1))}}{const[N,W]=I.split(":");return{host:N,port:vc(W)}}}(p);I.config.emulator={url:`${N}//${W}${null===le?"":`:${le}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:W,port:le,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Kh(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function vu(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function vc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class xa{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Y("not implemented")}_getIdTokenResponse(p){return Y("not implemented")}_linkToIdToken(p,g){return Y("not implemented")}_getReauthenticationResolver(p){return Y("not implemented")}}function _u(v,p){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:resetPassword",oe(v,p))})).apply(this,arguments)}function _c(v,p){return wc.apply(this,arguments)}function wc(){return(wc=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:update",oe(v,p))})).apply(this,arguments)}function wu(v,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPassword",oe(v,p))})).apply(this,arguments)}function Ma(v,p){return en.apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:sendOobCode",oe(v,p))})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(v,p){return Ma(v,p)})).apply(this,arguments)}function Ws(v,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*(v,p){return Ma(v,p)})).apply(this,arguments)}function Ec(v,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,h.Z)(function*(v,p){return Ma(v,p)})).apply(this,arguments)}function Ic(){return(Ic=(0,h.Z)(function*(v,p){return Ma(v,p)})).apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithEmailLink",oe(v,p))})).apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithEmailLink",oe(v,p))})).apply(this,arguments)}class En extends xa{constructor(p,g,I,x=null){super("password",I),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new En(p,g,"password")}static _fromEmailAndCode(p,g,I=null){return new En(p,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,h.Z)(function*(){var I;switch(g.signInMethod){case"password":const x={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const N=yield bs(p,x,"signInWithPassword");return wu(p,N)}return wu(p,x).catch(function(){var N=(0,h.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const le=yield bs(p,x,"signInWithPassword");return wu(p,le)}return Promise.reject(W)});return function(W){return N.apply(this,arguments)}}());case"emailLink":return function Zh(v,p){return Tn.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:we(p,"internal-error")}})()}_linkToIdToken(p,g){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return _c(p,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function tt(v,p){return Ot.apply(this,arguments)}(p,{idToken:g,email:I._email,oobCode:I._password});default:we(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function rr(v,p){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithIdp",oe(v,p))})).apply(this,arguments)}class Pr extends xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Pr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):we("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x}=g,N=(0,ee._T)(g,["providerId","signInMethod"]);if(!I||!x)return null;const W=new Pr(I,x);return W.idToken=N.idToken||void 0,W.accessToken=N.accessToken||void 0,W.secret=N.secret,W.nonce=N.nonce,W.pendingToken=N.pendingToken||null,W}_getIdTokenResponse(p){return rr(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,rr(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function ts(){return(ts=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:sendVerificationCode",oe(v,p))})).apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",oe(v,p))})).apply(this,arguments)}function Dc(){return(Dc=(0,h.Z)(function*(v,p){const g=yield Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",oe(v,p));if(g.temporaryProof)throw gn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const zo={USER_NOT_FOUND:"user-not-found"};function yo(){return(yo=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithPhoneNumber",oe(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zo)})).apply(this,arguments)}class kr extends xa{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new kr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new kr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Ts(v,p){return St.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Iu(v,p){return Dc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ln(v,p){return yo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:I,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:I,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:I,phoneNumber:x,temporaryProof:N}=p;return I||g||x||N?new kr({verificationId:g,verificationCode:I,phoneNumber:x,temporaryProof:N}):null}}class qs{constructor(p){var g,I,x,N,W,le;const $e=(0,L.zd)((0,L.pd)(p)),Ye=null!==(g=$e.apiKey)&&void 0!==g?g:null,dt=null!==(I=$e.oobCode)&&void 0!==I?I:null,qt=function Cr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=$e.mode)&&void 0!==x?x:null);B(Ye&&dt&&qt,"argument-error"),this.apiKey=Ye,this.operation=qt,this.code=dt,this.continueUrl=null!==(N=$e.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(W=$e.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(le=$e.tenantId)&&void 0!==le?le:null}static parseLink(p){const g=function Du(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,I=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(I?(0,L.zd)((0,L.pd)(I)).link:null)||I||g||p||v}(p);try{return new qs(g)}catch{return null}}}let ns=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,I){return En._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const x=qs.parseLink(I);return B(x,"argument-error"),En._fromEmailAndCode(g,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ui{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ss extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Wt extends Ss{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return B("providerId"in g&&"signInMethod"in g,"argument-error"),Pr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return B(p.idToken||p.accessToken,"argument-error"),Pr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Wt.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Wt.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:N,nonce:W,providerId:le}=p;if(!I&&!x&&!g&&!N||!le)return null;try{return new Wt(le)._credential({idToken:g,accessToken:I,nonce:W,pendingToken:N})}catch{return null}}}let Cc=(()=>{class v extends Ss{constructor(){super("facebook.com")}static credential(g){return Pr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),bc=(()=>{class v extends Ss{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return Pr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:x}=g;if(!I&&!x)return null;try{return v.credential(I,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Tc=(()=>{class v extends Ss{constructor(){super("github.com")}static credential(g){return Pr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class As extends xa{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return rr(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,rr(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x,pendingToken:N}=g;return I&&x&&N&&I===x?new As(I,N):null}static _create(p,g){return new As(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vo extends Ui{constructor(p){B(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return vo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return vo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=As.fromJSON(p);return B(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:I}=p;if(!g||!I)return null;try{return As._create(I,g)}catch{return null}}}let br=(()=>{class v extends Ss{constructor(){super("twitter.com")}static credential(g,I){return Pr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=g;if(!I||!x)return null;try{return v.credential(I,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Cu(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signUp",oe(v,p))})).apply(this,arguments)}class hn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,I,x=!1){return(0,h.Z)(function*(){const N=yield tr._fromIdTokenResponse(p,I,x),W=Wo(I);return new hn({user:N,providerId:W,_tokenResponse:I,operationType:g})})()}static _forOperation(p,g,I){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const x=Wo(I);return new hn({user:p,providerId:x,_tokenResponse:I,operationType:g})})()}}function Wo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ks(v){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(v){var p;const g=Fn(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new hn({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Cu(g,{returnSecureToken:!0}),x=yield hn._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Qr extends L.ZR{constructor(p,g,I,x){var N;super(g.code,g.message),this.operationType=I,this.user=x,Object.setPrototypeOf(this,Qr.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,g,I,x){return new Qr(p,g,I,x)}}function Na(v,p,g,I){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Qr._fromErrorAndOperation(v,N,p,I):N})}function Yh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Qh(v,p){return ed.apply(this,arguments)}function ed(){return ed=(0,h.Z)(function*(v,p){const g=(0,L.m9)(v);yield Sc(!0,g,p);const{providerUserInfo:I}=yield function Rt(v,p){return Mr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=Yh(I||[]);return g.providerData=g.providerData.filter(N=>x.has(N.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ed.apply(this,arguments)}function Bi(v,p){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(v,p,g=!1){const I=yield xn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return hn._forOperation(v,"link",I)})).apply(this,arguments)}function Sc(v,p,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,h.Z)(function*(v,p,g){yield Ji(p);const x=!1===v?"provider-already-linked":"no-such-provider";B(Yh(p.providerData).has(g)===v,p.auth,x)})).apply(this,arguments)}function Jh(v,p){return td.apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(v,p,g=!1){const{auth:I}=v,x="reauthenticate";try{const N=yield xn(v,Na(I,x,p,v),g);B(N.idToken,I,"internal-error");const W=ct(N.idToken);B(W,I,"internal-error");const{sub:le}=W;return B(v.uid===le,I,"user-mismatch"),hn._forOperation(v,x,N)}catch(N){throw"auth/user-not-found"===N?.code&&we(I,"user-mismatch"),N}})).apply(this,arguments)}function nd(v,p){return rd.apply(this,arguments)}function rd(){return(rd=(0,h.Z)(function*(v,p,g=!1){const I="signIn",x=yield Na(v,I,p),N=yield hn._fromIdTokenResponse(v,I,x);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ac(v,p){return id.apply(this,arguments)}function id(){return(id=(0,h.Z)(function*(v,p){return nd(Fn(v),p)})).apply(this,arguments)}function sd(v,p){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,h.Z)(function*(v,p){const g=(0,L.m9)(v);return yield Sc(!1,g,p.providerId),Bi(g,p)})).apply(this,arguments)}function ef(v,p){return On.apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(v,p){return Jh((0,L.m9)(v),p)})).apply(this,arguments)}function xc(){return(xc=(0,h.Z)(function*(v,p){return Qt(v,"POST","/v1/accounts:signInWithCustomToken",oe(v,p))})).apply(this,arguments)}function pw(v,p){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,h.Z)(function*(v,p){const g=Fn(v),I=yield function tf(v,p){return xc.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),x=yield hn._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(x.user),x}),Zs.apply(this,arguments)}class $i{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ys._fromServerResponse(p,g):"totpInfo"in g?Ko._fromServerResponse(p,g):we(p,"internal-error")}}class Ys extends $i{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ys(g)}}class Ko extends $i{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Ko(g)}}function Su(v,p,g){var I;B((null===(I=g.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),B(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(B(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(B(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Mc(v,p,g){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,h.Z)(function*(v,p,g){var I;const x=Fn(v),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const W=yield bs(x,N,"getOobCode",!0);g&&Su(x,W,g),yield Ws(x,W)}else g&&Su(x,N,g),yield Ws(x,N).catch(function(){var W=(0,h.Z)(function*(le){if("auth/missing-recaptcha-token"!==le.code)return Promise.reject(le);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield bs(x,N,"getOobCode",!0);g&&Su(x,$e,g),yield Ws(x,$e)}});return function(le){return W.apply(this,arguments)}}())}),Nc.apply(this,arguments)}function Au(v,p,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,h.Z)(function*(v,p,g){yield _u((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function nf(v,p){return xu.apply(this,arguments)}function xu(){return xu=(0,h.Z)(function*(v,p){yield function Xl(v,p){return Yr.apply(this,arguments)}((0,L.m9)(v),{oobCode:p})}),xu.apply(this,arguments)}function Ti(v,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(v,p){const g=(0,L.m9)(v),I=yield _u(g,{oobCode:p}),x=I.requestType;switch(B(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(I.mfaInfo,g,"internal-error");default:B(I.email,g,"internal-error")}let N=null;return I.mfaInfo&&(N=$i._fromServerResponse(Fn(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:N},operation:x}})).apply(this,arguments)}function Ra(v,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(v,p){const{data:g}=yield Ti((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function Oa(v,p,g){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,h.Z)(function*(v,p,g){var I;const x=Fn(v),N={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ye=yield bs(x,N,"signUpPassword");W=Cu(x,Ye)}else W=Cu(x,N).catch(function(){var Ye=(0,h.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const qt=yield bs(x,N,"signUpPassword");return Cu(x,qt)}return Promise.reject(dt)});return function(dt){return Ye.apply(this,arguments)}}());const le=yield W.catch(Ye=>Promise.reject(Ye)),$e=yield hn._fromIdTokenResponse(x,"signIn",le);return yield x._updateCurrentUser($e.user),$e}),Oc.apply(this,arguments)}function Mu(v,p,g){return Ac((0,L.m9)(v),ns.credential(p,g))}function Pc(v,p,g){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,h.Z)(function*(v,p,g){var I;const x=Fn(v),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function W(le,$e){B($e.handleCodeInApp,x,"argument-error"),$e&&Su(x,le,$e)}if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const le=yield bs(x,N,"getOobCode",!0);W(le,g),yield Ec(x,le)}else W(N,g),yield Ec(x,N).catch(function(){var le=(0,h.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ye=yield bs(x,N,"getOobCode",!0);W(Ye,g),yield Ec(x,Ye)}});return function($e){return le.apply(this,arguments)}}())}),Ms.apply(this,arguments)}function od(v,p){const g=qs.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Fy(v,p,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v),x=ns.credentialWithLink(p,g||Ze());return B(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ac(I,x)})).apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:createAuthUri",oe(v,p))})).apply(this,arguments)}function kc(v,p){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,h.Z)(function*(v,p){const I={identifier:p,continueUri:He()?Ze():"http://localhost"},{signinMethods:x}=yield function ad(v,p){return Nu.apply(this,arguments)}((0,L.m9)(v),I);return x||[]}),Ru.apply(this,arguments)}function Kp(v,p){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,h.Z)(function*(v,p){const g=(0,L.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Su(g.auth,x,p);const{email:N}=yield function gr(v,p){return mr.apply(this,arguments)}(g.auth,x);N!==v.email&&(yield v.reload())}),Ou.apply(this,arguments)}function ud(v,p,g){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Su(I.auth,N,g);const{email:W}=yield function Ho(v,p){return Ic.apply(this,arguments)}(I.auth,N);W!==v.email&&(yield v.reload())}),Zo.apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(v,p){return ve(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function cd(v,p){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,h.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const I=(0,L.m9)(v),N={idToken:yield I.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield xn(I,function Fc(v,p){return Lc.apply(this,arguments)}(I.auth,N));I.displayName=W.displayName||null,I.photoURL=W.photoUrl||null;const le=I.providerData.find(({providerId:$e})=>"password"===$e);le&&(le.displayName=I.displayName,le.photoURL=I.photoURL),yield I._updateTokensIfNecessary(W)}),Vc.apply(this,arguments)}function ld(v,p){return Pu((0,L.m9)(v),p,null)}function rf(v,p){return Pu((0,L.m9)(v),null,p)}function Pu(v,p,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(v,p,g){const{auth:I}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),g&&(N.password=g);const W=yield xn(v,_c(I,N));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Qs{constructor(p,g,I={}){this.isNewUser=p,this.providerId=g,this.profile=I}}class Bc extends Qs{constructor(p,g,I,x){super(p,g,I),this.username=x}}class fi extends Qs{constructor(p,g){super(p,"facebook.com",g)}}class ku extends Bc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Fu extends Qs{constructor(p,g){super(p,"google.com",g)}}class dn extends Bc{constructor(p,g,I){super(p,"twitter.com",g,I)}}function sf(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function dd(v){var p,g;if(!v)return null;const{providerId:I}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const W=null===(g=null===(p=ct(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Qs(N,"anonymous"!==W&&"custom"!==W?W:null)}if(!I)return null;switch(I){case"facebook.com":return new fi(N,x);case"github.com":return new ku(N,x);case"google.com":return new Fu(N,x);case"twitter.com":return new dn(N,x,v.screenName||null);case"custom":case"anonymous":return new Qs(N,null);default:return new Qs(N,I,x)}}(g)}class Ai{constructor(p,g,I){this.type=p,this.credential=g,this.auth=I}static _fromIdtoken(p,g){return new Ai("enroll",p,g)}static _fromMfaPendingCredential(p){return new Ai("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,I;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ai._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Ai._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Lu{constructor(p,g,I){this.session=p,this.hints=g,this.signInResolver=I}static _fromError(p,g){const I=Fn(p),x=g.customData._serverResponse,N=(x.mfaInfo||[]).map(le=>$i._fromServerResponse(I,le));B(x.mfaPendingCredential,I,"internal-error");const W=Ai._fromMfaPendingCredential(x.mfaPendingCredential);return new Lu(W,N,function(){var le=(0,h.Z)(function*($e){const Ye=yield $e._process(I,W);delete x.mfaInfo,delete x.mfaPendingCredential;const dt=Object.assign(Object.assign({},x),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const qt=yield hn._fromIdTokenResponse(I,g.operationType,dt);return yield I._updateCurrentUser(qt.user),qt;case"reauthenticate":return B(g.user,I,"internal-error"),hn._forOperation(g.user,g.operationType,dt);default:we(I,"internal-error")}});return function($e){return le.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,h.Z)(function*(){return g.signInResolver(p)})()}}function Vu(v,p){var g;const I=(0,L.m9)(v),x=p;return B(p.customData.operationType,I,"argument-error"),B(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),Lu._fromError(I,x)}class Gc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>$i._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Gc(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Ai._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var I=this;return(0,h.Z)(function*(){const x=p,N=yield I.getSession(),W=yield xn(I.user,x._process(I.user.auth,N,g));return yield I.user._updateTokensIfNecessary(W),I.user.reload()})()}unenroll(p){var g=this;return(0,h.Z)(function*(){const I="string"==typeof p?p:p.uid,x=yield g.user.getIdToken();try{const N=yield xn(g.user,function hd(v,p){return ve(v,"POST","/v2/accounts/mfaEnrollment:withdraw",oe(v,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==I),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Qo=new WeakMap;function Bu(v){const p=(0,L.m9)(v);return Qo.has(p)||Qo.set(p,Gc._fromUser(p)),Qo.get(p)}const Pa="__sak";class fd{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pa,"1"),this.storage.removeItem(Pa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const pd=(()=>{class v extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wo(){const v=(0,L.z$)();return he(v)||Mn(v)}()&&function Gt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),N=this.localCache[I];x!==N&&g(I,N,x)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((le,$e,Ye)=>{this.notifyListeners(le,Ye)});const x=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(x);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!I)return}const N=()=>{const le=this.storage.getItem(x);!I&&this.localCache[x]===le||this.notifyListeners(x,le)},W=this.storage.getItem(x);!function Cn(){return(0,L.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,I){this.localCache[g]=I;const x=this.listeners[g];if(x)for(const N of Array.from(x))N(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var x=()=>super._set,N=this;return(0,h.Z)(function*(){yield x().call(N,g,I),N.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,x=this;return(0,h.Z)(function*(){const N=yield I().call(x,g);return x.localCache[g]=JSON.stringify(N),N})()}_remove(g){var I=()=>super._remove,x=this;return(0,h.Z)(function*(){yield I().call(x,g),delete x.localCache[g]})()}}return v.type="LOCAL",v})(),Te=(()=>{class v extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return v.type="SESSION",v})();let lf=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(N=>N.isListeningto(g));if(I)return I;const x=new v(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,h.Z)(function*(){const x=g,{eventId:N,eventType:W,data:le}=x.data,$e=I.handlersMap[W];if(!$e?.size)return;x.ports[0].postMessage({status:"ack",eventId:N,eventType:W});const Ye=Array.from($e).map(function(){var qt=(0,h.Z)(function*(Oi){return Oi(x.origin,le)});return function(Oi){return qt.apply(this,arguments)}}()),dt=yield function tn(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return p.apply(this,arguments)}}()))}(Ye);x.ports[0].postMessage({status:"done",eventId:N,eventType:W,response:dt})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Eo(v="",p=10){let g="";for(let I=0;I<p;I++)g+=Math.floor(10*Math.random());return v+g}class Lr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,I=50){var x=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let W,le;return new Promise(($e,Ye)=>{const dt=Eo("",20);N.port1.start();const qt=setTimeout(()=>{Ye(new Error("unsupported_event"))},I);le={messageChannel:N,onMessage(Oi){const fs=Oi;if(fs.data.eventId===dt)switch(fs.data.status){case"ack":clearTimeout(qt),W=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),$e(fs.data.response);break;default:clearTimeout(qt),clearTimeout(W),Ye(new Error("invalid_response"))}}},x.handlers.add(le),N.port1.addEventListener("message",le.onMessage),x.target.postMessage({eventType:p,eventId:dt,data:g},[N.port2])}).finally(()=>{le&&x.removeMessageHandler(le)})})()}}function Vn(){return window}function xi(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function ka(){return(ka=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gn="firebaseLocalStorageDb",yn="firebaseLocalStorage",Zc="fbase_key";class is{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Mi(v,p){return v.transaction([yn],p?"readwrite":"readonly").objectStore(yn)}function ju(){const v=indexedDB.open(Gn,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(yn,{keyPath:Zc})}catch(x){g(x)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(yn)?p(I):(I.close(),yield function Yp(){const v=indexedDB.deleteDatabase(Gn);return new is(v).toPromise()}(),p(yield ju()))}))})}function Yc(v,p,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(v,p,g){const I=Mi(v,!0).put({[Zc]:p,value:g});return new is(I).toPromise()})).apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(v,p){const g=Mi(v,!1).get(p),I=yield new is(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Qc(v,p){const g=Mi(v,!0).delete(p);return new is(g).toPromise()}const Jc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield ju()),g.db})()}_withRetries(g){var I=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const N=yield I._openDb();return yield g(N)}catch(N){if(x++>3)throw N;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return xi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=lf._getInstance(function md(){return xi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(x,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(x,N){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(x,N){return["keyChanged"]});return function(x,N){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var I,x;if(g.activeServiceWorker=yield function Kc(){return ka.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Lr(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(I=N[0])&&void 0!==I&&I.fulfilled&&null!==(x=N[0])&&void 0!==x&&x.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function gd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ju();return yield Yc(g,Pa,"1"),yield Qc(g,Pa),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(N=>Yc(N,g,I)),x.localCache[g]=I,x.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,h.Z)(function*(){const x=yield I._withRetries(N=>function ss(v,p){return Do.apply(this,arguments)}(N,g));return I.localCache[g]=x,x})()}_remove(g){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(x=>Qc(x,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const I=yield g._withRetries(W=>{const le=Mi(W,!1).getAll();return new is(le).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const x=[],N=new Set;for(const{fbase_key:W,value:le}of I)N.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(le)&&(g.notifyListeners(W,le),x.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!N.has(W)&&(g.notifyListeners(W,null),x.push(W));return x})()}notifyListeners(g,I){this.localCache[g]=I;const x=this.listeners[g];if(x)for(const N of Array.from(x))N(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),el=1e12;class vd{constructor(p){this.auth=p,this.counter=el,this._widgets=new Map}render(p,g){const I=this.counter;return this._widgets.set(I,new Vr(p,this.auth.name,g||{})),this.counter++,I}reset(p){var g;const I=p||el;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(p){var g;return(null===(g=this._widgets.get(p||el))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,h.Z)(function*(){var I;return null===(I=g._widgets.get(p||el))||void 0===I||I.execute(),""})()}}class Vr{constructor(p,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;B(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Js(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bn=Ds("rcb"),_d=new rn(3e4,6e4);class tl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Vn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return B(function Jp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Ct(Vn().grecaptcha)?Promise.resolve(Vn().grecaptcha):new Promise((I,x)=>{const N=Vn().setTimeout(()=>{x(ge(p,"network-request-failed"))},_d.get());Vn()[bn]=()=>{Vn().clearTimeout(N),delete Vn()[bn];const le=Vn().grecaptcha;if(!le||!Ct(le))return void x(ge(p,"internal-error"));const $e=le.render;le.render=(Ye,dt)=>{const qt=$e(Ye,dt);return this.counter++,qt},this.hostLanguage=g,I(le)},Rn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:bn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),x(ge(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Vn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nl{load(p){return(0,h.Z)(function*(){return new vd(p)})()}clearedOneInstance(){}}const Ed="recaptcha",La={theme:"light",type:"image"};class Co{constructor(p,g=Object.assign({},La),I){this.parameters=g,this.type=Ed,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(I),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;B(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nl:new tl,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(g)||new Promise(N=>{const W=le=>{le&&(p.tokenChangeListeners.delete(W),N(le))};p.tokenChangeListeners.add(W),p.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof p)p(g);else if("string"==typeof p){const I=Vn()[p];"function"==typeof I&&I(g)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){B(He()&&!xi(),p.auth,"internal-error"),yield function Id(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function me(v){return X.apply(this,arguments)}(p.auth);B(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jr{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=kr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function os(v,p,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(v,p,g){const I=Fn(v),x=yield as(I,p,(0,L.m9)(g));return new Jr(x,N=>Ac(I,N))})).apply(this,arguments)}function kn(v,p,g){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v);yield Sc(!1,I,"phone");const x=yield as(I.auth,p,(0,L.m9)(g));return new Jr(x,N=>sd(I,N))})).apply(this,arguments)}function Xr(v,p,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v),x=yield as(I.auth,p,(0,L.m9)(g));return new Jr(x,N=>ef(I,N))})).apply(this,arguments)}function as(v,p,g){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,h.Z)(function*(v,p,g){var I;const x=yield g.verify();try{let N;if(B("string"==typeof x,v,"argument-error"),B(g.type===Ed,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const W=N.session;if("phoneNumber"in N)return B("enroll"===W.type,v,"internal-error"),(yield function zc(v,p){return ve(v,"POST","/v2/accounts/mfaEnrollment:start",oe(v,p))}(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{B("signin"===W.type,v,"internal-error");const le=(null===(I=N.multiFactorHint)||void 0===I?void 0:I.uid)||N.multiFactorUid;return B(le,v,"missing-multi-factor-info"),(yield function df(v,p){return ve(v,"POST","/v2/accounts/mfaSignIn:start",oe(v,p))}(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function zn(v,p){return ts.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:x});return W}}finally{g._reset()}}),Xs.apply(this,arguments)}function pf(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,p){yield Bi((0,L.m9)(v),p)})).apply(this,arguments)}let rl=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Fn(g)}verifyPhoneNumber(g,I){return as(this.auth,g,(0,L.m9)(I))}static credential(g,I){return kr._fromVerification(g,I)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:x}=g;return I&&x?kr._fromTokenResponse(I,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ji(v,p){return p?Zn(p):(B(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Zt extends xa{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return rr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return rr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return rr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function us(v){return nd(v.auth,new Zt(v),v.bypassAuthState)}function gf(v){const{auth:p,user:g}=v;return B(g,p,"internal-error"),Jh(g,new Zt(v),v.bypassAuthState)}function Dd(v){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(v){const{auth:p,user:g}=v;return B(g,p,"internal-error"),Bi(g,new Zt(v),v.bypassAuthState)})).apply(this,arguments)}class bo{constructor(p,g,I,x,N=!1){this.auth=p,this.resolver=I,this.user=x,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,h.Z)(function*(I,x){p.pendingPromise={resolve:I,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(I,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:N,tenantId:W,error:le,type:$e}=p;if(le)return void g.reject(le);const Ye={auth:g.auth,requestUri:I,sessionId:x,tenantId:W||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($e)(Ye))}catch(dt){g.reject(dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return us;case"linkViaPopup":case"linkViaRedirect":return Dd;case"reauthViaPopup":case"reauthViaRedirect":return gf;default:we(this.auth,"internal-error")}}resolve(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ni=new rn(2e3,1e4);function gi(v,p,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(v,p,g){const I=Fn(v);be(v,p,Ui);const x=ji(I,g);return new To(I,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function il(v,p,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v);be(I.auth,p,Ui);const x=ji(I.auth,g);return new To(I.auth,"reauthViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}function Cd(v,p,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v);be(I.auth,p,Ui);const x=ji(I.auth,g);return new To(I.auth,"linkViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}let To=(()=>{class v extends bo{constructor(g,I,x,N,W){super(g,I,N,W),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const I=yield g.execute();return B(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,h.Z)(function*(){Z(1===g.filter.length,"Popup operations only handle one event");const I=Eo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,x;this.pollId=null!==(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ni.get())};g()}}return v.currentPopupAction=null,v})();const cs="pendingRedirect",Rs=new Map;class Ba extends bo{constructor(p,g,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,h.Z)(function*(){let I=Rs.get(g.auth._key());if(!I){try{const N=(yield function ol(v,p){return ta.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;I=()=>Promise.resolve(N)}catch(x){I=()=>Promise.reject(x)}Rs.set(g.auth._key(),I)}return g.bypassAuthState||Rs.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(I,p);if("unknown"!==p.type){if(p.eventId){const x=yield I.auth._redirectUserForId(p.eventId);if(x)return I.user=x,g().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ta(){return(ta=(0,h.Z)(function*(v,p){const g=al(p),I=$a(v);if(!(yield I._isAvailable()))return!1;const x="true"===(yield I._get(g));return yield I._remove(g),x})).apply(this,arguments)}function eo(v,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(v,p){return $a(v)._set(al(p),"true")})).apply(this,arguments)}function mf(){Rs.clear()}function Ri(v,p){Rs.set(v._key(),p)}function $a(v){return Zn(v._redirectPersistence)}function al(v){return nr(cs,v.config.apiKey,v.name)}function Os(v,p,g){return function ir(v,p,g){return Gi.apply(this,arguments)}(v,p,g)}function Gi(){return(Gi=(0,h.Z)(function*(v,p,g){const I=Fn(v);be(v,p,Ui),yield I._initializationPromise;const x=ji(I,g);return yield eo(x,I),x._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function So(v,p,g){return function Ps(v,p,g){return Un.apply(this,arguments)}(v,p,g)}function Un(){return(Un=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v);be(I.auth,p,Ui),yield I.auth._initializationPromise;const x=ji(I.auth,g);yield eo(x,I.auth);const N=yield zu(I);return x._openRedirect(I.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function ja(v,p,g){return function to(v,p,g){return ul.apply(this,arguments)}(v,p,g)}function ul(){return(ul=(0,h.Z)(function*(v,p,g){const I=(0,L.m9)(v);be(I.auth,p,Ui),yield I.auth._initializationPromise;const x=ji(I.auth,g);yield Sc(!1,I,p.providerId),yield eo(x,I.auth);const N=yield zu(I);return x._openRedirect(I.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function ks(v,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(v,p){return yield Fn(v)._initializationPromise,sr(v,p,!1)})).apply(this,arguments)}function sr(v,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(v,p,g=!1){const I=Fn(v),x=ji(I,p),W=yield new Ba(I,x,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield I._persistUserIfCurrent(W.user),yield I._setRedirectUser(null,p)),W})).apply(this,arguments)}function zu(v){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(v){const p=Eo(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class na{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(g=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function At(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var I;if(p.error&&!ra(p)){const x=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const I=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(p))}saveEventToCache(p){this.cachedEventUids.add(Gu(p)),this.lastProcessedEventTime=Date.now()}}function Gu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ra({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function ia(v){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(v,p={}){return ve(v,"GET","/v1/projects",p)})).apply(this,arguments)}const xo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bd=/^https?/;function yi(){return(yi=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ia(v);for(const g of p)try{if(ll(g))return}catch{}we(v,"unauthorized-domain")})).apply(this,arguments)}function ll(v){const p=Ze(),{protocol:g,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===I?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===I}if(!bd.test(g))return!1;if(xo.test(v))return I===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const dl=new rn(3e4,6e4);function Ur(){const v=Vn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let hl=null;const yf=new rn(5e3,15e3),sa="__/auth/iframe",oa="emulator/auth/iframe",ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ha(v){const p=v.config;B(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?wn(p,oa):`https://${v.config.authDomain}/${sa}`,I={apiKey:p.apiKey,appName:v.name,v:j.SDK_VERSION},x=aa.get(v.config.apiHost);x&&(I.eid=x);const N=v._getFrameworks();return N.length&&(I.fw=N.join(",")),`${g}?${(0,L.xO)(I).slice(1)}`}function Yt(){return Yt=(0,h.Z)(function*(v){const p=yield function Jn(v){return hl=hl||function Ly(v){return new Promise((p,g)=>{var I,x,N;function W(){Ur(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ur(),g(ge(v,"network-request-failed"))},timeout:dl.get()})}if(null!==(x=null===(I=Vn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(N=Vn().gapi)||void 0===N||!N.load){const le=Ds("iframefcb");return Vn()[le]=()=>{gapi.load?W():g(ge(v,"network-request-failed"))},Rn(`https://apis.google.com/js/api.js?onload=${le}`).catch($e=>g($e))}W()}}).catch(p=>{throw hl=null,p})}(v),hl}(v),g=Vn().gapi;return B(g,v,"internal-error"),p.open({where:document.body,url:Ha(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},I=>new Promise(function(){var x=(0,h.Z)(function*(N,W){yield I.restyle({setHideOnLeave:!1});const le=ge(v,"network-request-failed"),$e=Vn().setTimeout(()=>{W(le)},yf.get());function Ye(){Vn().clearTimeout($e),N(I)}I.ping(Ye).then(Ye,()=>{W(le)})});return function(N,W){return x.apply(this,arguments)}}()))}),Yt.apply(this,arguments)}const Wi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ca{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const D="__/auth/handler",S="emulator/auth/handler",O=encodeURIComponent("fac");function U(v,p,g,I,x,N){return K.apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(v,p,g,I,x,N){B(v.config.authDomain,v,"auth-domain-config-required"),B(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:I,v:j.SDK_VERSION,eventId:x};if(p instanceof Ui){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dt,qt]of Object.entries(N||{}))W[dt]=qt}if(p instanceof Ss){const dt=p.getScopes().filter(qt=>""!==qt);dt.length>0&&(W.scopes=dt.join(","))}v.tenantId&&(W.tid=v.tenantId);const le=W;for(const dt of Object.keys(le))void 0===le[dt]&&delete le[dt];const $e=yield v._getAppCheckToken(),Ye=$e?`#${O}=${encodeURIComponent($e)}`:"";return`${function fe({config:v}){return v.emulator?wn(v,S):`https://${v.authDomain}/${D}`}(v)}?${(0,L.xO)(le).slice(1)}${Ye}`})).apply(this,arguments)}const Ge="webStorageSupport",rt=class Be{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Te,this._completeRedirectFn=sr,this._overrideRedirectResult=Ri}_openPopup(p,g,I,x){var N=this;return(0,h.Z)(function*(){var W;Z(null===(W=N.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const le=yield U(p,g,I,Ze(),x);return function la(v,p,g,I=500,x=600){const N=Math.max((window.screen.availHeight-x)/2,0).toString(),W=Math.max((window.screen.availWidth-I)/2,0).toString();let le="";const $e=Object.assign(Object.assign({},Wi),{width:I.toString(),height:x.toString(),top:N,left:W}),Ye=(0,L.z$)().toLowerCase();g&&(le=ie(Ye)?"_blank":g),q(Ye)&&(p=p||"http://localhost",$e.scrollbars="yes");const dt=Object.entries($e).reduce((Oi,[fs,wf])=>`${Oi}${fs}=${wf},`,"");if(function Vt(v=(0,L.z$)()){var p;return Mn(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ye)&&"_self"!==le)return function w(v,p){const g=document.createElement("a");g.href=v,g.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(p||"",le),new ca(null);const qt=window.open(p||"",le,dt);B(qt,v,"popup-blocked");try{qt.focus()}catch{}return new ca(qt)}(p,le,Eo())})()}_openRedirect(p,g,I,x){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(p),function Io(v){Vn().location.href=v}(yield U(p,g,I,Ze(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:N}=this.eventManagers[g];return x?Promise.resolve(x):(Z(N,"If manager is not set, promise should be"),N)}const I=this.initAndGetManager(p);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(p){var g=this;return(0,h.Z)(function*(){const I=yield function Br(v){return Yt.apply(this,arguments)}(p),x=new na(p);return I.register("authEvent",N=>(B(N?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=I,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Ge,{type:Ge},x=>{var N;const W=null===(N=x?.[0])||void 0===N?void 0:N[Ge];void 0!==W&&g(!!W),we(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Td(v){return yi.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Hn()||he()||Mn()}};class xt{constructor(p){this.factorId=p}_process(p,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,I);case"signin":return this._finalizeSignIn(p,g.credential);default:return Y("unexpected MultiFactorSessionType")}}}class Tt extends xt{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Tt(p)}_finalizeEnroll(p,g,I){return function Uu(v,p){return ve(v,"POST","/v2/accounts/mfaEnrollment:finalize",oe(v,p))}(p,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Xc(v,p){return ve(v,"POST","/v2/accounts/mfaSignIn:finalize",oe(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ti=(()=>{class v{constructor(){}static assertion(g){return Tt._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var $r="@firebase/auth";class Sd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Ga(v){(0,j._registerComponent)(new Ie.wA("auth",(p,{options:g})=>{const I=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:W,authDomain:le}=I.options;B(W&&!W.includes(":"),"invalid-api-key",{appName:I.name});const $e={apiKey:W,authDomain:le,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Is(v)},Ye=new Or(I,x,N,$e);return function qp(v,p){const g=p?.persistence||[],I=(Array.isArray(g)?g:[g]).map(Zn);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Ye,g),Ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,I)=>{p.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new Ie.wA("auth-internal",p=>{const g=Fn(p.getProvider("auth").getImmediate());return new Sd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)($r,"0.23.2",function Xp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,j.registerVersion)($r,"0.23.2","esm2017")}("Browser")},9058:(lt,Se,P)=>{"use strict";P.d(Se,{$s:()=>Zn,BH:()=>de,L:()=>Ce,LL:()=>Ne,P0:()=>Ae,Pz:()=>ge,Sg:()=>be,UG:()=>Y,US:()=>Ie,ZB:()=>ue,ZR:()=>ve,aH:()=>we,b$:()=>He,eu:()=>re,hl:()=>te,jU:()=>Z,m9:()=>nr,ne:()=>xn,pd:()=>ct,r3:()=>Rt,ru:()=>Ze,tV:()=>H,uI:()=>B,vZ:()=>Di,w1:()=>gt,xO:()=>Gs,xb:()=>qr,z$:()=>J,zI:()=>ye,zd:()=>Jt});const ee=function(V){const F=[];let q=0;for(let he=0;he<V.length;he++){let ie=V.charCodeAt(he);ie<128?F[q++]=ie:ie<2048?(F[q++]=ie>>6|192,F[q++]=63&ie|128):55296==(64512&ie)&&he+1<V.length&&56320==(64512&V.charCodeAt(he+1))?(ie=65536+((1023&ie)<<10)+(1023&V.charCodeAt(++he)),F[q++]=ie>>18|240,F[q++]=ie>>12&63|128,F[q++]=ie>>6&63|128,F[q++]=63&ie|128):(F[q++]=ie>>12|224,F[q++]=ie>>6&63|128,F[q++]=63&ie|128)}return F},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let ie=0;ie<V.length;ie+=3){const et=V[ie],_t=ie+1<V.length,Xt=_t?V[ie+1]:0,fr=ie+2<V.length,Mn=fr?V[ie+2]:0;let Cn=(15&Xt)<<2|Mn>>6,Hn=63&Mn;fr||(Hn=64,_t||(Cn=64)),he.push(q[et>>2],q[(3&et)<<4|Xt>>4],q[Cn],q[Hn])}return he.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(ee(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let q=0,he=0;for(;q<V.length;){const ie=V[q++];if(ie<128)F[he++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const et=V[q++];F[he++]=String.fromCharCode((31&ie)<<6|63&et)}else if(ie>239&&ie<365){const fr=((7&ie)<<18|(63&V[q++])<<12|(63&V[q++])<<6|63&V[q++])-65536;F[he++]=String.fromCharCode(55296+(fr>>10)),F[he++]=String.fromCharCode(56320+(1023&fr))}else{const et=V[q++],_t=V[q++];F[he++]=String.fromCharCode((15&ie)<<12|(63&et)<<6|63&_t)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const q=F?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let ie=0;ie<V.length;){const et=q[V.charAt(ie++)],Xt=ie<V.length?q[V.charAt(ie)]:0;++ie;const Mn=ie<V.length?q[V.charAt(ie)]:64;++ie;const Vt=ie<V.length?q[V.charAt(ie)]:64;if(++ie,null==et||null==Xt||null==Mn||null==Vt)throw new Oe;he.push(et<<2|Xt>>4),64!==Mn&&(he.push(Xt<<4&240|Mn>>2),64!==Vt&&he.push(Mn<<6&192|Vt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(V){return function(V){const F=ee(V);return Ie.encodeByteArray(F,!0)}(V).replace(/\./g,"")},H=function(V){try{return Ie.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function ue(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const q in F)!F.hasOwnProperty(q)||!Fe(q)||(V[q]=ue(V[q],F[q]));return V}function Fe(V){return"__proto__"!==V}const xe=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&H(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Ae=V=>{const F=(V=>{var F,q;return null===(q=null===(F=xe())||void 0===F?void 0:F.emulatorHosts)||void 0===q?void 0:q[V]})(V);if(!F)return;const q=F.lastIndexOf(":");if(q<=0||q+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const he=parseInt(F.substring(q+1),10);return"["===F[0]?[F.substring(1,q-1),he]:[F.substring(0,q),he]},we=()=>{var V;return null===(V=xe())||void 0===V?void 0:V.config},ge=V=>{var F;return null===(F=xe())||void 0===F?void 0:F[`_${V}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,q)=>{this.resolve=F,this.reject=q})}wrapCallback(F){return(q,he)=>{q?this.reject(q):this.resolve(he),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(q):F(q,he))}}}function be(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=F||"demo-project",ie=V.iat||0,et=V.sub||V.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:ie,exp:ie+3600,auth_time:ie,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},V);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(_t)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function B(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function Y(){var V;const F=null===(V=xe())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function Ze(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const V=J();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((V,F)=>{try{let q=!0;const he="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(he);ie.onsuccess=()=>{ie.result.close(),q||self.indexedDB.deleteDatabase(he),V(!0)},ie.onupgradeneeded=()=>{q=!1},ie.onerror=()=>{var et;F((null===(et=ie.error)||void 0===et?void 0:et.message)||"")}}catch(q){F(q)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(F,q,he){super(q),this.code=F,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(F,q,he){this.service=F,this.serviceName=q,this.errors=he}create(F,...q){const he=q[0]||{},ie=`${this.service}/${F}`,et=this.errors[F],_t=et?function Je(V,F){return V.replace(kt,(q,he)=>{const ie=F[he];return null!=ie?String(ie):`<${he}?>`})}(et,he):"Error";return new ve(ie,`${this.serviceName}: ${_t} (${ie}).`,he)}}const kt=/\{\$([^}]+)}/g;function Rt(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function qr(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function Di(V,F){if(V===F)return!0;const q=Object.keys(V),he=Object.keys(F);for(const ie of q){if(!he.includes(ie))return!1;const et=V[ie],_t=F[ie];if(mo(et)&&mo(_t)){if(!Di(et,_t))return!1}else if(et!==_t)return!1}for(const ie of he)if(!q.includes(ie))return!1;return!0}function mo(V){return null!==V&&"object"==typeof V}function Gs(V){const F=[];for(const[q,he]of Object.entries(V))Array.isArray(he)?he.forEach(ie=>{F.push(encodeURIComponent(q)+"="+encodeURIComponent(ie))}):F.push(encodeURIComponent(q)+"="+encodeURIComponent(he));return F.length?"&"+F.join("&"):""}function Jt(V){const F={};return V.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[ie,et]=he.split("=");F[decodeURIComponent(ie)]=decodeURIComponent(et)}}),F}function ct(V){const F=V.indexOf("?");if(!F)return"";const q=V.indexOf("#",F);return V.substring(F,q>0?q:void 0)}function xn(V,F){const q=new ot(V,F);return q.subscribe.bind(q)}class ot{constructor(F,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{F(this)}).catch(he=>{this.error(he)})}next(F){this.forEachObserver(q=>{q.next(F)})}error(F){this.forEachObserver(q=>{q.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,q,he){let ie;if(void 0===F&&void 0===q&&void 0===he)throw new Error("Missing Observer.");ie=function Ci(V,F){if("object"!=typeof V||null===V)return!1;for(const q of F)if(q in V&&"function"==typeof V[q])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:q,complete:he},void 0===ie.next&&(ie.next=sn),void 0===ie.error&&(ie.error=sn),void 0===ie.complete&&(ie.complete=sn);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),et}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,F)}sendOne(F,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{q(this.observers[F])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}const Kr=1e3,Rr=2,tr=144e5,Zr=.5;function Zn(V,F=Kr,q=Rr){const he=F*Math.pow(q,V),ie=Math.round(Zr*he*(Math.random()-.5)*2);return Math.min(tr,he+ie)}function nr(V){return V&&V._delegate?V._delegate:V}},2268:(lt,Se,P)=>{"use strict";var h=P(8926);let L=null;function j(){return L}class ae{}const Ie=new h.OlP("DocumentToken");let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ce)},providedIn:"platform"}),n})();const Ue=new h.OlP("Location Initialized");let Ce=(()=>{class n extends Oe{constructor(){super(),this._doc=(0,h.f3M)(Ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(t){const r=j().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=j().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ue(n){return n&&"?"!==n[0]?"?"+n:n}let Fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(We)},providedIn:"root"}),n})();const pe=new h.OlP("appBaseHref");let We=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ue(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+ue(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+ue(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oe),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ze=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+ue(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+ue(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Oe),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function we(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}($(Ae(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ue(r))}normalize(t){return n.stripTrailingSlash(function st(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ue(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ue(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=ue,n.joinWithSlash=H,n.stripTrailingSlash=$,n.\u0275fac=function(t){return new(t||n)(h.LFG(Fe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function xe(){return new qe((0,h.LFG)(Fe))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}const ge={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",de))(),Z=(()=>((Z=Z||{})[Z.Decimal=0]="Decimal",Z[Z.Group=1]="Group",Z[Z.List=2]="List",Z[Z.PercentSign=3]="PercentSign",Z[Z.PlusSign=4]="PlusSign",Z[Z.MinusSign=5]="MinusSign",Z[Z.Exponential=6]="Exponential",Z[Z.SuperscriptingExponent=7]="SuperscriptingExponent",Z[Z.PerMille=8]="PerMille",Z[Z.Infinity=9]="Infinity",Z[Z.NaN=10]="NaN",Z[Z.TimeSeparator=11]="TimeSeparator",Z[Z.CurrencyDecimal=12]="CurrencyDecimal",Z[Z.CurrencyGroup=13]="CurrencyGroup",Z))();function ve(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Z.CurrencyDecimal)return t[h.wAp.NumberSymbols][Z.Decimal];if(e===Z.CurrencyGroup)return t[h.wAp.NumberSymbols][Z.Group]}return r}const ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,et=22,_t=".",Xt="0",fr=";",Mn=",",Nn="#";function Gt(n,e,t,r,o){const l=function X(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(fr),o=r[0],u=r[1],l=-1!==o.indexOf(_t)?o.split(_t):[o.substring(0,o.lastIndexOf(Xt)+1),o.substring(o.lastIndexOf(Xt)+1)],m=l[0],E=l[1]||"";t.posPre=m.substring(0,m.indexOf(Nn));for(let A=0;A<E.length;A++){const R=E.charAt(A);R===Xt?t.minFrac=t.maxFrac=A+1:R===Nn?t.maxFrac=A+1:t.posSuf+=R}const b=m.split(Mn);if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,u){const A=o.length-t.posPre.length-t.posSuf.length,R=u.indexOf(Nn);t.negPre=u.substring(0,R).replace(/'/g,""),t.negSuf=u.slice(R+A).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Ne(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,de.Currency),ve(e,Z.MinusSign));return l.minFrac=function Di(n){let e;const t=ge[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),l.maxFrac=l.minFrac,function Hn(n,e,t,r,o,u,l=!1){let m="",E=!1;if(isFinite(n)){let b=function nt(n){let r,o,u,l,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf(_t))>-1&&(e=e.replace(_t,"")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;e.charAt(u)===Xt;u++);if(u===(m=e.length))r=[0],o=1;else{for(m--;e.charAt(m)===Xt;)m--;for(o-=u,r=[],l=0;u<=m;u++,l++)r[l]=Number(e.charAt(u))}return o>et&&(r=r.splice(0,et-1),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);l&&(b=function Re(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let A=e.minInt,R=e.minFrac,z=e.maxFrac;if(u){const Lt=u.match(ie);if(null===Lt)throw new Error(`${u} is not a valid digit info`);const Pt=Lt[1],Ht=Lt[3],cn=Lt[5];null!=Pt&&(A=Bt(Pt)),null!=Ht&&(R=Bt(Ht)),null!=cn?z=Bt(cn):null!=Ht&&R>z&&(z=R)}!function Ct(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let l=u+n.integerLen,m=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let R=l;R<r.length;R++)r[R]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let R=1;R<l;R++)r[R]=0}if(m>=5)if(l-1<0){for(let R=0;R>l;R--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;o<Math.max(0,u);o++)r.push(0);let E=0!==u;const b=e+n.integerLen,A=r.reduceRight(function(R,z,ne,Ee){return Ee[ne]=(z+=R)<10?z:z-10,E&&(0===Ee[ne]&&ne>=b?Ee.pop():E=!1),z>=10?1:0},0);A&&(r.unshift(A),n.integerLen++)}(b,R,z);let ne=b.digits,Ee=b.integerLen;const Ve=b.exponent;let je=[];for(E=ne.every(Lt=>!Lt);Ee<A;Ee++)ne.unshift(0);for(;Ee<0;Ee++)ne.unshift(0);Ee>0?je=ne.splice(Ee,ne.length):(je=ne,ne=[0]);const wt=[];for(ne.length>=e.lgSize&&wt.unshift(ne.splice(-e.lgSize,ne.length).join(""));ne.length>e.gSize;)wt.unshift(ne.splice(-e.gSize,ne.length).join(""));ne.length&&wt.unshift(ne.join("")),m=wt.join(ve(t,r)),je.length&&(m+=ve(t,o)+je.join("")),Ve&&(m+=ve(t,Z.Exponential)+"+"+Ve)}else m=ve(t,Z.Infinity);return m=n<0&&!E?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,l,e,Z.CurrencyGroup,Z.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function Bt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Bo=/\s+/,yc=[];let Sa=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=yc,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Bo):yc}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Bo):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Bo).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Wh{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Wh(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Fn(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Fn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Fn(n,e){n.context.$implicit=e.item}let Aa=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ql("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ql("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qp{constructor(){this.$implicit=null,this.ngIf=null}}function Ql(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function Yr(n,e){return new h.vHH(2100,!1)}class wu{createSubscription(e,t){return(0,h.rg0)(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){(0,h.rg0)(()=>e.unsubscribe())}}class pr{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ma=new pr,en=new wu;let gr=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Ma;if((0,h.F4k)(t))return en;throw Yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ts=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",u,l){if(!function Ts(n){return!(null==n||""===n||n!=n)}(t))return null;l=l||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==o&&(m="symbol"===o||"symbol-narrow"===o?function qr(n,e,t="en"){const r=function mt(n){return(0,h.cg1)(n)[h.wAp.Currencies]}(t)[n]||ge[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(m,"symbol"===o?"wide":"narrow",l):o);try{return Gt(function St(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),l,m,r,u)}catch(E){throw Yr()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},n.\u0275pipe=h.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let zo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function qs(n){return"server"===n}let Ss=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Wt((0,h.LFG)(Ie),window)}),n})();class Wt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Cc(this.window.history)||Cc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Cc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ku extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fu extends ku{static makeCurrent(){!function ee(n){L||(L=n)}(new Fu)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sf(){return dn=dn||document.querySelector("base"),dn?dn.getAttribute("href"):null}();return null==t?null:function pi(n){Yo=Yo||document.createElement("a"),Yo.setAttribute("href",n);const e=Yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Cs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Yo,dn=null,$c=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _o=new h.OlP("EventManagerPlugins");let Fr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_o),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class uf{constructor(e){this._doc=e}}const jc="ng-app-id";let Hc=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qs(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${jc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(jc),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(jc,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Si={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ai=/%COMP%/g,Zp=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gc(n,e){return e.map(t=>t.replace(Ai,n))}let Qo=(()=>{class n{constructor(t,r,o,u,l,m,E,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=m,this.ngZone=E,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=qs(m),this.defaultRenderer=new Bu(t,l,E,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Wc?o.applyToHost(t):o instanceof $u&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,m=this.ngZone,E=this.eventManager,b=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new Wc(E,b,r,this.appId,A,l,m,R);break;case h.ifc.ShadowDom:return new cf(E,b,t,r,l,m,this.nonce,R);default:u=new $u(E,b,r,A,l,m,R)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fr),h.LFG(Hc),h.LFG(h.AFp),h.LFG(Zp),h.LFG(Ie),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Bu{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Si[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Si[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Si[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=j().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function wo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cf extends Bu{constructor(e,t,r,o,u,l,m,E){super(e,u,l,E),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=Gc(o.id,o.styles);for(const A of b){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $u extends Bu{constructor(e,t,r,o,u,l,m,E){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.rendererUsageCount=0,this.styles=E?Gc(E,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Wc extends $u{constructor(e,t,r,o,u,l,m,E){const b=o+"-"+r.id;super(e,t,r,u,l,m,E,b),this.contentAttr=function bt(n){return"_ngcontent-%COMP%".replace(Ai,n)}(b),this.hostAttr=function hd(n){return"_nghost-%COMP%".replace(Ai,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let pd=(()=>{class n extends uf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const qc=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lf=(()=>{class n extends uf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),qc.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const E={};return E.domEventName=o,E.fullKey=l,E}static matchEventFullKeyCode(t,r){let o=Te[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),qc.forEach(l=>{l!==o&&(0,tn[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const md=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function xi(){Fu.makeCurrent()},multi:!0},{provide:Ie,useFactory:function ka(){return(0,h.RDi)(document),document},deps:[]}]),Gn=new h.OlP(""),Tr=[{provide:h.rWj,useClass:class af{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(E){l=l||E,u--,0==u&&r(l)};o.forEach(E=>{E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?j().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],yn=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Kc(){return new h.qLn},deps:[]},{provide:_o,useClass:pd,multi:!0,deps:[Ie,h.R0b,h.Lbi]},{provide:_o,useClass:lf,multi:!0,deps:[Ie]},Qo,Hc,Fr,{provide:h.FYo,useExisting:Qo},{provide:class rs{},useClass:$c,deps:[]},[]];let Zc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gn,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...yn,...Tr],imports:[zo,h.hGG]}),n})(),Yc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ju(){return new Yc((0,h.LFG)(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Jr=P(5592),os=P(4674),kn=P(2459),It=P(2096),Xr=P(5619);const{isArray:Va}=Array,{getPrototypeOf:as,prototype:Xs,keys:pf}=Object;function Ua(n){if(1===n.length){const e=n[0];if(Va(e))return{args:e,keys:null};if(function rl(n){return n&&"object"==typeof n&&as(n)===Xs}(e)){const t=pf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ji=P(2737),Zt=P(7398);const{isArray:us}=Array;function Dd(n){return(0,Zt.U)(e=>function gf(n,e){return us(e)?n(...e):n(e)}(n,e))}var Hi=P(4564);function bo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Ni=P(8251),gi=P(7103);function Ns(...n){const e=(0,Hi.yG)(n),t=(0,Hi.jO)(n),{args:r,keys:o}=Ua(n);if(0===r.length)return(0,kn.D)([],e);const u=new Jr.y(function il(n,e,t=ji.y){return r=>{sl(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let E=0;E<o;E++)sl(e,()=>{const b=(0,kn.D)(n[E],e);let A=!1;b.subscribe((0,Ni.x)(r,R=>{u[E]=R,A||(A=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>bo(o,l):ji.y));return t?u.pipe(Dd(t)):u}function sl(n,e,t){n?(0,gi.f)(t,n,e):e()}const ea=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var To=P(7537);function Rs(...n){return function cs(){return(0,To.J)(1)}()((0,kn.D)(n,(0,Hi.yG)(n)))}var Ba=P(4829);function ol(n){return new Jr.y(e=>{(0,Ba.Xf)(n()).subscribe(e)})}var ta=P(8407);function eo(n,e){const t=(0,os.m)(n)?n:()=>n,r=o=>o.error(t());return new Jr.y(e?o=>e.schedule(r,0,o):r)}var zi=P(6232),mf=P(7394),Ri=P(9360);function $a(){return(0,Ri.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ni.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class al extends Jr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ri.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ni.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mf.w0.EMPTY)}return e}refCount(){return $a()(this)}}var Os=P(8645),ir=P(4664);function Gi(n){return n<=0?()=>zi.E:(0,Ri.e)((e,t)=>{let r=0;e.subscribe((0,Ni.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Ps(n,e){return(0,Ri.e)((t,r)=>{let o=0;t.subscribe((0,Ni.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Un=P(1631);function ja(n){return(0,Ri.e)((e,t)=>{let r=!1;e.subscribe((0,Ni.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function to(n=ul){return(0,Ri.e)((e,t)=>{let r=!1;e.subscribe((0,Ni.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function ul(){return new ea}function ks(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ps((o,u)=>n(o,u,r)):ji.y,Gi(1),t?ja(e):to(()=>new ea))}function mi(n,e){return(0,os.m)(e)?(0,Un.z)(n,e,1):(0,Un.z)(n,1)}var sr=P(9397);function ls(n){return(0,Ri.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Ni.x)(t,void 0,void 0,l=>{u=(0,Ba.Xf)(n(l,ls(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function no(n){return n<=0?()=>zi.E:(0,Ri.e)((e,t)=>{let r=[];e.subscribe((0,Ni.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ra(n){return(0,Ri.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const At="primary",ia=Symbol("RouteTitle");class cl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xo(n){return new cl(n)}function bd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!ll(n[o],e[o]))return!1;return!0}function ll(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function dl(n){return n.length>0?n[n.length-1]:null}function Ur(n){return function Xo(n){return!!n&&(n instanceof Jr.y||(0,os.m)(n.lift)&&(0,os.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,kn.D)(Promise.resolve(n)):(0,It.of)(n)}const Ly={exact:function sa(n,e,t){if(!ua(n.segments,e.segments)||!Ha(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sa(n.children[r],e.children[r],t))return!1;return!0},subset:ei},hl={exact:function yf(n,e){return yi(n,e)},subset:function oa(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ll(n[t],e[t]))},ignored:()=>!0};function Jn(n,e,t){return Ly[t.paths](n.root,e.root,t.matrixParams)&&hl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ei(n,e,t){return aa(n,e,e.segments,t)}function aa(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ua(o,t)||e.hasChildren()||!Ha(o,t,r))}if(n.segments.length===t.length){if(!ua(n.segments,t)||!Ha(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ei(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(ua(n.segments,o)&&Ha(n.segments,o,r)&&n.children[At])&&aa(n.children[At],e,u,r)}}function Ha(n,e,t){return e.every((r,o)=>hl[t](n[o].parameters,r.parameters))}class Br{constructor(e=new Yt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return la.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return w(this)}}class Wi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xo(this.parameters)),this._parameterMap}toString(){return Be(this)}}function ua(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new ca},providedIn:"root"}),n})();class ca{parse(e){const t=new Sd(e);return new Br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${D(e.root,!0)}`,r=function xt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${O(t)}=${O(o)}`).join("&"):`${O(t)}=${O(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function U(n){return encodeURI(n)}(e.fragment)}`:""}`}}const la=new ca;function w(n){return n.segments.map(e=>Be(e)).join("/")}function D(n,e){if(!n.hasChildren())return w(n);if(e){const t=n.children[At]?D(n.children[At],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==At&&r.push(`${o}:${D(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function vf(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===At&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==At&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===At?[D(n.children[At],!1)]:[`${o}:${D(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${w(n)}/${t[0]}`:`${w(n)}/(${t.join("//")})`}}function S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function O(n){return S(n).replace(/%3B/gi,";")}function K(n){return S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fe(n){return decodeURIComponent(n)}function Ge(n){return fe(n.replace(/\+/g,"%20"))}function Be(n){return`${K(n.path)}${function rt(n){return Object.keys(n).map(e=>`;${K(e)}=${K(n[e])}`).join("")}(n.parameters)}`}const Tt=/^[^\/()?;#]+/;function ti(n){const e=n.match(Tt);return e?e[0]:""}const Xn=/^[^\/()?;=#]+/,za=/^[^=?&#]+/,$r=/^[^&#]+/;class Sd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[At]=new Yt(e,t)),r}parseSegment(){const e=ti(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Wi(fe(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function da(n){const e=n.match(Xn);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ti(this.remaining);o&&(r=o,this.capture(r))}e[fe(t)]=fe(r)}parseQueryParam(e){const t=function ds(n){const e=n.match(za);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function hs(n){const e=n.match($r);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Ge(t),u=Ge(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ti(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=At);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[At]:new Yt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Xp(n){return n.segments.length>0?new Yt([],{[At]:n}):n}function Ga(n){const e={};for(const r of Object.keys(n.children)){const u=Ga(n.children[r]);if(r===At&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fl(n){if(1===n.numberOfChildren&&n.children[At]){const e=n.children[At];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}function Wa(n){return n instanceof Br}function _f(n){let e;const o=Xp(function t(u){const l={};for(const E of u.children){const b=t(E);l[E.outlet]=b}const m=new Yt(u.url,l);return u===n&&(e=m),m}(n.root));return e??o}function By(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return g(o,o,o,t,r);const u=function N(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([E,b])=>{m[E]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new x(t,e,r)}(e);if(u.toRoot())return g(o,o,new Yt([],{}),t,r);const l=function le(n,e,t){if(n.isAbsolute)return new W(e,!0,0);if(!t)return new W(e,!1,NaN);if(null===t.parent)return new W(t,!0,0);const r=v(n.commands[0])?0:1;return function $e(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,!1);o=r.segments.length}return new W(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=l.processChildren?qt(l.segmentGroup,l.index,u.commands):dt(l.segmentGroup,l.index,u.commands);return g(o,l.segmentGroup,m,t,r)}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function g(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([E,b])=>{u[E]=Array.isArray(b)?b.map(A=>`${A}`):`${b}`}),l=n===e?t:I(n,e,t);const m=Xp(Ga(l));return new Br(m,u,o)}function I(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:I(u,e,t)}),new Yt(n.segments,r)}class x{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new h.vHH(4003,!1);const o=r.find(p);if(o&&o!==dl(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dt(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return qt(n,e,t);const r=function Oi(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(p(m))break;const E=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&b&&"object"==typeof b&&void 0===b.outlets){if(!Wu(E,b,l))return u;r+=2}else{if(!Wu(E,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Yt(n.segments.slice(0,r.pathIndex),{});return u.children[At]=new Yt(n.segments.slice(r.pathIndex),n.children),qt(u,0,o)}return r.match&&0===o.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?fs(n,e,t):r.match?qt(n,0,o):fs(n,e,t)}function qt(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function Ye(n){return p(n[0])?n[0].outlets:{[At]:n}}(t),o={};if(!r[At]&&n.children[At]&&1===n.numberOfChildren&&0===n.children[At].segments.length){const u=qt(n.children[At],e,t);return new Yt(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=dt(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new Yt(n.segments,o)}}function fs(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(p(u)){const E=wf(u.outlets);return new Yt(r,E)}if(0===o&&v(t[0])){r.push(new Wi(n.segments[e].path,eg(t[0]))),o++;continue}const l=p(u)?u.outlets[At]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&v(m)?(r.push(new Wi(l,eg(m))),o+=2):(r.push(new Wi(l,{})),o++)}return new Yt(r,{})}function wf(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=fs(new Yt([],{}),0,r))}),e}function eg(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Wu(n,e,t){return n==t.path&&yi(e,t.parameters)}const pl="imperative";class ro{constructor(e,t){this.id=e,this.url=t}}class Ad extends ro{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qa extends ro{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xd extends ro{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ka extends ro{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class Za extends ro{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ef extends ro{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Md extends ro{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg extends ro{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gw extends ro{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nd extends ro{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ng{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GC{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _w{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gl,this.attachRef=null}}let gl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _w,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ww{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$y(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$y(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return jy(e,this._root).map(t=>t.value)}}function $y(n,e){if(n===e.value)return e;for(const t of e.children){const r=$y(n,t);if(r)return r}return null}function jy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jy(n,t);if(r.length)return r.unshift(e),r}return[]}class fa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ew extends ww{constructor(e,t){super(e),this.snapshot=t,sg(this,e)}toString(){return this.snapshot.toString()}}function qi(n,e){const t=function Hy(n,e){const l=new qu([],{},{},"",{},At,e,null,{});return new zy("",new fa(l,[]))}(0,e),r=new Xr.X([new Wi("",{})]),o=new Xr.X({}),u=new Xr.X({}),l=new Xr.X({}),m=new Xr.X(""),E=new ml(r,o,l,m,u,At,e,t.root);return E.snapshot=t.root,new Ew(new fa(E,[]),t)}class ml{constructor(e,t,r,o,u,l,m,E){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=E,this.title=this.dataSubject?.pipe((0,Zt.U)(b=>b[ia]))??(0,It.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Zt.U)(e=>xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Zt.U)(e=>xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ig(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Pi(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qu{get title(){return this.data?.[ia]}constructor(e,t,r,o,u,l,m,E,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=E,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zy extends ww{constructor(e,t){super(t),this.url=e,sg(this,t)}toString(){return Iw(this._root)}}function sg(n,e){e.value._routerState=n,e.children.forEach(t=>sg(n,t))}function Iw(n){const e=n.children.length>0?` { ${n.children.map(Iw).join(", ")} } `:"";return`${n.value}${e}`}function og(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yi(e.params,t.params)||n.paramsSubject.next(t.params),function Td(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),yi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Gy(n,e){const t=yi(n.params,e.params)&&function Vy(n,e){return ua(n,e)&&n.every((t,r)=>yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gy(n.parent,e.parent))}let ag=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(gl),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(If,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new WC(t,m,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:E,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class WC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ml?this.route:e===gl?this.childContexts:this.parent.get(e,t)}}const If=new h.OlP("");let Dw=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Ns([r.queryParams,r.params,r.data]).pipe((0,ir.w)(([u,l,m],E)=>(m={...u,...l,...m},0===E?(0,It.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function yl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Wy(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return yl(n,r,o);return yl(n,r)})}(n,e,t);return new fa(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>yl(n,m)),l}}const r=function KC(n){return new ml(new Xr.X(n.url),new Xr.X(n.params),new Xr.X(n.queryParams),new Xr.X(n.fragment),new Xr.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>yl(n,u));return new fa(r,o)}}const vl="ngNavigationCancelingError";function Cw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=bw(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function bw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vl]=!0,r.cancellationCode=e,t&&(r.url=t),r}function qy(n){return Ky(n)&&Wa(n.url)}function Ky(n){return n&&n[vl]}let Zy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[ag],encapsulation:2}),n})();function Jy(n){const e=n.children&&n.children.map(Jy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=Zy),t}function Mo(n){return n.outlet||At}function _l(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eb{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),og(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Rd(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Rd(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Rd(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Rd(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new GC(u.value.snapshot))}),e.children.length&&this.forwardEvent(new rg(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(og(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),og(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=_l(o.snapshot);l.attachRef=null,l.route=o,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Aw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pd{constructor(e,t){this.component=e,this.route=t}}function xw(n,e,t){const r=n._root;return kd(r,e?e._root:null,t,[r.value])}function El(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function kd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Rd(e);return n.children.forEach(l=>{(function tb(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const E=function lM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ua(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ua(n.url,e.url)||!yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gy(n,e)||!yi(n.queryParams,e.queryParams);default:return!Gy(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Aw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),kd(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Pd(m.outlet.component,l))}else l&&Ku(e,m,o),o.canActivateChecks.push(new Aw(r)),kd(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Ku(m,t.getContext(l),o)),o}function Ku(n,e,t){const r=Rd(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Ku(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Pd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Df(n){return"function"==typeof n}function lg(n){return n instanceof ea||"EmptyError"===n?.name}const Il=Symbol("INITIAL_VALUE");function Dl(){return(0,ir.w)(n=>Ns(n.map(e=>e.pipe(Gi(1),function So(...n){const e=(0,Hi.yG)(n);return(0,Ri.e)((t,r)=>{(e?Rs(n,t,e):Rs(n,t)).subscribe(r)})}(Il)))).pipe((0,Zt.U)(e=>{for(const t of e)if(!0!==t){if(t===Il)return Il;if(!1===t||t instanceof Br)return t}return!0}),Ps(e=>e!==Il),Gi(1)))}function bf(n){return(0,ta.z)((0,sr.b)(e=>{if(Wa(e))throw Cw(0,e)}),(0,Zt.U)(e=>!0===e))}class Ya{constructor(e){this.segmentGroup=e||null}}class Vw{constructor(e){this.urlTree=e}}function Fd(n){return eo(new Ya(n))}function ob(n){return eo(new Vw(n))}class ub{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,It.of)(r);if(o.numberOfChildren>1||!o.children[At])return eo(new h.vHH(4e3,!1));o=o.children[At]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Br(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([m,E])=>{l[m]=this.createSegmentGroup(e,E,r,o)}),new Yt(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Cl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dg(n,e,t,r,o){const u=Tf(n,e,t);return u.matched?(r=function Od(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function nv(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,It.of)(!0);const u=o.map(l=>{const m=El(l,n);return Ur(function ug(n){return n&&Df(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,It.of)(u).pipe(Dl(),bf())}(r,e,t).pipe((0,Zt.U)(l=>!0===l?u:{...Cl}))):(0,It.of)(u)}function Tf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Cl}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||bd)(t,n,e);if(!o)return{...Cl};const u={};Object.entries(o.posParams??{}).forEach(([m,E])=>{u[m]=E.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function iv(n,e,t,r){return t.length>0&&function $w(n,e,t){return t.some(r=>hg(n,e,r)&&Mo(r)!==At)}(n,t,r)?{segmentGroup:new Yt(e,Bw(r,new Yt(t,n.children))),slicedSegments:[]}:0===t.length&&function cb(n,e,t){return t.some(r=>hg(n,e,r))}(n,t,r)?{segmentGroup:new Yt(n.segments,Uw(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Yt(n.segments,n.children),slicedSegments:t}}function Uw(n,e,t,r,o){const u={};for(const l of r)if(hg(n,t,l)&&!o[Mo(l)]){const m=new Yt([],{});u[Mo(l)]=m}return{...o,...u}}function Bw(n,e){const t={};t[At]=e;for(const r of n)if(""===r.path&&Mo(r)!==At){const o=new Yt([],{});t[Mo(r)]=o}return t}function hg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Zu{constructor(e,t,r,o,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new ub(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=iv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,At).pipe(ls(t=>{if(t instanceof Vw)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ya?this.noMatchError(t):t}),(0,Zt.U)(t=>{const r=new qu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),o=new fa(r,t),u=new zy("",o),l=function Uy(n,e,t=null,r=null){return By(_f(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,At).pipe(ls(r=>{throw r instanceof Ya?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ig(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,kn.D)(o).pipe(mi(u=>{const l=r.children[u],m=function Sw(n,e){const t=n.filter(r=>Mo(r)===e);return t.push(...n.filter(r=>Mo(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),function Ao(n,e){return(0,Ri.e)(function zu(n,e,t,r,o){return(u,l)=>{let m=t,E=e,b=0;u.subscribe((0,Ni.x)(l,A=>{const R=b++;E=m?n(E,A,R):(m=!0,A),r&&l.next(E)},o&&(()=>{m&&l.next(E),l.complete()})))}}(n,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),ja(null),function na(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ps((o,u)=>n(o,u,r)):ji.y,no(1),t?ja(e):to(()=>new ea))}(),(0,Un.z)(u=>{if(null===u)return Fd(r);const l=pb(u);return function Sf(n){n.sort((e,t)=>e.value.outlet===At?-1:t.value.outlet===At?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,It.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,kn.D)(t).pipe(mi(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,l).pipe(ls(E=>{if(E instanceof Ya)return(0,It.of)(null);throw E}))),ks(m=>!!m),ls(m=>{if(lg(m))return function db(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,It.of)([]):Fd(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,l,m){return function lb(n,e,t,r){return!!(Mo(n)===r||r!==At&&hg(e,t,n))&&("**"===n.path||Tf(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):Fd(o):Fd(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ob(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Un.z)(l=>{const m=new Yt(l,{});return this.processSegment(e,t,m,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:E,remainingSegments:b,positionalParamSegments:A}=Tf(t,o,u);if(!m)return Fd(t);const R=this.applyRedirects.applyRedirectCommands(E,o.redirectTo,A);return o.redirectTo.startsWith("/")?ob(R):this.applyRedirects.lineralizeSegments(o,R).pipe((0,Un.z)(z=>this.processSegment(e,r,t,z.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let m;if("**"===r.path){const E=o.length>0?dl(o).parameters:{},b=new qu(o,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gb(r),Mo(r),r.component??r._loadedComponent??null,r,mb(r));m=(0,It.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=dg(t,r,o,e).pipe((0,Zt.U)(({matched:E,consumedSegments:b,remainingSegments:A,parameters:R})=>E?{snapshot:new qu(b,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gb(r),Mo(r),r.component??r._loadedComponent??null,r,mb(r)),consumedSegments:b,remainingSegments:A}:null));return m.pipe((0,ir.w)(E=>null===E?Fd(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,ir.w)(({routes:b})=>{const A=r._loadedInjector??e,{snapshot:R,consumedSegments:z,remainingSegments:ne}=E,{segmentGroup:Ee,slicedSegments:Ve}=iv(t,z,ne,b);if(0===Ve.length&&Ee.hasChildren())return this.processChildren(A,b,Ee).pipe((0,Zt.U)(wt=>null===wt?null:[new fa(R,wt)]));if(0===b.length&&0===Ve.length)return(0,It.of)([new fa(R,[])]);const je=Mo(r)===u;return this.processSegment(A,b,Ee,Ve,je?At:u,!0).pipe((0,Zt.U)(wt=>[new fa(R,wt)]))}))))}getChildConfig(e,t,r){return t.children?(0,It.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,It.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Lw(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,It.of)(!0);const u=o.map(l=>{const m=El(l,n);return Ur(function Nw(n){return n&&Df(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,It.of)(u).pipe(Dl(),bf())}(e,t,r).pipe((0,Un.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,sr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function rv(n){return eo(bw(!1,3))}())):(0,It.of)({routes:[],injector:e})}}function fb(n){const e=n.value.routeConfig;return e&&""===e.path}function pb(n){const e=[],t=new Set;for(const r of n){if(!fb(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=pb(r.children);e.push(new fa(r.value,o))}return e.filter(r=>!t.has(r))}function gb(n){return n.data||{}}function mb(n){return n.resolve||{}}function fg(n){return"string"==typeof n.title||null===n.title}function No(n){return(0,ir.w)(e=>{const t=n(e);return t?(0,kn.D)(t).pipe((0,Zt.U)(()=>e)):(0,It.of)(e)})}const pa=new h.OlP("ROUTES");let pg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,It.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ur(t.loadComponent()).pipe((0,Zt.U)(sv),(0,sr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ra(()=>{this.componentLoaders.delete(t)})),o=new al(r,()=>new Os.x).pipe($a());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,It.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Zt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,b;return Array.isArray(m)?b=m:(E=m.create(t).injector,b=E.get(pa,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:b.map(Jy),injector:E}}),ra(()=>{this.childrenLoaders.delete(r)})),l=new al(u,()=>new Os.x).pipe($a());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Ur(t()).pipe((0,Zt.U)(sv),(0,Un.z)(r=>r instanceof h.YKP||Array.isArray(r)?(0,It.of)(r):(0,kn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sv(n){return function Hw(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ov=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Os.x,this.configLoader=(0,h.f3M)(pg),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(_r),this.rootContexts=(0,h.f3M)(gl),this.inputBindingEnabled=null!==(0,h.f3M)(If,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,It.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new yw(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new mw(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Xr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ps(r=>0!==r.id),(0,Zt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,ir.w)(r=>{let o=!1,u=!1;return(0,It.of)(r).pipe((0,sr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ir.w)(l=>{const m=t.browserUrlTree.toString(),E=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!E&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new Ka(l.id,t.serializeUrl(r.rawUrl),A,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),zi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Eb(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,It.of)(l).pipe((0,ir.w)(A=>{const R=this.transitions?.getValue();return this.events.next(new Ad(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),R!==this.transitions?.getValue()?zi.E:Promise.resolve(A)}),function dM(n,e,t,r,o,u){return(0,Un.z)(l=>function hb(n,e,t,r,o,u,l="emptyOnly"){return new Zu(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,Zt.U)(({state:m,tree:E})=>({...l,targetSnapshot:m,urlAfterRedirects:E}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,sr.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,r.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const z=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(z,A)}t.browserUrlTree=A.urlAfterRedirects}const R=new Ef(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(R)}));if(E&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:A,extractedUrl:R,source:z,restoredState:ne,extras:Ee}=l,Ve=new Ad(A,this.urlSerializer.serialize(R),z,ne);this.events.next(Ve);const je=qi(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:je,urlAfterRedirects:R,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}},(0,It.of)(r)}{const A="";return this.events.next(new Ka(l.id,t.serializeUrl(r.extractedUrl),A,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),zi.E}}),(0,sr.b)(l=>{const m=new Md(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,Zt.U)(l=>r={...l,guards:xw(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function tv(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,It.of)({...t,guardsResult:!0}):function Cf(n,e,t,r){return(0,kn.D)(n).pipe((0,Un.z)(o=>function Fw(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,It.of)(!0);const l=u.map(m=>{const E=_l(e)??o,b=El(m,E);return Ur(function Ow(n){return n&&Df(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):E.runInContext(()=>b(n,e,t,r))).pipe(ks())});return(0,It.of)(l).pipe(Dl())}(o.component,o.route,t,e,r)),ks(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Un.z)(m=>m&&function Mw(n){return"boolean"==typeof n}(m)?function nb(n,e,t,r){return(0,kn.D)(e).pipe(mi(o=>Rs(function rb(n,e){return null!==n&&e&&e(new ng(n)),(0,It.of)(!0)}(o.route.parent,r),function kw(n,e){return null!==n&&e&&e(new ha(n)),(0,It.of)(!0)}(o.route,r),function sb(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function wl(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ol(()=>{const m=l.guards.map(E=>{const b=_l(l.node)??t,A=El(E,b);return Ur(function ev(n){return n&&Df(n.canActivateChild)}(A)?A.canActivateChild(r,n):b.runInContext(()=>A(r,n))).pipe(ks())});return(0,It.of)(m).pipe(Dl())}));return(0,It.of)(u).pipe(Dl())}(n,o.path,t),function ib(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,It.of)(!0);const o=r.map(u=>ol(()=>{const l=_l(e)??t,m=El(u,l);return Ur(function Rw(n){return n&&Df(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(ks())}));return(0,It.of)(o).pipe(Dl())}(n,o.route,t))),ks(o=>!0!==o,!0))}(r,u,n,e):(0,It.of)(m)),(0,Zt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,sr.b)(l=>{if(r.guardsResult=l.guardsResult,Wa(l.guardsResult))throw Cw(0,l.guardsResult);const m=new tg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),Ps(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),No(l=>{if(l.guards.canActivateChecks.length)return(0,It.of)(l).pipe((0,sr.b)(m=>{const E=new gw(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}),(0,ir.w)(m=>{let E=!1;return(0,It.of)(m).pipe(function jw(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,It.of)(t);let u=0;return(0,kn.D)(o).pipe(mi(l=>function yb(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!fg(o)&&(u[ia]=o.title),function vb(n,e,t,r){const o=function _b(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,It.of)({});const u={};return(0,kn.D)(o).pipe((0,Un.z)(l=>function wb(n,e,t,r){const o=_l(e)??r,u=El(n,o);return Ur(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(ks(),(0,sr.b)(m=>{u[l]=m}))),no(1),function Gu(n){return(0,Zt.U)(()=>n)}(u),ls(l=>lg(l)?zi.E:eo(l)))}(u,n,e,r).pipe((0,Zt.U)(l=>(n._resolvedData=l,n.data=ig(n,t).resolve,o&&fg(o)&&(n.data[ia]=o.title),null)))}(l.route,r,n,e)),(0,sr.b)(()=>u++),no(1),(0,Un.z)(l=>u===o.length?(0,It.of)(t):zi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,sr.b)({next:()=>E=!0,complete:()=>{E||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,sr.b)(m=>{const E=new Nd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}))}),No(l=>{const m=E=>{const b=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,sr.b)(A=>{E.component=A}),(0,Zt.U)(()=>{})));for(const A of E.children)b.push(...m(A));return b};return Ns(m(l.targetSnapshot.root)).pipe(ja(),Gi(1))}),No(()=>this.afterPreactivation()),(0,Zt.U)(l=>{const m=function qC(n,e,t){const r=yl(n,e._root,t?t._root:void 0);return new Ew(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,sr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,Zt.U)(o=>(new eb(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gi(1),(0,sr.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ra(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ls(l=>{if(u=!0,Ky(l)){qy(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new xd(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),qy(l)){const E=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Eb(r.source)};t.scheduleNavigation(E,pl,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new Za(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(E){r.reject(E)}}return zi.E}))}))}cancelNavigationTransition(t,r,o){const u=new xd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Eb(n){return n!==pl}let Ib=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===At);return r}getResolvedTitleForRoute(t){return t.data[ia]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(av)},providedIn:"root"}),n})(),av=(()=>{class n extends Ib{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(fM)},providedIn:"root"}),n})();class hM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fM=(()=>{class n extends hM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Af=new h.OlP("",{providedIn:"root",factory:()=>({})});let Db=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Cb)},providedIn:"root"}),n})(),Cb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fs=(()=>((Fs=Fs||{})[Fs.COMPLETE=0]="COMPLETE",Fs[Fs.FAILED=1]="FAILED",Fs[Fs.REDIRECTING=2]="REDIRECTING",Fs))();function zw(n,e){n.events.pipe(Ps(t=>t instanceof qa||t instanceof xd||t instanceof Za||t instanceof Ka),(0,Zt.U)(t=>t instanceof qa||t instanceof Ka?Fs.COMPLETE:t instanceof xd&&(0===t.code||1===t.code)?Fs.REDIRECTING:Fs.FAILED),Ps(t=>t!==Fs.REDIRECTING),Gi(1)).subscribe(()=>{e()})}function Gw(n){throw n}function gg(n,e,t){return e.parse("/")}const bb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Af,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Gw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Db),this.routeReuseStrategy=(0,h.f3M)(uv),this.titleStrategy=(0,h.f3M)(Ib),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(pa,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(ov),this.urlSerializer=(0,h.f3M)(_r),this.location=(0,h.f3M)(qe),this.componentInputBindingEnabled=!!(0,h.f3M)(If,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),pl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const E={...o};delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Jy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:E}=r,b=E?this.currentUrlTree.fragment:l;let R,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...u};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}null!==A&&(A=this.removeEmptyProps(A));try{R=_f(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return By(R,t,A,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Wa(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,pl,null,r)}navigate(t,r={skipLocationChange:!1}){return function Sr(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...bb}:!1===r?{...cv}:r,Wa(t))return Jn(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Jn(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,E,b;l?(m=l.resolve,E=l.reject,b=l.promise):b=new Promise((R,z)=>{m=R,E=z});const A=this.pendingTasks.add();return zw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:E,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xf=(()=>{class n{constructor(t,r,o,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Os.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const E=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===E||"area"===E,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof qa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps),h.Y36(ml),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Fe))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),n})();class lv{}let Sb=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ps(t=>t instanceof qa),mi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,kn.D)(o).pipe((0,To.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,It.of)(null);const u=o.pipe((0,Un.z)(l=>null===l?(0,It.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,kn.D)([u,l]).pipe((0,To.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ps),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(lv),h.LFG(pg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dv=new h.OlP("");let hv=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ad?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ka&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ls(n,e){return{\u0275kind:n,\u0275providers:e}}function fv(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(ps),o=n.get(pv);1===n.get(gv)&&r.initialNavigation(),n.get(Nb,null,h.XFs.Optional)?.setUpPreloading(),n.get(dv,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const pv=new h.OlP("",{factory:()=>new Os.x}),gv=new h.OlP("",{providedIn:"root",factory:()=>1}),Nb=new h.OlP("");function mv(n){return Ls(0,[{provide:Nb,useExisting:Sb},{provide:lv,useExisting:n}])}const Jw=new h.OlP("ROUTER_FORROOT_GUARD"),yv=[qe,{provide:_r,useClass:ca},ps,gl,{provide:ml,useFactory:function Ab(n){return n.routerState.root},deps:[ps]},pg,[]];function yg(){return new h.PXZ("Router",ps)}let Xw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[yv,[],{provide:pa,multi:!0,useValue:t},{provide:Jw,useFactory:_v,deps:[[ps,new h.FiY,new h.tp0]]},{provide:Af,useValue:r||{}},r?.useHash?{provide:Fe,useClass:ze}:{provide:Fe,useClass:We},{provide:dv,useFactory:()=>{const n=(0,h.f3M)(Ss),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Af),r=(0,h.f3M)(ov),o=(0,h.f3M)(_r);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hv(o,r,n,e,t)}},r?.preloadingStrategy?mv(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:yg},r?.initialNavigation?wv(r):[],r?.bindToComponentInputs?Ls(8,[Dw,{provide:If,useExisting:Dw}]).\u0275providers:[],[{provide:eE,useFactory:fv},{provide:h.tb,multi:!0,useExisting:eE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:pa,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jw,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function _v(n){return"guarded"}function wv(n){return["disabled"===n.initialNavigation?Ls(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(ps);return()=>{e.setUpLocationChangeListener()}}},{provide:gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ls(2,[{provide:gv,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(ps),u=e.get(pv);zw(o,()=>{r(!0)}),e.get(ov).afterPreactivation=()=>(r(!0),u.closed?(0,It.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const eE=new h.OlP("");let rE=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Yu=(()=>{class n extends rE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const io=new h.OlP("NgValueAccessor"),Fb={provide:io,useExisting:(0,h.Gpc)(()=>Vd),multi:!0},EM=new h.OlP("CompositionEventMode");let Vd=(()=>{class n extends rE{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lb(){const n=j()?j().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(EM,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Fb]),h.qOj]}),n})();function Ro(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function iE(n){return null!=n&&"number"==typeof n.length}const ni=new h.OlP("NgValidators"),ga=new h.OlP("NgAsyncValidators"),Nf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class so{static min(e){return function _g(n){return e=>{if(Ro(e.value)||Ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ud(n){return e=>{if(Ro(e.value)||Ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Rf(e)}static requiredTrue(e){return function Bd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ev(n){return Ro(n.value)||Nf.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function wg(n){return e=>Ro(e.value)||!iE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Of(n){return e=>iE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Vb(n){if(!n)return $d;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ro(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return uE(e)}static composeAsync(e){return Ub(e)}}function Rf(n){return Ro(n.value)?{required:!0}:null}function $d(n){return null}function Eg(n){return null!=n}function Iv(n){return(0,h.QGY)(n)?(0,kn.D)(n):n}function sE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oE(n,e){return e.map(t=>t(n))}function Dv(n){return n.map(e=>function aE(n){return!n.validate}(e)?e:t=>e.validate(t))}function uE(n){if(!n)return null;const e=n.filter(Eg);return 0==e.length?null:function(t){return sE(oE(t,e))}}function Cv(n){return null!=n?uE(Dv(n)):null}function Ub(n){if(!n)return null;const e=n.filter(Eg);return 0==e.length?null:function(t){return function nE(...n){const e=(0,Hi.jO)(n),{args:t,keys:r}=Ua(n),o=new Jr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let E=l,b=l;for(let A=0;A<l;A++){let R=!1;(0,Ba.Xf)(t[A]).subscribe((0,Ni.x)(u,z=>{R||(R=!0,b--),m[A]=z},()=>E--,void 0,()=>{(!E||!R)&&(b||u.next(r?bo(r,m):m),u.complete())}))}});return e?o.pipe(Dd(e)):o}(oE(t,e).map(Iv)).pipe((0,Zt.U)(sE))}}function bv(n){return null!=n?Ub(Dv(n)):null}function Ig(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Dg(n){return n._rawValidators}function cE(n){return n._rawAsyncValidators}function Cg(n){return n?Array.isArray(n)?n:[n]:[]}function jd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pf(n,e){const t=Cg(e);return Cg(n).forEach(o=>{jd(t,o)||t.push(o)}),t}function lE(n,e){return Cg(e).filter(t=>!jd(n,t))}class Tv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ki extends Tv{get formDirective(){return null}get path(){return null}}class Qa extends Tv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bb{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kf=(()=>{class n extends Bb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qa,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),ma=(()=>{class n extends Bb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ki,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Ff="VALID",Sg="INVALID",Hd="PENDING",Lf="DISABLED";function Nv(n){return(oo(n)?n.validators:n)||null}function Ag(n,e){return(oo(e)?e.asyncValidators:n)||null}function oo(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Rv(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function Kb(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})}class xg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ff}get invalid(){return this.status===Sg}get pending(){return this.status==Hd}get disabled(){return this.status===Lf}get enabled(){return this.status!==Lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lE(e,this._rawAsyncValidators))}hasValidator(e){return jd(this._rawValidators,e)}hasAsyncValidator(e){return jd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ff,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ff||this.status===Hd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lf:Ff}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hd,this._hasOwnPendingAsyncValidator=!0;const t=Iv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Lf:this.errors?Sg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hd)?Hd:this._anyControlsHaveStatus(Sg)?Sg:Ff}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oo(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function qb(n){return Array.isArray(n)?Cv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zd(n){return Array.isArray(n)?bv(n):n||null}(this._rawAsyncValidators)}}class Mg extends xg{constructor(e,t,r){super(Nv(t),Ag(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Kb(this,0,e),Object.keys(e).forEach(r=>{Rv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Ov extends Mg{}const Qu=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ju}),Ju="always";function Vf(n,e){return[...e.path,n]}function Gd(n,e,t=Ju){Ng(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Yb(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gE(n,e)})}(n,e),function Qb(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ut(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ng(n,e){const t=Dg(n);null!==e.validator?n.setValidators(Ig(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=cE(n);null!==e.asyncValidator?n.setAsyncValidators(Ig(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Ut(e._rawValidators,o),Ut(e._rawAsyncValidators,o)}function Pv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Dg(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=cE(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ut(e._rawValidators,r),Ut(e._rawAsyncValidators,r),t}function gE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kv(n,e){Ng(n,e)}function Rg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Al(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Og(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Vd?t=u:function Xu(n){return Object.getPrototypeOf(n.constructor)===Yu}(u)?r=u:o=u}),o||r||t||null}const Wd={provide:Ki,useExisting:(0,h.Gpc)(()=>Ja)},xl=(()=>Promise.resolve())();let Ja=(()=>{class n extends Ki{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Mg({},Cv(t),bv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Gd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path),o=new Mg({});kv(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Al(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,10),h.Y36(ga,10),h.Y36(Qu,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Wd]),h.qOj]}),n})();function Vv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Pg(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ml=class extends xg{constructor(e=null,t,r){super(Nv(t),Ag(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oo(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Pg(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Pg(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},sT={provide:Qa,useExisting:(0,h.Gpc)(()=>Bf)},_E=(()=>Promise.resolve())();let Bf=(()=>{class n extends Qa{constructor(t,r,o,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new Ml,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Og(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Rg(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){_E.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,h.VuI)(r);_E.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vf(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ki,9),h.Y36(ni,10),h.Y36(ga,10),h.Y36(io,10),h.Y36(h.sBO,8),h.Y36(Qu,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([sT]),h.qOj,h.TTD]}),n})(),qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const oT={provide:io,useExisting:(0,h.Gpc)(()=>Fg),multi:!0};let Fg=(()=>{class n extends Yu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([oT]),h.qOj]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Uv=new h.OlP("NgModelWithFormControlWarning"),uT={provide:Ki,useExisting:(0,h.Gpc)(()=>$f)};let $f=(()=>{class n extends Ki{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Gd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Uf(t.control||null,t,!1),function nT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Al(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Uf(r||null,t),(n=>n instanceof Ml)(o)&&(Gd(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);kv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Jb(n,e){return Pv(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ng(this.form,this),this._oldForm&&Pv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,10),h.Y36(ga,10),h.Y36(Qu,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([uT]),h.qOj,h.TTD]}),n})();const lT={provide:Qa,useExisting:(0,h.Gpc)(()=>Us)};let Us=(()=>{class n extends Qa{set isDisabled(t){}constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Og(0,u)}ngOnChanges(t){this._added||this._setUpControl(),Rg(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Vf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Ki,13),h.Y36(ni,10),h.Y36(ga,10),h.Y36(io,10),h.Y36(Uv,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([lT]),h.qOj,h.TTD]}),n})(),Xa=(()=>{class n{constructor(){this._validator=$d}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$d,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const hT={provide:ni,useExisting:(0,h.Gpc)(()=>Nl),multi:!0};let Nl=(()=>{class n extends Xa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.VuI,this.createValidator=t=>Rf}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([hT]),h.qOj]}),n})(),Yv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[wE]}),n})();class Qv extends xg{constructor(e,t,r){super(Nv(t),Ag(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Kb(this,0,e),e.forEach((r,o)=>{Rv(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Jv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Xv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return Jv(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Mg(o,u)}record(t,r=null){const o=this._reduceControls(t);return new Ov(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Jv(r)?u=r:(u.validators=r,u.asyncValidators=o),new Ml(t,{...u,nonNullable:!0})):new Ml(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new Qv(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ml||t instanceof xg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qu,useValue:t.callSetDisabledState??Ju}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yv]}),n})(),PM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Uv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qu,useValue:t.callSetDisabledState??Ju}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yv]}),n})();var it=P(5861),_T=P(3019),zg=P(3093),wT=P(4552);class ET extends Os.x{constructor(e=1/0,t=1/0,r=wT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=l;E+=2)m=E;m&&r.splice(0,m+1)}}}var IT=P(3020);function RE(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,IT.B)({connector:()=>new ET(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function e_(n,e){return(0,os.m)(e)?(0,ir.w)(()=>n,e):(0,ir.w)(()=>n)}var Hf=P(5137),or=P(543),ya=P(6304),Rl=P(3182);class Zd{constructor(e){return e}}class OE{constructor(){return(0,Rl.C6)()}}const t_=new h.OlP("angularfire2._apps"),CT={provide:Zd,useFactory:function DT(n){return n&&1===n.length?n[0]:new Zd((0,Rl.Mq)())},deps:[[new h.FiY,t_]]},PE={provide:OE,deps:[[new h.FiY,t_]]};function kE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Zd(r)}}let bT=(()=>{class n{constructor(t){(0,Rl.KN)("angularfire",or.q4.full,"core"),(0,Rl.KN)("angularfire",or.q4.full,"app"),(0,Rl.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[CT,PE]}),n})();function FM(n,...e){return{ngModule:bT,providers:[{provide:t_,useFactory:kE(n),multi:!0,deps:[h.R0b,h.zs3,or.HU,...e]}]}}const Gg=(0,or.u3)(Rl.ZF,!0);var tu=P(534),ao=P(4537),wr=P(9058),ar=P(7879);const nu=new Map,zf={activated:!1,tokenObservers:[]},uo={initialized:!1,enabled:!1};function Wn(n){return nu.get(n)||Object.assign({},zf)}function ru(){return uo}const ec="https://content-firebaseappcheck.googleapis.com/v1",Xd="exchangeDebugToken",Ol={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class th{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new wr.BH,yield function LE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wr.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ri=new wr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wg(n){if(!Wn(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function qf(n,e){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,it.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const R=yield o.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(R){throw ri.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw ri.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(R){throw ri.create("fetch-parse-error",{originalErrorMessage:R?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(E[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+b,issuedAtTimeMillis:A}})).apply(this,arguments)}function xT(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${ec}/projects/${t}/apps/${r}:${Xd}?key=${o}`,body:{debug_token:e}}}const UM="firebase-app-check-database",MT=1,Kf="firebase-app-check-store";let Zg=null;function Zf(){return(Zf=(0,it.Z)(function*(n,e){const r=(yield function RT(){return Zg||(Zg=new Promise((n,e)=>{try{const t=indexedDB.open(UM,MT);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ri.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kf,{keyPath:"compositeKey"})}}catch(t){e(ri.create("storage-open",{originalErrorMessage:t?.message}))}}),Zg)}()).transaction(Kf,"readwrite"),u=r.objectStore(Kf).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=E=>{l()},r.onerror=E=>{var b;m(ri.create("storage-set",{originalErrorMessage:null===(b=E.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const ih=new ar.Yd("@firebase/app-check");function i_(n,e){return(0,wr.hl)()?function PT(n,e){return function nh(n,e){return Zf.apply(this,arguments)}(function rh(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ih.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function o_(){return ru().enabled}function Qf(){return sh.apply(this,arguments)}function sh(){return(sh=(0,it.Z)(function*(){const n=ru();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BM={error:"UNKNOWN_ERROR"};function VT(n){return wr.US.encodeString(JSON.stringify(n),!1)}function Jg(n){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,it.Z)(function*(n,e=!1){const t=n.app;Wg(t);const r=Wn(t);let u,o=r.token;if(o&&!oh(o)&&(r.token=void 0,o=void 0),!o){const E=yield r.cachedTokenPromise;E&&(oh(E)?o=E:yield i_(t,void 0))}if(!e&&o&&oh(o))return{token:o.token};let m,l=!1;if(o_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qf(xT(t,yield Qf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const E=yield r.exchangeTokenPromise;return yield i_(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Wn(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?ih.warn(E.message):ih.error(E),u=E}return o?u?m=oh(o)?{token:o.token,internalError:u}:$E(u):(m={token:o.token},r.token=o,yield i_(t,o)):m=$E(u),l&&function l_(n,e){const t=Wn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function UE(n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,it.Z)(function*(n){const e=n.app;Wg(e);const{provider:t}=Wn(e);if(o_()){const r=yield Qf(),{token:o}=yield qf(xT(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function u_(n,e){const t=Wn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function c_(n){const{app:e}=n,t=Wn(e);let r=t.tokenRefresher;r||(r=function BE(n){const{app:e}=n;return new th((0,it.Z)(function*(){let r;if(r=Wn(e).token?yield Jg(n,!0):yield Jg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ol.RETRIAL_MIN_WAIT,Ol.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function oh(n){return n.expireTimeMillis-Date.now()>0}function $E(n){return{token:VT(BM),error:n}}class UT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wn(this.app);for(const t of e)u_(this.app,t.next);return Promise.resolve()}}const JE="app-check-internal";!function GT(){(0,tu._registerComponent)(new ao.wA("app-check",n=>function jE(n,e){return new UT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JE).initialize()})),(0,tu._registerComponent)(new ao.wA(JE,n=>function d_(n){return{getToken:e=>Jg(n,e),getLimitedUseToken:()=>UE(n),addTokenListener:e=>function a_(n,e,t,r){const{app:o}=n,u=Wn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&oh(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),c_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>c_(n))}(n,"INTERNAL",e),removeTokenListener:e=>u_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tu.registerVersion)("@firebase/app-check","0.8.0")}();class sm{constructor(){return(0,or.vb)("app-check")}}typeof window<"u"&&window;var __=P(7142);const GM=new h.OlP("angularfire2.auth.use-emulator"),YT=new h.OlP("angularfire2.auth.settings"),QT=new h.OlP("angularfire2.auth.tenant-id"),iI=new h.OlP("angularfire2.auth.langugage-code"),JT=new h.OlP("angularfire2.auth.use-device-language"),jr=new h.OlP("angularfire.auth.persistence");let am=(()=>{class n{constructor(t,r,o,u,l,m,E,b,A,R,z,ne){const Ee=new Os.x,Ve=(0,It.of)(void 0).pipe((0,zg.Q)(l.outsideAngular),(0,ir.w)(()=>u.runOutsideAngular(()=>P.e(365).then(P.bind(P,6365)))),(0,Zt.U)(()=>(0,ya.on)(t,u,r)),(0,Zt.U)(je=>((n,e,t,r,o,u,l,m)=>(0,ya.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),l)for(const[b,A]of Object.entries(l))E.settings[b]=A;return m&&E.setPersistence(m),E},[t,r,o,u,l,m]))(je,u,m,b,A,R,E,z)),RE({bufferSize:1,refCount:!1}));if(qs(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{Ve.pipe(ks()).subscribe();const wt=Ve.pipe((0,ir.w)(Ht=>Ht.getRedirectResult().then(cn=>cn,()=>null)),or.iC,RE({bufferSize:1,refCount:!1})),Lt=Ve.pipe((0,ir.w)(Ht=>new Jr.y(cn=>({unsubscribe:u.runOutsideAngular(()=>Ht.onAuthStateChanged(_n=>cn.next(_n),_n=>cn.error(_n),()=>cn.complete()))})))),Pt=Ve.pipe((0,ir.w)(Ht=>new Jr.y(cn=>({unsubscribe:u.runOutsideAngular(()=>Ht.onIdTokenChanged(_n=>cn.next(_n),_n=>cn.error(_n),()=>cn.complete()))}))));this.authState=wt.pipe(e_(Lt),(0,Hf.R)(l.outsideAngular),(0,zg.Q)(l.insideAngular)),this.user=wt.pipe(e_(Pt),(0,Hf.R)(l.outsideAngular),(0,zg.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,ir.w)(Ht=>Ht?(0,kn.D)(Ht.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe((0,ir.w)(Ht=>Ht?(0,kn.D)(Ht.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,_T.T)(wt,Ee,this.authState.pipe(Ps(Ht=>!Ht))).pipe((0,Zt.U)(Ht=>Ht?.user?Ht:null),(0,Hf.R)(l.outsideAngular),(0,zg.Q)(l.insideAngular))}return(0,ya.pX)(this,Ve,u,{spy:{apply:(je,wt,Lt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&Lt.then(Pt=>Ee.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ya.Dh),h.LFG(ya.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(or.HU),h.LFG(GM,8),h.LFG(YT,8),h.LFG(QT,8),h.LFG(iI,8),h.LFG(JT,8),h.LFG(jr,8),h.LFG(sm,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),XT=(()=>{class n{constructor(){__.Z.registerVersion("angularfire",or.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[am]}),n})();var Xe,oI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oo={},um=um||{},Mt=oI||self;function cm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var w_="closure_uid_"+(1e9*Math.random()>>>0),uI=0;function WM(n,e,t){return n.call.apply(n.bind,arguments)}function E_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ii(n,e,t){return(ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WM:E_).apply(null,arguments)}function Bs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function si(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function iu(){this.s=this.s,this.o=this.o}iu.prototype.s=!1,iu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function aI(n){Object.prototype.hasOwnProperty.call(n,w_)&&n[w_]||(n[w_]=++uI)}(this)},iu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const co=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $s(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function I_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(cm(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function vi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}vi.prototype.h=function(){this.defaultPrevented=!0};var eS=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",()=>{},e),Mt.removeEventListener("test",()=>{},e)}catch{}return n}();function np(n){return/^[\s\xa0]*$/.test(n)}function lm(){var n=Mt.navigator;return n&&(n=n.userAgent)?n:""}function _a(n){return-1!=lm().indexOf(n)}function rp(n){return rp[" "](n),n}rp[" "]=function(){};var b_,n,tS=_a("Opera"),Fl=_a("Trident")||_a("MSIE"),cI=_a("Edge"),D_=cI||Fl,C_=_a("Gecko")&&!(-1!=lm().toLowerCase().indexOf("webkit")&&!_a("Edge"))&&!(_a("Trident")||_a("MSIE"))&&!_a("Edge"),lI=-1!=lm().toLowerCase().indexOf("webkit")&&!_a("Edge");function sp(){var n=Mt.document;return n?n.documentMode:void 0}e:{var dm="",hm=(n=lm(),C_?/rv:([^\);]+)(\)|;)/.exec(n):cI?/Edge\/([\d\.]+)/.exec(n):Fl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lI?/WebKit\/(\S+)/.exec(n):tS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hm&&(dm=hm?hm[1]:""),Fl){var fm=sp();if(null!=fm&&fm>parseFloat(dm)){b_=String(fm);break e}}b_=dm}var S_=Mt.document&&Fl&&(sp()||parseInt(b_,10))||void 0;function tc(n,e){if(vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(C_){e:{try{rp(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tc.$.h.call(this)}}si(tc,vi);var hI={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),fI=0;function pI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++fI,this.fa=this.ia=!1}function op(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function pm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function A_(n){const e={};for(const t in n)e[t]=n[t];return e}const mI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<mI.length;u++)t=mI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function gm(n){this.src=n,this.g={},this.h=0}function x_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=co(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(op(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function M_(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}gm.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=M_(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new pI(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var N_="closure_lm_"+(1e6*Math.random()|0),R_={};function vI(n,e,t,r,o){if(r&&r.once)return wI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vI(n,e[u],t,r,o);return null}return t=F_(t),n&&n[uh]?n.O(e,t,tp(r)?!!r.capture:!!r,o):_I(n,e,t,!1,r,o)}function _I(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=tp(o)?!!o.capture:!!o,m=P_(n);if(m||(n[N_]=m=new gm(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function nS(){const e=rS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eS||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(II(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function wI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)wI(n,e[u],t,r,o);return null}return t=F_(t),n&&n[uh]?n.P(e,t,tp(r)?!!r.capture:!!r,o):_I(n,e,t,!0,r,o)}function EI(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)EI(n,e[u],t,r,o);else r=tp(r)?!!r.capture:!!r,t=F_(t),n&&n[uh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=M_(u=n.g[e],t,r,o))&&(op(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=P_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=M_(e,t,r,o)),(t=-1<n?e[n]:null)&&O_(t))}function O_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[uh])x_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(II(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=P_(e))?(x_(t,n),0==t.h&&(t.src=null,e[N_]=null)):op(n)}}}function II(n){return n in R_?R_[n]:R_[n]="on"+n}function rS(n,e){if(n.fa)n=!0;else{e=new tc(e,this);var t=n.listener,r=n.la||n.src;n.ia&&O_(n),n=t.call(r,e)}return n}function P_(n){return(n=n[N_])instanceof gm?n:null}var k_="__closure_events_fn_"+(1e9*Math.random()>>>0);function F_(n){return"function"==typeof n?n:(n[k_]||(n[k_]=function(e){return n.handleEvent(e)}),n[k_])}function Hr(){iu.call(this),this.i=new gm(this),this.S=this,this.J=null}function oi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new vi(e,n);else if(e instanceof vi)e.target=e.target||n;else{var o=e;yI(e=new vi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=ap(l,r,!0,e)&&o}if(o=ap(l=e.g=n,r,!0,e)&&o,o=ap(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=ap(l=e.g=t[u],r,!1,e)&&o}function ap(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,E=l.la||l.src;l.ia&&x_(n.i,l),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}si(Hr,iu),Hr.prototype[uh]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){EI(this,n,e,t,r)},Hr.prototype.N=function(){if(Hr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)op(t[r]);delete n.g[e],n.h--}}this.J=null},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var mm=Mt.JSON.stringify;function CI(){var n=V_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var L_=new class DI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new TI,n=>n.reset());class TI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function SI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function AI(n){Mt.setTimeout(()=>{throw n},0)}let Po,up=!1,V_=new class bI{constructor(){this.h=this.g=null}add(e,t){const r=L_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ll=()=>{const n=Mt.Promise.resolve(void 0);Po=()=>{n.then(qM)}};var qM=()=>{for(var n;n=CI();){try{n.h.call(n.g)}catch(t){AI(t)}var e=L_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}up=!1};function ch(n,e){Hr.call(this),this.h=n||1,this.g=e||Mt,this.j=ii(this.qb,this),this.l=Date.now()}function xI(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ym(n,e,t){if("function"==typeof n)t&&(n=ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function U_(n){n.g=ym(()=>{n.g=null,n.i&&(n.i=!1,U_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}si(ch,Hr),(Xe=ch.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oi(this,"tick"),this.ga&&(xI(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){ch.$.N.call(this),xI(this),delete this.g};class KM extends iu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:U_(this)}N(){super.N(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(n){iu.call(this),this.h=n,this.g={}}si(Dt,iu);var MI=[];function NI(n,e,t,r){Array.isArray(t)||(t&&(MI[0]=t.toString()),t=MI);for(var o=0;o<t.length;o++){var u=vI(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function RI(n){pm(n.g,function(e,t){this.g.hasOwnProperty(t)&&O_(e)},n),n.g={}}function su(){this.g=!0}function ou(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return mm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Dt.prototype.N=function(){Dt.$.N.call(this),RI(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},su.prototype.Ea=function(){this.g=!1},su.prototype.info=function(){};var nc={},B_=null;function _m(){return B_=B_||new Hr}function $_(n){vi.call(this,nc.Ta,n)}function lh(n){const e=_m();oi(e,new $_(e))}function j_(n,e){vi.call(this,nc.STAT_EVENT,n),this.stat=e}function ki(n){const e=_m();oi(e,new j_(e,n))}function OI(n,e){vi.call(this,nc.Ua,n),this.size=e}function cp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}nc.Ta="serverreachability",si($_,vi),nc.STAT_EVENT="statevent",si(j_,vi),nc.Ua="timingevent",si(OI,vi);var wm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function H_(){}function kI(){}H_.prototype.h=null;var Dm,rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Em(){vi.call(this,"d")}function Im(){vi.call(this,"c")}function Cm(){}function au(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Dt(this),this.P=sS,this.V=new ch(n=D_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hh}function hh(){this.i=null,this.g="",this.h=!1}si(Em,vi),si(Im,vi),si(Cm,H_),Cm.prototype.g=function(){return new XMLHttpRequest},Cm.prototype.i=function(){return{}},Dm=new Cm;var sS=45e3,z_={},bm={};function Tm(n,e,t){n.L=1,n.v=Nm(uu(e)),n.s=t,n.S=!0,G_(n,null)}function G_(n,e){n.G=Date.now(),lp(n),n.A=uu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),KI(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hh,n.g=_S(n.l,t?e:null,!n.s),0<n.O&&(n.M=new KM(ii(n.Pa,n,n.g),n.O)),NI(n.U,n.g,"readystatechange",n.nb),e=n.I?A_(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),lh(),function iS(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),E=0;E<m.length;E++){var b=m[E].split("=");if(1<b.length){var A=b[0];b=b[1];var R=A.split("_");l=2<=R.length&&"type"==R[1]?l+(A+"=")+b+"&":l+(A+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function W_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function FI(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=LI(n,t),o==bm){4==e&&(n.o=4,ki(14),r=!1),ou(n.j,n.m,null,"[Incomplete Response]");break}if(o==z_){n.o=4,ki(15),ou(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ou(n.j,n.m,o,null),UI(n,o)}W_(n)&&o!=bm&&o!=z_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),o0(e),e.M=!0,ki(11))):(ou(n.j,n.m,t,"[Invalid Chunked Response]"),fh(n),Sm(n))}function LI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bm:(t=Number(e.substring(t,r)),isNaN(t)?z_:(r+=1)+t>e.length?bm:(e=e.slice(r,r+t),n.C=r+t,e))}function lp(n){n.Y=Date.now()+n.P,VI(n,n.P)}function VI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cp(ii(n.lb,n),e)}function q_(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Sm(n){0==n.l.H||n.J||a0(n.l,n)}function fh(n){q_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,xI(n.V),RI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function UI(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Pm(t.i,n)))if(!n.K&&Pm(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bm(t),mp(t)}s0(t),ki(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=cp(ii(t.ib,t),6e3));if(1>=QI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ic(t,11)}else if((n.K||t.g==n)&&Bm(t),!np(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const A=b[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const R=b[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const z=b[5];null!=z&&"number"==typeof z&&0<z&&(t.L=r=1.5*z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ne=n.g;if(ne){const Ee=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var u=r.i;u.g||-1==Ee.indexOf("spdy")&&-1==Ee.indexOf("quic")&&-1==Ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(K_(u,u.h),u.h=null))}if(r.F){const Ve=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,qn(r.I,r.F,Ve))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=uD(r,r.J?r.pa:null,r.Y),l.K){JI(r.i,l);var m=l,E=r.L;E&&m.setTimeout(E),m.B&&(q_(m),lp(m)),r.g=l}else r0(r);0<t.j.length&&yp(t)}else"stop"!=b[0]&&"close"!=b[0]||ic(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?ic(t,7):Um(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}lh()}catch{}}function $I(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Am(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function BI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Xe=au.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Zi(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const A=Zi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||D_||this.g&&(this.h.h||this.g.ja()||X_(this.g)))){this.J||4!=A||7==e||lh(),q_(this);var t=this.g.da();this.ca=t;t:if(W_(this)){var r=X_(this.g);n="";var o=r.length,u=4==Zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fh(this),Sm(this);var l="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function vm(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!np(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,ki(12),fh(this),Sm(this);break e}ou(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UI(this,t)}this.S?(FI(this,A,l),D_&&this.i&&3==A&&(NI(this.U,this.V,"tick",this.mb),this.V.start())):(ou(this.j,this.m,l,null),UI(this,l)),4==A&&fh(this),this.i&&!this.J&&(4==A?a0(this.l,this):(this.i=!1,lp(this)))}else(function mS(n){const e={};n=(n.g&&2<=Zi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(np(n[r]))continue;var t=SI(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function gI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),fh(this),Sm(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Zi(this.g),e=this.g.ja();this.C<e.length&&(q_(this),FI(this,n,e),this.i&&4!=n&&lp(this))}},Xe.cancel=function(){this.J=!0,fh(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ur(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(lh(),ki(17)),fh(this),this.o=2,Sm(this)):VI(this,this.Y-n)};var jI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ko){this.h=n.h,xm(this,n.j),this.s=n.s,this.g=n.g,Mm(this,n.m),this.l=n.l;var e=n.i,t=new hp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zI(this,t),this.o=n.o}else n&&(e=String(n).match(jI))?(this.h=!1,xm(this,e[1]||"",!0),this.s=ph(e[2]||""),this.g=ph(e[3]||"",!0),Mm(this,e[4]),this.l=ph(e[5]||"",!0),zI(this,e[6]||"",!0),this.o=ph(e[7]||"")):(this.h=!1,this.i=new hp(null,this.h))}function uu(n){return new ko(n)}function xm(n,e,t){n.j=t?ph(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zI(n,e,t){e instanceof hp?(n.i=e,function ZI(n,e){e&&!n.j&&(cu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(qI(this,r),KI(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dp(e,uS)),n.i=new hp(e,n.h))}function qn(n,e,t){n.i.set(e,t)}function Nm(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ph(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,oS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ko.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dp(e,gh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dp(e,gh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dp(t,"/"==t.charAt(0)?GI:aS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dp(t,WI)),n.join("")};var gh=/[#\/\?@]/g,aS=/[#\?:]/g,GI=/[#\?]/g,uS=/[#\?@]/g,WI=/#/g;function hp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cu(n){n.g||(n.g=new Map,n.h=0,n.i&&function HI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qI(n,e){cu(n),e=Vl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Rm(n,e){return cu(n),e=Vl(n,e),n.g.has(e)}function KI(n,e,t){qI(n,e),0<t.length&&(n.i=null,n.g.set(Vl(n,e),$s(t)),n.h+=t.length)}function Vl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YI(n){this.l=n||lS,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ka&&Mt.g.Ka()&&Mt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=hp.prototype).add=function(n,e){cu(this),this.i=null,n=Vl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){cu(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Xe.ta=function(){cu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Xe.Z=function(n){cu(this);let e=[];if("string"==typeof n)Rm(this,n)&&(e=e.concat(this.g.get(Vl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return cu(this),this.i=null,Rm(this,n=Vl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var lS=10;function Om(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QI(n){return n.h?1:n.g?n.g.size:0}function Pm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K_(n,e){n.g?n.g.add(e):n.h=e}function JI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return $s(n.i)}YI.prototype.cancel=function(){if(this.i=XI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var dS=class{stringify(n){return Mt.JSON.stringify(n,void 0)}parse(n){return Mt.JSON.parse(n,void 0)}};function hS(){this.g=new dS}function fS(n,e,t){const r=t||"";try{$I(n,function(o,u){let l=o;tp(o)&&(l=mm(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function km(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function mh(n){this.l=n.fc||null,this.j=n.ob||!1}function fp(n,e){Hr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Z_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}si(mh,H_),mh.prototype.g=function(){return new fp(this.l,this.j)},mh.prototype.i=function(n){return function(){return n}}({}),si(fp,Hr);var Z_=0;function eD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function yh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pp(n)}function pp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=fp.prototype).open=function(n,e){if(this.readyState!=Z_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pp(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Mt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yh(this)),this.readyState=Z_},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pp(this)),this.g&&(this.readyState=3,pp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yh(this):pp(this),3==this.readyState&&eD(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,yh(this))},Xe.Ya=function(n){this.g&&(this.response=n,yh(this))},Xe.ka=function(){this.g&&yh(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gS=Mt.JSON.parse;function cr(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Fm,this.L=this.M=!1}si(cr,Hr);var Fm="",Y_=/^https?$/i,tD=["POST","PUT"];function nD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rD(n),Vm(n)}function rD(n){n.F||(n.F=!0,oi(n,"complete"),oi(n,"error"))}function Lm(n){if(n.h&&typeof um<"u"&&(!n.C[1]||4!=Zi(n)||2!=n.da()))if(n.v&&4==Zi(n))ym(n.La,0,n);else if(oi(n,"readystatechange"),4==Zi(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(jI)[1]||null;!o&&Mt.self&&Mt.self.location&&(o=Mt.self.location.protocol.slice(0,-1)),r=!Y_.test(o?o.toLowerCase():"")}t=r}if(t)oi(n,"complete"),oi(n,"success");else{n.m=6;try{var u=2<Zi(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",rD(n)}}finally{Vm(n)}}}function Vm(n,e){if(n.g){J_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||oi(n,"ready");try{t.onreadystatechange=r}catch{}}}function J_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Zi(n){return n.g?n.g.readyState:0}function X_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Fm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yS(n){let e="";return pm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function gp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=yS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function Ul(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iD(n){this.Ga=0,this.j=[],this.l=new su,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ul("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ul("baseRetryDelayMs",5e3,n),this.hb=Ul("retryDelaySeedMs",1e4,n),this.eb=Ul("forwardChannelMaxRetries",2,n),this.xa=Ul("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new YI(n&&n.concurrentRequestLimit),this.Ja=new hS,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Um(n){if(sD(n),3==n.H){var e=n.W++,t=uu(n.I);if(qn(t,"SID",n.K),qn(t,"RID",e),qn(t,"TYPE","terminate"),vh(n,t),(e=new au(n,n.l,e)).L=2,e.v=Nm(uu(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon)try{t=Mt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_S(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lp(e)}aD(n)}function mp(n){n.g&&(o0(n),n.g.cancel(),n.g=null)}function sD(n){mp(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),Bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function yp(n){if(!Om(n.i)&&!n.m){n.m=!0;var e=n.Na;Po||Ll(),up||(Po(),up=!0),V_.add(e,n),n.C=0}}function t0(n,e){var t;t=e?e.m:n.W++;const r=uu(n.I);qn(r,"SID",n.K),qn(r,"RID",t),qn(r,"AID",n.V),vh(n,r),n.o&&n.s&&gp(r,n.o,n.s),t=new au(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=n0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),K_(n.i,t),Tm(t,r,e)}function vh(n,e){n.na&&pm(n.na,function(t,r){qn(e,r,t)}),n.h&&$I({},function(t,r){qn(e,r,t)})}function n0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ii(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let b=o[E].g;const A=o[E].map;if(b-=u,0>b)u=Math.max(0,o[E].g-100),m=!1;else try{fS(A,l,"req"+b+"_")}catch{r&&r(A)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function r0(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Po||Ll(),up||(Po(),up=!0),V_.add(e,n),n.A=0}}function s0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=cp(ii(n.Ma,n),vS(n,n.A)),n.A++,0))}function o0(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function oD(n){n.g=new au(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=uu(n.wa);qn(e,"RID","rpc"),qn(e,"SID",n.K),qn(e,"AID",n.V),qn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&qn(e,"TO",n.qa),qn(e,"TYPE","xmlhttp"),vh(n,e),n.o&&n.s&&gp(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Nm(uu(e)),t.s=null,t.S=!0,G_(t,n)}function Bm(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function a0(n,e){var t=null;if(n.g==e){Bm(n),o0(n),n.g=null;var r=2}else{if(!Pm(n.i,e))return;t=e.F,JI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;oi(r=_m(),new OI(r,t)),yp(n)}else r0(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function e0(n,e){return!(QI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=cp(ii(n.Na,n,e),vS(n,n.C)),n.C++,0)))}(n,e)||2==r&&s0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:ic(n,5);break;case 4:ic(n,10);break;case 3:ic(n,6);break;default:ic(n,2)}}function vS(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ic(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ii(n.pb,n);t||(t=new ko("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||xm(t,"https"),Nm(t)),function pS(n,e){const t=new su;if(Mt.Image){const r=new Image;r.onload=Bs(km,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bs(km,t,r,"TestLoadImage: error",!1,e),r.onabort=Bs(km,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bs(km,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ki(2);n.H=0,n.h&&n.h.za(e),aD(n),sD(n)}function aD(n){if(n.H=0,n.ma=[],n.h){const e=XI(n.i);(0!=e.length||0!=n.j.length)&&(I_(n.ma,e),I_(n.ma,n.j),n.i.i.length=0,$s(n.j),n.j.length=0),n.h.ya()}}function uD(n,e,t){var r=t instanceof ko?uu(t):new ko(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Mm(r,r.m);else{var o=Mt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new ko(null);r&&xm(u,r),e&&(u.g=e),o&&Mm(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&qn(r,t,e),qn(r,"VER",n.ra),vh(n,r),r}function _S(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&n.Ha&&!n.va?new mh({ob:!0}):n.va)).Oa(n.J),e}function cD(){}function $m(){if(Fl&&!(10<=Number(S_)))throw Error("Environmental error: no available transport.")}function js(n,e){Hr.call(this),this.g=new iD(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!np(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!np(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _h(this)}function u0(n){Em.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lD(){Im.call(this),this.status=1}function _h(n){this.g=n}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function c0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function In(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(Xe=cr.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dm.g(),this.C=function PI(n){return n.h||(n.h=n.i())}(this.u?this.u:Dm),this.g.onreadystatechange=ii(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void nD(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Mt.FormData&&n instanceof Mt.FormData,!(0<=co(tD,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{J_(this),0<this.B&&((this.L=function Q_(n){return Fl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.ua,this)):this.A=ym(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){nD(this,u)}},Xe.ua=function(){typeof um<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oi(this,"complete"),oi(this,"abort"),Vm(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),cr.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?Lm(this):this.kb())},Xe.kb=function(){Lm(this)},Xe.isActive=function(){return!!this.g},Xe.da=function(){try{return 2<Zi(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gS(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=iD.prototype).ra=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new au(this,this.l,n);let u=this.s;if(this.U&&(u?(u=A_(u),yI(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n0(this,o,e),qn(t=uu(this.I),"RID",n),qn(t,"CVER",22),this.F&&qn(t,"X-HTTP-Session-Id",this.F),vh(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(yS(u)))+"&"+e:this.o&&gp(t,this.o,u)),K_(this.i,o),this.bb&&qn(t,"TYPE","init"),this.P?(qn(t,"$req",e),qn(t,"SID","null"),o.aa=!0,Tm(o,t,null)):Tm(o,t,e),this.H=2}}else 3==this.H&&(n?t0(this,n):0==this.j.length||Om(this.i)||t0(this))},Xe.Ma=function(){if(this.u=null,oD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cp(ii(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ki(10),mp(this),oD(this))},Xe.ib=function(){null!=this.v&&(this.v=null,mp(this),s0(this),ki(19))},Xe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ki(2)):(this.l.info("Failed to ping google.com"),ki(1))},Xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xe=cD.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.isActive=function(){return!0},Xe.Va=function(){},$m.prototype.g=function(n,e){return new js(n,e)},si(js,Hr),js.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ki(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uD(n,null,n.Y),yp(n)},js.prototype.close=function(){Um(this.g)},js.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=mm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yp(e)},js.prototype.N=function(){this.g.h=null,delete this.j,Um(this.g),delete this.g,js.$.N.call(this)},si(u0,Em),si(lD,Im),si(_h,cD),_h.prototype.Ba=function(){oi(this.g,"a")},_h.prototype.Aa=function(n){oi(this.g,new u0(n))},_h.prototype.za=function(n){oi(this.g,new lD)},_h.prototype.ya=function(){oi(this.g,"b")},si(Fo,function wS(){this.blockSize=-1}),Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)c0(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){c0(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){c0(this,r),o=0;break}}this.h=o,this.i+=e},Fo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var ES={};function l0(n){return-128<=n&&128>n?function ip(n,e){var t=ES;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new In([0|e],0>e?-1:0)}):new In([0|n],0>n?-1:0)}function gs(n){if(isNaN(n)||!isFinite(n))return Bl;if(0>n)return Fi(gs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=jm;return new In(e,0)}var jm=4294967296,Bl=l0(0),Hm=l0(1),h0=l0(16777216);function wa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function lo(n){return-1==n.h}function Fi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new In(t,~n.h).add(Hm)}function vp(n,e){return n.add(Fi(e))}function zm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _p(n,e){this.g=n,this.h=e}function wp(n,e){if(wa(e))throw Error("division by zero");if(wa(n))return new _p(Bl,Bl);if(lo(n))return e=wp(Fi(n),e),new _p(Fi(e.g),Fi(e.h));if(lo(e))return e=wp(n,Fi(e)),new _p(Fi(e.g),e.h);if(30<n.g.length){if(lo(n)||lo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Hm,r=e;0>=r.X(n);)t=dD(t),r=dD(r);var o=Ea(t,1),u=Ea(r,1);for(r=Ea(r,2),t=Ea(t,2);!wa(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=Ea(r,1),t=Ea(t,1)}return e=vp(n,o.R(e)),new _p(o,e)}for(o=Bl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=gs(t)).R(e);lo(l)||0<l.X(n);)l=(u=gs(t-=r)).R(e);wa(u)&&(u=Hm),o=o.add(u),n=vp(n,l)}return new _p(o,n)}function dD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new In(t,n.h)}function Ea(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new In(o,n.h)}(Xe=In.prototype).ea=function(){if(lo(this))return-Fi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:jm+r)*e,e*=jm}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(wa(this))return"0";if(lo(this))return"-"+Fi(this).toString(n);for(var e=gs(Math.pow(n,6)),t=this,r="";;){var o=wp(t,e).g,u=((0<(t=vp(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(wa(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return lo(n=vp(this,n))?-1:wa(n)?0:1},Xe.abs=function(){return lo(this)?Fi(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new In(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(wa(this)||wa(n))return Bl;if(lo(this))return lo(n)?Fi(this).R(Fi(n)):Fi(Fi(this).R(n));if(lo(n))return Fi(this.R(Fi(n)));if(0>this.X(h0)&&0>n.X(h0))return gs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(o)>>>16,E=65535&n.D(o);t[2*r+2*o]+=l*E,zm(t,2*r+2*o),t[2*r+2*o+1]+=u*E,zm(t,2*r+2*o+1),t[2*r+2*o+1]+=l*m,zm(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,zm(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new In(t,0)},Xe.gb=function(n){return wp(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new In(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new In(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new In(t,this.h^n.h)},$m.prototype.createWebChannel=$m.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,wm.NO_ERROR=0,wm.TIMEOUT=8,wm.HTTP_ERROR=6,dh.COMPLETE="complete",kI.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",Hr.prototype.listen=Hr.prototype.O,cr.prototype.listenOnce=cr.prototype.P,cr.prototype.getLastError=cr.prototype.Sa,cr.prototype.getLastErrorCode=cr.prototype.Ia,cr.prototype.getStatus=cr.prototype.da,cr.prototype.getResponseJson=cr.prototype.Wa,cr.prototype.getResponseText=cr.prototype.ja,cr.prototype.send=cr.prototype.ha,cr.prototype.setWithCredentials=cr.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=gs,In.fromString=function d0(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Fi(d0(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=gs(Math.pow(e,8)),r=Bl,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=gs(Math.pow(e,u)),r=r.R(u).add(gs(l))):r=(r=r.R(t)).add(gs(l))}return r};var IS=Oo.createWebChannelTransport=function(){return new $m},f0=Oo.getStatEventTarget=function(){return _m()},ho=Oo.ErrorCode=wm,DS=Oo.EventType=dh,p0=Oo.Event=nc,wh=Oo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CS=Oo.FetchXmlHttpFactory=mh,Gm=Oo.WebChannel=kI,bS=Oo.XhrIo=cr,Wm=Oo.Md5=Fo,$l=Oo.Integer=In;const hD="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let sc="9.23.0";const oc=new ar.Yd("@firebase/firestore");function g0(){return oc.logLevel}function Pe(n,...e){if(oc.logLevel<=ar.in.DEBUG){const t=e.map(Eh);oc.debug(`Firestore (${sc}): ${n}`,...t)}}function Er(n,...e){if(oc.logLevel<=ar.in.ERROR){const t=e.map(Eh);oc.error(`Firestore (${sc}): ${n}`,...t)}}function fo(n,...e){if(oc.logLevel<=ar.in.WARN){const t=e.map(Eh);oc.warn(`Firestore (${sc}): ${n}`,...t)}}function Eh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function ht(n,e){n||at()}function Qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends wr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class m0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class AS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xS{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let l=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=l;e.enqueueRetryable((0,it.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},E=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>E(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht("string"==typeof r.accessToken),new m0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new ai(e)}}class y0{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class v0{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new y0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht("string"==typeof t.token),this.T=t.token,new _0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function MS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class gD{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=MS(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function Ih(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class Bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Bn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new Bn(0,0))}static max(){return new ft(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ep{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ep.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ep?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Ep{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new un(t)}static emptyPath(){return new un([])}}const mD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Ep{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return mD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(un.fromString(e))}static fromName(e){return new Ke(un.fromString(e).popFirst(5))}static empty(){return new Ke(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new un(e.slice()))}}function RS(n){return new po(n.readTime,n.key,-1)}class po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new po(ft.min(),Ke.empty(),-1)}static max(){return new po(ft.max(),Ke.empty(),-1)}}function qm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const Km="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function uc(n){return bp.apply(this,arguments)}function bp(){return bp=(0,it.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Km)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),bp.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},E=>r(E))}),l=!0,u===o&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(o=>o?se.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new se((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let E=0;E<u;E++){const b=E;t(e[b]).next(A=>{l[b]=A,++m,m===u&&r(l)},A=>o(A))}})}static doWhile(e,t){return new se((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}function Ia(n){return"IndexedDbTransactionError"===n.name}let Hs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ch(n){return null==n}function Da(n){return 0===n&&1/n==-1/0}function HS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $n{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b0(this.root,e,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b0(this.root,e,this.comparator,!0)}}class b0{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??ci.RED,this.left=o??ci.EMPTY,this.right=u??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new ci(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ci.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ci(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ei{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Ei([])}unionWith(e){let t=new Sn(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OD("Invalid base64 string: "+o):o}}(e);return new li(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const XM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(ht(!!n),"string"==typeof n){let e=0;const t=XM.exec(n);if(ht(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function du(n){return"string"==typeof n?li.fromBase64String(n):li.fromUint8Array(n)}function Ym(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function S0(n){const e=n.mapValue.fields.__previous_value__;return Ym(e)?S0(e):e}function Mp(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class PD{constructor(e,t,r,o,u,l,m,E,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=E,this.useFetchStreams=b}}class cc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ym(n)?4:M0(n)?9007199254740991:10:at()}function ba(n,e){if(n===e)return!0;const t=hu(n);if(t!==hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mp(n).isEqual(Mp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=lu(r.timestampValue),l=lu(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,du(n.bytesValue).isEqual(du(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return lr(r.geoPointValue.latitude)===lr(o.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return lr(r.integerValue)===lr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=lr(r.doubleValue),l=lr(o.doubleValue);return u===l?Da(u)===Da(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],ba);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(HS(u)!==HS(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!ba(u[m],l[m])))return!1;return!0}(n,e);default:return at()}var o}function Qm(n,e){return void 0!==(n.values||[]).find(t=>ba(t,e))}function dr(n,e){if(n===e)return 0;const t=hu(n),r=hu(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=lr(o.integerValue||o.doubleValue),m=lr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return kD(n.timestampValue,e.timestampValue);case 4:return kD(Mp(n),Mp(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(o,u){const l=du(o),m=du(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let E=0;E<l.length&&E<m.length;E++){const b=$t(l[E],m[E]);if(0!==b)return b}return $t(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=$t(lr(o.latitude),lr(u.latitude));return 0!==l?l:$t(lr(o.longitude),lr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let E=0;E<l.length&&E<m.length;++E){const b=dr(l[E],m[E]);if(b)return b}return $t(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===zl.mapValue&&u===zl.mapValue)return 0;if(o===zl.mapValue)return 1;if(u===zl.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),E=u.fields||{},b=Object.keys(E);m.sort(),b.sort();for(let A=0;A<m.length&&A<b.length;++A){const R=$t(m[A],b[A]);if(0!==R)return R;const z=dr(l[m[A]],E[b[A]]);if(0!==z)return z}return $t(m.length,b.length)}(n.mapValue,e.mapValue);default:throw at()}}function kD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=lu(n),r=lu(e),o=$t(t.seconds,r.seconds);return 0!==o?o:$t(t.nanos,r.nanos)}function lc(n){return A0(n)}function A0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=lu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?du(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=A0(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${A0(r.fields[m])}`;return u+"}"}(n.mapValue):at();var e}function Xm(n){return!!n&&"integerValue"in n}function Th(n){return!!n&&"arrayValue"in n}function FD(n){return!!n&&"nullValue"in n}function x0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Np(n){return!!n&&"mapValue"in n}function Sh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function M0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Np(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(t)}setAll(e){let t=Ir.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=Sh(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ba(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Np(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Hl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Kn(Sh(this.value))}}function N0(n){const e=[];return Hl(n.fields,(t,r)=>{const o=new Ir([t]);if(Np(r)){const u=N0(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Ei(e)}class An{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new An(e,0,ft.min(),ft.min(),ft.min(),Kn.empty(),0)}static newFoundDocument(e,t,r,o){return new An(e,1,t,ft.min(),r,o,0)}static newNoDocument(e,t){return new An(e,2,t,ft.min(),ft.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,ft.min(),ft.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,t){this.position=e,this.inclusive=t}}function UD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(l.referenceValue),t.key):dr(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function WS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ba(n.position[t],e.position[t]))return!1;return!0}class Gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function qS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class BD{}class an extends BD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new HD(e,t,r):"array-contains"===t?new Ah(e,r):"in"===t?new Rp(e,r):"not-in"===t?new GD(e,r):"array-contains-any"===t?new WD(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ZS(e,r):new zD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dr(t,this.value)):null!==t&&hu(this.value)===hu(t)&&this.matchesComparison(dr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends BD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Dn(e,t)}matches(e){return Wl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wl(n){return"and"===n.op}function ty(n){return function jD(n){for(const e of n.filters)if(e instanceof Dn)return!1;return!0}(n)&&Wl(n)}function ny(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(ty(n))return n.filters.map(e=>ny(e)).join(",");{const e=n.filters.map(t=>ny(t)).join(",");return`${n.op}(${e})`}}function KS(n,e){return n instanceof an?(t=n,(r=e)instanceof an&&t.op===r.op&&t.field.isEqual(r.field)&&ba(t.value,r.value)):n instanceof Dn?function(t,r){return r instanceof Dn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&KS(u,r.filters[l]),!0)}(n,e):void at();var t,r}function R0(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${lc(e.value)}`:n instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map(R0).join(" ,")+"}"}(n):"Filter";var e}class HD extends an{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZS extends an{constructor(e,t){super(e,"in",t),this.keys=O0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zD extends an{constructor(e,t){super(e,"not-in",t),this.keys=O0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class Ah extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Th(t)&&Qm(t.arrayValue,this.value)}}class Rp extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qm(this.value.arrayValue,t)}}class GD extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qm(this.value.arrayValue,t)}}class WD extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Th(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qm(this.value.arrayValue,r))}}class YS{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function P0(n,e=null,t=[],r=[],o=null,u=null,l=null){return new YS(n,e,t,r,o,u,l)}function xh(n){const e=Qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ny(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),e.dt=t}return e.dt}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WS(n.startAt,e.startAt)&&WS(n.endAt,e.endAt)}function iy(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class dc{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=E,this.wt=null,this._t=null}}function Nh(n){return new dc(n)}function qD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Rh(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=function L0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function F0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Gl(t)),e.wt.push(new Gl(Ir.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Gl(Ir.keyField(),u))}}}return e.wt}function ys(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=P0(e.path,e.collectionGroup,Rh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Rh(e))t.push(new Gl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ta(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Ta(e.startAt.position,e.startAt.inclusive):null;e._t=P0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function oy(n,e,t){return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hc(n,e){return Mh(ys(n),ys(e))&&n.limitType===e.limitType}function YD(n){return`${xh(ys(n))}|lt:${n.limitType}`}function V0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>R0(r)).join(", ")}]`),Ch(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),`Target(${t})`}(ys(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Rh(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=UD(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,Rh(t),r)||t.endAt&&!function(o,u,l){const m=UD(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,Rh(t),r)));var t,r}function U0(n){return(e,t)=>{let r=!1;for(const o of Rh(n)){const u=B0(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function B0(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),E=l.data.field(o);return null!==m&&null!==E?dr(m,E):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}const XS=new $n(Ke.comparator);function Li(){return XS}const ay=new $n(Ke.comparator);function pc(...n){let e=ay;for(const t of n)e=e.insert(t.key,t);return e}function eA(n){let e=ay;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pu(){return Ph()}function tA(){return Ph()}function Ph(){return new Vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const nA=new $n(Ke.comparator),rA=new Sn(Ke.comparator);function Kt(...n){let e=rA;for(const t of n)e=e.add(t);return e}const iA=new Sn($t);function $0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(e)?"-0":e}}function j0(n){return{integerValue:""+n}}function QD(n,e){return function wD(n){return"number"==typeof n&&Number.isInteger(n)&&!Da(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?j0(e):$0(n,e)}class cy{constructor(){this._=void 0}}function JD(n,e,t){return n instanceof ql?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ym(o)&&(o=S0(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof gu?XD(n,e):n instanceof Kl?oA(n,e):function(r,o){const u=sA(r,o),l=eC(u)+eC(r.gt);return Xm(u)&&Xm(r.gt)?j0(l):$0(r.serializer,l)}(n,e)}function H0(n,e,t){return n instanceof gu?XD(n,e):n instanceof Kl?oA(n,e):t}function sA(n,e){return n instanceof Op?Xm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ql extends cy{}class gu extends cy{constructor(e){super(),this.elements=e}}function XD(n,e){const t=tC(e);for(const r of n.elements)t.some(o=>ba(o,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends cy{constructor(e){super(),this.elements=e}}function oA(n,e){let t=tC(e);for(const r of n.elements)t=t.filter(o=>!ba(o,r));return{arrayValue:{values:t}}}class Op extends cy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function eC(n){return lr(n.integerValue||n.doubleValue)}function tC(n){return Th(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pp{constructor(e,t){this.field=e,this.transform=t}}class nC{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function z0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ly{}function dy(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lh(n.key,jn.none()):new Fh(n.key,n.data,jn.none());{const t=n.data,r=Kn.empty();let o=new Sn(Ir.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new mu(n.key,r,new Ei(o.toArray()),jn.none())}}function rC(n,e,t){n instanceof Fh?function(r,o,u){const l=r.value.clone(),m=W0(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof mu?function(r,o,u){if(!z0(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=W0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(G0(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kh(n,e,t,r){return n instanceof Fh?function(o,u,l,m){if(!z0(o.precondition,u))return l;const E=o.value.clone(),b=cA(o.fieldTransforms,m,u);return E.setAll(b),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof mu?function(o,u,l,m){if(!z0(o.precondition,u))return l;const E=cA(o.fieldTransforms,m,u),b=u.data;return b.setAll(G0(o)),b.setAll(E),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):(l=t,z0(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function uA(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=sA(r.transform,o||null);null!=u&&(null===t&&(t=Kn.empty()),t.set(r.field,u))}return t||null}function hy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ih(t,r,(o,u)=>function aA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof gu&&r instanceof gu||t instanceof Kl&&r instanceof Kl?Ih(t.elements,r.elements,ba):t instanceof Op&&r instanceof Op?ba(t.gt,r.gt):t instanceof ql&&r instanceof ql);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fh extends ly{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mu extends ly{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function G0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function W0(n,e,t){const r=new Map;ht(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,H0(l,m,t[o]))}return r}function cA(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,JD(u,l,e))}return r}class Lh extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vh extends ly{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rC(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tA();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const E=dy(l,m);null!==E&&r.set(o.key,E),l.isValidDocument()||l.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(t,r)=>hy(t,r))&&Ih(this.baseMutations,e.baseMutations,(t,r)=>hy(t,r))}}class q0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ht(e.mutations.length===r.length);let o=nA;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new q0(e,t,r,o)}}class sC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lA{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,fn;function hA(n){if(void 0===n)return Er("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Gr.OK:return ce.OK;case Gr.CANCELLED:return ce.CANCELLED;case Gr.UNKNOWN:return ce.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return ce.INTERNAL;case Gr.UNAVAILABLE:return ce.UNAVAILABLE;case Gr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Gr.NOT_FOUND:return ce.NOT_FOUND;case Gr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Gr.ABORTED:return ce.ABORTED;case Gr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Gr.DATA_LOSS:return ce.DATA_LOSS;default:return at()}}(fn=Gr||(Gr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class oC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fy}static getOrCreateInstance(){return null===fy&&(fy=new oC),fy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let fy=null;const t1=new $l([4294967295,4294967295],0);function pA(n){const e=function fA(){return new TextEncoder}().encode(n),t=new Wm;return t.update(e),new Uint8Array(t.digest())}function gA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $l([t,r],0),new $l([o,u],0)]}class aC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kp(`Invalid padding: ${t}`);if(r<0)throw new kp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new kp(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new kp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$l.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply($l.fromNumber(r)));return 1===o.compare(t1)&&(o=new $l([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=pA(e),[r,o]=gA(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new aC(u,o,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=pA(e),[r,o]=gA(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class kp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class py{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,i.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new py(ft.min(),o,new $n($t),Li(),Kt())}}class i{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new i(r,t,Kt(),Kt(),Kt())}}class s{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class a{constructor(e,t){this.targetId=e,this.Vt=t}}class c{constructor(e,t,r=li.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class d{constructor(){this.St=0,this.Dt=_(),this.Ct=li.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kt(),t=Kt(),r=Kt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:at()}}),new i(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class f{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Li(),this.zt=y(),this.Wt=new $n($t)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(iy(l))if(0===o){const m=new Ke(l.path);this.Yt(r,m,An.newNoDocument(m,ft.min()))}else ht(1===o);else{const m=this.ie(r);if(m!==o){const E=this.re(e,m);0!==E&&(this.ee(r),this.Wt=this.Wt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=oC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,A,R){var z,ne,Ee,Ve,je,wt;const Lt={localCacheCount:A,existenceFilterCount:R.count},Pt=R.unchangedNames;return Pt&&(Lt.bloomFilter={applied:0===b,hashCount:null!==(z=Pt?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(Ve=null===(Ee=null===(ne=Pt?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===Ee?void 0:Ee.length)&&void 0!==Ve?Ve:0,padding:null!==(wt=null===(je=Pt?.bits)||void 0===je?void 0:je.padding)&&void 0!==wt?wt:0}),Lt}(E,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let E,b;try{E=du(u).toUint8Array()}catch(A){if(A instanceof OD)return fo("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{b=new aC(E,l,m)}catch(A){return fo(A instanceof kp?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===b.It?1:o!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&iy(m.target)){const E=new Ke(m.target.path);null!==this.jt.get(E)||this.ae(l,E)||this.Yt(l,E,An.newNoDocument(E,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Kt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(E=>{const b=this.se(E);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new py(e,t,this.Wt,this.jt,r);return this.jt=Li(),this.zt=y(),this.Wt=new $n($t),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new d,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Sn($t),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new d),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function y(){return new $n(Ke.comparator)}function _(){return new $n(Ke.comparator)}const C={asc:"ASCENDING",desc:"DESCENDING"},T={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M={and:"AND",or:"OR"};class k{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function Q(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _e(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ke(n,e){return Q(n,e.toTimestamp())}function Le(n){return ht(!!n),ft.fromTimestamp(function(e){const t=lu(e);return new Bn(t.seconds,t.nanos)}(n))}function ut(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function De(n){const e=un.fromString(n);return ht(a1(e)),e}function Nt(n,e){return ut(n.databaseId,e.path)}function jt(n,e){const t=De(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(uC(t))}function nn(n,e){return ut(n.databaseId,e)}function gc(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uC(n){return ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cC(n,e,t){return{name:Nt(n,e),fields:t.value.mapValue.fields}}function r1(n,e){return{documents:[nn(n,e.path)]}}function yA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nn(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nn(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0!==E.length)return o1(Dn.create(E,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(b=>{return{field:Uh((A=b).field),direction:ER(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=G(n,e.limit);var m,E;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function i1(n){let e=function Ii(n){const e=De(n);return 4===e.length?un.emptyPath():uC(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ht(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const R=s1(A);return R instanceof Dn&&ty(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(A=>{return new Gl(gy((R=A).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(A){let R;return R="object"==typeof A?A.value:A,Ch(R)?null:R}(t.limit));let E=null;var A;t.startAt&&(E=new Ta((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new Ta(A.values||[],!A.before)}(t.endAt)),function k0(n,e,t,r,o,u,l,m){return new dc(n,e,t,r,o,u,l,m)}(e,o,l,u,m,"F",E,b)}function s1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gy(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=gy(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gy(e.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gy(e.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?an.create(gy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Dn.create(e.compositeFilter.filters.map(t=>s1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function ER(n){return C[n]}function IR(n){return T[n]}function DR(n){return M[n]}function Uh(n){return{fieldPath:n.canonicalString()}}function gy(n){return Ir.fromServerFormat(n.fieldPath)}function o1(n){return n instanceof an?function(e){if("=="===e.op){if(x0(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NAN"}};if(FD(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(x0(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NOT_NAN"}};if(FD(e.value))return{unaryFilter:{field:Uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uh(e.field),op:IR(e.op),value:e.value}}}(n):n instanceof Dn?function(e){const t=e.getFilters().map(r=>o1(r));return 1===t.length?t[0]:{compositeFilter:{op:DR(e.op),filters:t}}}(n):at()}function CR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function a1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zl{constructor(e,t,r,o,u=ft.min(),l=ft.min(),m=li.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u1{constructor(e){this.fe=e}}function vA(n){const e=i1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oy(e,e.limit,"L"):e}class Up{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Da(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(du(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?M0(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):at()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Up.Ve=new Up;class OR{constructor(){this.rn=new CA}addToCollectionParentIndex(e,t){return this.rn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(po.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class CA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Sn(un.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Sn(un.comparator)).toArray()}}new Uint8Array(0);class vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class $p{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $p(0)}static Mn(){return new $p(-1)}}class UR{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P1{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&kh(r.mutation,o,Ei.empty(),Bn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kt()){const o=pu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=pc();return u.forEach((m,E)=>{l=l.insert(m,E.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=pu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=Li();const l=Ph(),m=Ph();return t.forEach((E,b)=>{const A=r.get(b.key);o.has(b.key)&&(void 0===A||A.mutation instanceof mu)?u=u.insert(b.key,b):void 0!==A?(l.set(b.key,A.mutation.getFieldMask()),kh(A.mutation,b,A.mutation.getFieldMask(),Bn.now())):l.set(b.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,u).next(E=>(E.forEach((b,A)=>l.set(b,A)),t.forEach((b,A)=>{var R;return m.set(b,new jR(A,null!==(R=l.get(b))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Ph();let o=new $n((l,m)=>l-m),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(E=>{const b=t.get(E);if(null===b)return;let A=r.get(E)||Ei.empty();A=m.applyToLocalView(b,A),r.set(E,A);const R=(o.get(m.batchId)||Kt()).add(E);o=o.insert(m.batchId,R)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),b=E.key,A=E.value,R=tA();A.forEach(z=>{if(!u.has(z)){const ne=dy(t.get(z),r.get(z));null!==ne&&R.set(z,ne),u=u.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,R))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function KD(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):se.resolve(pu());let m=-1,E=u;return l.next(b=>se.forEach(b,(A,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(A)?se.resolve():this.remoteDocumentCache.getEntry(e,A).next(z=>{E=E.insert(A,z)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,E,b,Kt())).next(A=>({batchId:m,changes:eA(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let o=pc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=pc();return this.indexManager.getCollectionParents(e,o).next(l=>se.forEach(l,m=>{const E=(b=t,A=m.child(o),new dc(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(b=>{b.forEach((A,R)=>{u=u.insert(A,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,E)=>{const b=E.getKey();null===u.get(b)&&(u=u.insert(b,An.newInvalidDocument(b)))});let l=pc();return u.forEach((m,E)=>{const b=o.get(m);void 0!==b&&kh(b.mutation,E,Ei.empty(),Bn.now()),Oh(t,E)&&(l=l.insert(m,E))}),l})}}class HR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return se.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Le(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:vA(r.bundledQuery),readTime:Le(r.readTime)}),se.resolve();var r}}class zR{constructor(){this.overlays=new $n(Ke.comparator),this.ls=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pu();return se.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const o=pu(),u=t.length+1,l=new Ke(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const E=m.getNext().value,b=E.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new $n((b,A)=>b-A);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=pu(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const m=pu(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((b,A)=>m.set(b,A)),!(m.size()>=o)););return se.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sC(t,r));let u=this.ls.get(t);void 0===u&&(u=Kt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class bA{constructor(){this.fs=new Sn(Vi.ds),this.ws=new Sn(Vi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Vi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ke(new un([])),r=new Vi(t,e),o=new Vi(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ke(new un([])),r=new Vi(t,e),o=new Vi(t,e+1);let u=Kt();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Vi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ke.comparator(e.key,t.key)||$t(e.As,t.As)}static _s(e,t){return $t(e.As,t.As)||Ke.comparator(e.key,t.key)}}class GR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Sn(Vi.ds)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new iC(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.Rs=this.Rs.add(new Vi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),o=new Vi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const m=this.Ps(l.As);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sn($t);return t.forEach(o=>{const u=new Vi(o,0),l=new Vi(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const l=new Vi(new Ke(u),0);let m=new Sn($t);return this.Rs.forEachWhile(E=>{const b=E.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(E.As)),!0)},l),se.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ht(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return se.forEach(t.mutations,o=>{const u=new Vi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Vi(t,0),o=this.Rs.firstAfterOrEqual(r);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return se.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WR{constructor(e){this.Ds=e,this.docs=new $n(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():An.newInvalidDocument(o))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Li();const l=t.path,m=new Ke(l.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:b,value:{document:A}}=E.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||qm(RS(A),r)<=0||(o.has(A.key)||Oh(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,r,o){at()}Cs(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qR(this)}getSize(e){return se.resolve(this.size)}}class qR extends UR{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class KR{constructor(e){this.persistence=e,this.xs=new Vo(t=>xh(t),Mh),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new bA,this.targetCount=0,this.Ms=$p.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),se.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new $p(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Fn(t),se.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ks.containsKey(t))}}class TA{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new KR(this),this.indexManager=new OR,this.remoteDocumentCache=new WR(r=>this.referenceDelegate.Ls(r)),this.serializer=new u1(t),this.qs=new HR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new GR(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new ZR(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class ZR extends Cp{constructor(e){super(),this.currentSequenceNumber=e}}class vC{constructor(e){this.persistence=e,this.Qs=new bA,this.js=null}static zs(e){return new vC(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),se.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ws,r=>{const o=Ke.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,ft.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return se.or([()=>se.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class MA{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Kt(),o=Kt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new MA(e,t.fromCache,r,o)}}class F1{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(qD(t))return se.resolve(null);let r=ys(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=oy(t,null,"F"),r=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Kt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(E=>{const b=this.ji(t,m);return this.zi(t,b,l,E.readTime)?this.Ki(e,oy(t,null,"F")):this.Wi(e,b,t,E)}))})))}Gi(e,t,r,o){return qD(t)||o.isEqual(ft.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(g0()<=ar.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),V0(t)),this.Wi(e,l,t,function yD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ft.fromTimestamp(1e9===r?new Bn(t+1,0):new Bn(t,r));return new po(o,Ke.empty(),e)}(o,-1)))})}ji(e,t){let r=new Sn(U0(e));return t.forEach((o,u)=>{Oh(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return g0()<=ar.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",V0(t)),this.Ui.getDocumentsMatchingQuery(e,t,po.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class QR{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new $n($t),this.Yi=new Vo(u=>xh(u),Mh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function V1(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,it.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let E=Kt();for(const b of o){l.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}for(const b of u){m.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}return t.localDocuments.getDocuments(r,E).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),NA.apply(this,arguments)}function U1(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function eO(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _y(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,it.Z)(function*(n,e,t){const r=Qe(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Ia(l))throw l;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),RA.apply(this,arguments)}function EC(n,e,t){const r=Qe(n);let o=ft.min(),u=Kt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,E,b){const A=Qe(m),R=A.Yi.get(b);return void 0!==R?se.resolve(A.Ji.get(R)):A.Bs.getTargetData(E,b)}(r,l,ys(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(E=>{u=E})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:ft.min(),t?u:Kt())).next(m=>(function H1(n,e,t){let r=n.Xi.get(e)||ft.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function fc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,ir:u})))}class LA{constructor(){this.activeTargetIds=function uy(){return iA}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W1{constructor(){this.Hr=new LA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new LA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rO{Yr(e){}shutdown(){}}class q1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CC=null;function UA(){return null===CC?CC=268435456+Math.round(2147483648*Math.random()):CC++,"0x"+CC.toString(16)}const iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _s="WebChannelConnection";class oO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=UA(),m=this.To(e,t);Pe("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const E={};return this.Eo(E,o,u),this.Ao(e,m,E,r).then(b=>(Pe("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw fo("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${iO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=UA();return new Promise((l,m)=>{const E=new bS;E.setWithCredentials(!0),E.listenOnce(DS.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case ho.NO_ERROR:const A=E.getResponseJson();Pe(_s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),l(A);break;case ho.TIMEOUT:Pe(_s,`RPC '${e}' ${u} timed out`),m(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ho.HTTP_ERROR:const R=E.getStatus();if(Pe(_s,`RPC '${e}' ${u} failed with status:`,R,"response text:",E.getResponseText()),R>0){let z=E.getResponseJson();Array.isArray(z)&&(z=z[0]);const ne=z?.error;if(ne&&ne.status&&ne.message){const Ee=function(Ve){const je=Ve.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(je)>=0?je:ce.UNKNOWN}(ne.status);m(new Me(Ee,ne.message))}else m(new Me(ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Pe(_s,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);Pe(_s,`RPC '${e}' ${u} sending request:`,o),E.send(t,"POST",b,r,15)})}Ro(e,t,r){const o=UA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=IS(),m=f0(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(E.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(E.xmlHttpFactory=new CS({})),this.Eo(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const A=u.join("");Pe(_s,`Creating RPC '${e}' stream ${o}: ${A}`,E);const R=l.createWebChannel(A,E);let z=!1,ne=!1;const Ee=new sO({ro:je=>{ne?Pe(_s,`Not sending because RPC '${e}' stream ${o} is closed:`,je):(z||(Pe(_s,`Opening RPC '${e}' stream ${o} transport.`),R.open(),z=!0),Pe(_s,`RPC '${e}' stream ${o} sending:`,je),R.send(je))},oo:()=>R.close()}),Ve=(je,wt,Lt)=>{je.listen(wt,Pt=>{try{Lt(Pt)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return Ve(R,Gm.EventType.OPEN,()=>{ne||Pe(_s,`RPC '${e}' stream ${o} transport opened.`)}),Ve(R,Gm.EventType.CLOSE,()=>{ne||(ne=!0,Pe(_s,`RPC '${e}' stream ${o} transport closed`),Ee.wo())}),Ve(R,Gm.EventType.ERROR,je=>{ne||(ne=!0,fo(_s,`RPC '${e}' stream ${o} transport errored:`,je),Ee.wo(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),Ve(R,Gm.EventType.MESSAGE,je=>{var wt;if(!ne){const Lt=je.data[0];ht(!!Lt);const Ht=Lt.error||(null===(wt=Lt[0])||void 0===wt?void 0:wt.error);if(Ht){Pe(_s,`RPC '${e}' stream ${o} received error:`,Ht);const cn=Ht.status;let _n=function(Wp){const aR=Gr[Wp];if(void 0!==aR)return hA(aR)}(cn),go=Ht.message;void 0===_n&&(_n=ce.INTERNAL,go="Unknown error status: "+cn+" with message "+Ht.message),ne=!0,Ee.wo(new Me(_n,go)),R.close()}else Pe(_s,`RPC '${e}' stream ${o} received:`,Lt),Ee._o(Lt)}}),Ve(m,p0.STAT_EVENT,je=>{je.stat===wh.PROXY?Pe(_s,`RPC '${e}' stream ${o} detected buffering proxy`):je.stat===wh.NOPROXY&&Pe(_s,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ee.fo()},0),Ee}}function bC(){return typeof document<"u"?document:null}function rw(n){return new k(n,!0)}class BA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Z1{constructor(e,t,r,o,u,l,m,E){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new BA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,it.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,it.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,it.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Me(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,it.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends Z1{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function vR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:at(),o=e.targetChange.targetIds||[],u=function(E,b){return E.useProto3Json?(ht(void 0===b||"string"==typeof b),li.fromBase64String(b||"")):(ht(void 0===b||b instanceof Uint8Array),li.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(E){const b=void 0===E.code?ce.UNKNOWN:hA(E.code);return new Me(b,E.message||"")}(l);t=new c(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=jt(n,r.document.name),u=Le(r.document.updateTime),l=r.document.createTime?Le(r.document.createTime):ft.min(),m=new Kn({mapValue:{fields:r.document.fields}}),E=An.newFoundDocument(o,u,l,m);t=new s(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,o=jt(n,r.document),u=r.readTime?Le(r.readTime):ft.min(),l=An.newNoDocument(o,u);t=new s([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=jt(n,r.document);t=new s([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return at();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new lA(o,u);t=new a(r.targetId,l)}}var E;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ft.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?ft.min():u.readTime?Le(u.readTime):ft.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=gc(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;if(l=iy(m)?{documents:r1(o,m)}:{query:yA(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=_e(o,u.resumeToken);const E=G(o,u.expectedCount);null!==E&&(l.expectedCount=E)}else if(u.snapshotVersion.compareTo(ft.min())>0){l.readTime=Q(o,u.snapshotVersion.toTimestamp());const E=G(o,u.expectedCount);null!==E&&(l.expectedCount=E)}return l}(this.serializer,e);const r=function wR(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=gc(this.serializer),t.removeTarget=e,this.Wo(t)}}class uO extends Z1{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function _R(n,e){return n&&n.length>0?(ht(void 0!==e),n.map(t=>function(r,o){let u=Le(r.updateTime?r.updateTime:o);return u.isEqual(ft.min())&&(u=Le(o)),new nC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Le(e.commitTime);return this.listener.cu(r,t)}return ht(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function K0(n,e){let t;if(e instanceof Fh)t={update:cC(n,e.key,e.value)};else if(e instanceof Lh)t={delete:Nt(n,e.key)};else if(e instanceof mu)t={update:cC(n,e.key,e.data),updateMask:CR(e.fieldMask)};else{if(!(e instanceof Vh))return at();t={verify:Nt(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof ql)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Op)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ke(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:at()),t;var o}(this.serializer,r))};this.Wo(t)}}class cO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ce.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class dO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(t),this.mu=!1):Pe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hO{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,it.Z)(function*(){var E;Hh(l)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,it.Z)(function*(b){const A=Qe(b);A.vu.add(4),yield wy(A),A.bu.set("Unknown"),A.vu.delete(4),yield iw(A)}),function(b){return E.apply(this,arguments)})(l))}))}),this.bu=new dO(r,o)}}function iw(n){return jA.apply(this,arguments)}function jA(){return jA=(0,it.Z)(function*(n){if(Hh(n))for(const e of n.Ru)yield e(!0)}),jA.apply(this,arguments)}function wy(n){return HA.apply(this,arguments)}function HA(){return HA=(0,it.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),HA.apply(this,arguments)}function TC(n,e){const t=Qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),WA(t)?GA(t):Iy(t).Ko()&&zA(t,e))}function sw(n,e){const t=Qe(n),r=Iy(t);t.Au.delete(e),r.Ko()&&Y1(t,e),0===t.Au.size&&(r.Ko()?r.jo():Hh(t)&&t.bu.set("Unknown"))}function zA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Iy(n).su(e)}function Y1(n,e){n.Vu.qt(e),Iy(n).iu(e)}function GA(n){n.Vu=new f({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Iy(n).start(),n.bu.gu()}function WA(n){return Hh(n)&&!Iy(n).Uo()&&n.Au.size>0}function Hh(n){return 0===Qe(n).vu.size}function Q1(n){n.Vu=void 0}function fO(n){return qA.apply(this,arguments)}function qA(){return qA=(0,it.Z)(function*(n){n.Au.forEach((e,t)=>{zA(n,e)})}),qA.apply(this,arguments)}function pO(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,it.Z)(function*(n,e){Q1(n),WA(n)?(n.bu.Iu(e),GA(n)):n.bu.set("Unknown")}),KA.apply(this,arguments)}function gO(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,it.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof c&&2===e.state&&e.cause)try{yield(r=(0,it.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield SC(n,r)}else if(e instanceof s?n.Vu.Ht(e):e instanceof a?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ft.min()))try{const r=yield U1(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.Au.get(E);b&&o.Au.set(E,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,E)=>{const b=o.Au.get(m);if(!b)return;o.Au.set(m,b.withResumeToken(li.EMPTY_BYTE_STRING,b.snapshotVersion)),Y1(o,m);const A=new Zl(b.target,m,E,b.sequenceNumber);zA(o,A)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield SC(n,r)}var r}),ZA.apply(this,arguments)}function SC(n,e,t){return YA.apply(this,arguments)}function YA(){return YA=(0,it.Z)(function*(n,e,t){if(!Ia(e))throw e;n.vu.add(1),yield wy(n),n.bu.set("Offline"),t||(t=()=>U1(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield iw(n)}))}),YA.apply(this,arguments)}function J1(n,e){return e().catch(t=>SC(n,t,e))}function Ey(n){return QA.apply(this,arguments)}function QA(){return QA=(0,it.Z)(function*(n){const e=Qe(n),t=zh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;mO(e);)try{const o=yield eO(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,yO(e,o)}catch(o){yield SC(e,o)}X1(e)&&eN(e)}),QA.apply(this,arguments)}function mO(n){return Hh(n)&&n.Eu.length<10}function yO(n,e){n.Eu.push(e);const t=zh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function X1(n){return Hh(n)&&!zh(n).Uo()&&n.Eu.length>0}function eN(n){zh(n).start()}function vO(n){return JA.apply(this,arguments)}function JA(){return JA=(0,it.Z)(function*(n){zh(n).hu()}),JA.apply(this,arguments)}function _O(n){return XA.apply(this,arguments)}function XA(){return XA=(0,it.Z)(function*(n){const e=zh(n);for(const t of n.Eu)e.uu(t.mutations)}),XA.apply(this,arguments)}function wO(n,e,t){return ex.apply(this,arguments)}function ex(){return ex=(0,it.Z)(function*(n,e,t){const r=n.Eu.shift(),o=q0.from(r,e,t);yield J1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ey(n)}),ex.apply(this,arguments)}function EO(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,it.Z)(function*(n,e){var t;e&&zh(n).ou&&(yield(t=(0,it.Z)(function*(r,o){if(function dA(n){switch(n){default:return at();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}(u=o.code)&&u!==ce.ABORTED){const l=r.Eu.shift();zh(r).Qo(),yield J1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield Ey(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),X1(n)&&eN(n)}),tx.apply(this,arguments)}function tN(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,it.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Hh(t);t.vu.add(3),yield wy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield iw(t)}),nx.apply(this,arguments)}function ix(){return ix=(0,it.Z)(function*(n,e){const t=Qe(n);e?(t.vu.delete(2),yield iw(t)):e||(t.vu.add(2),yield wy(t),t.bu.set("Unknown"))}),ix.apply(this,arguments)}function Iy(n){return n.Su||(n.Su=function(e,t,r){const o=Qe(e);return o.fu(),new aO(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:fO.bind(null,n),ao:pO.bind(null,n),nu:gO.bind(null,n)}),n.Ru.push(function(){var e=(0,it.Z)(function*(t){t?(n.Su.Qo(),WA(n)?GA(n):n.bu.set("Unknown")):(yield n.Su.stop(),Q1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function zh(n){return n.Du||(n.Du=function(e,t,r){const o=Qe(e);return o.fu(),new uO(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:vO.bind(null,n),ao:EO.bind(null,n),au:_O.bind(null,n),cu:wO.bind(null,n)}),n.Ru.push(function(){var e=(0,it.Z)(function*(t){t?(n.Du.Qo(),yield Ey(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class sx{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new sx(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Ia(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Cy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=pc(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new Cy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nN{constructor(){this.Cu=new $n(Ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class by{constructor(e,t,r,o,u,l,m,E,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new by(e,t,Cy.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class IO{constructor(){this.Nu=void 0,this.listeners=[]}}class DO{constructor(){this.queries=new Vo(e=>YD(e),hc),this.onlineState="Unknown",this.ku=new Set}}function ax(){return ax=(0,it.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new IO),o)try{u.Nu=yield t.onListen(r)}catch(l){const m=Dy(l,`Initialization of query '${V0(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&lx(t)}),ax.apply(this,arguments)}function cx(){return cx=(0,it.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),cx.apply(this,arguments)}function CO(n,e){const t=Qe(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.$u(o)&&(r=!0);l.Nu=o}}r&&lx(t)}function bO(n,e,t){const r=Qe(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function lx(n){n.ku.forEach(e=>{e.next()})}class dx{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new by(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=by.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sN{constructor(e){this.key=e}}class oN{constructor(e){this.key=e}}class aN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kt(),this.mutatedKeys=Kt(),this.tc=U0(e),this.ec=new Cy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new nN,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,R)=>{const z=o.get(A),ne=Oh(this.query,R)?R:null,Ee=!!z&&this.mutatedKeys.has(z.key),Ve=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let je=!1;z&&ne?z.data.isEqual(ne.data)?Ee!==Ve&&(r.track({type:3,doc:ne}),je=!0):this.rc(z,ne)||(r.track({type:2,doc:ne}),je=!0,(E&&this.tc(ne,E)>0||b&&this.tc(ne,b)<0)&&(m=!0)):!z&&ne?(r.track({type:0,doc:ne}),je=!0):z&&!ne&&(r.track({type:1,doc:z}),je=!0,(E||b)&&(m=!0)),je&&(ne?(l=l.add(ne),u=Ve?u.add(A):u.delete(A)):(l=l.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const A="F"===this.query.limitType?l.last():l.first();l=l.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,A)=>function(R,z){const ne=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return ne(R)-ne(z)}(b.type,A.type)||this.tc(b.doc,A.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,E=m!==this.Xu;return this.Xu=m,0!==u.length||E?{snapshot:new by(this.query,e.ec,o,u,e.mutatedKeys,0===m,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new oN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new sN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Kt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return by.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class AO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xO{constructor(e){this.key=e,this.fc=!1}}class MO{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Vo(m=>YD(m),hc),this._c=new Map,this.mc=new Set,this.gc=new $n(Ke.comparator),this.yc=new Map,this.Ic=new bA,this.Tc={},this.Ec=new Map,this.Ac=$p.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function NO(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,it.Z)(function*(n,e){const t=function kx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PO.bind(null,e),e.dc.nu=CO.bind(null,e.eventManager),e.dc.Pc=bO.bind(null,e.eventManager),e}(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield function vy(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,se.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new Zl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,ys(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield function fx(n,e,t,r,o){return px.apply(this,arguments)}(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&TC(t.remoteStore,l)}return o}),hx.apply(this,arguments)}function px(){return px=(0,it.Z)(function*(n,e,t,r,o){n.Rc=(R,z,ne)=>{return(Ee=(0,it.Z)(function*(Ve,je,wt,Lt){let Pt=je.view.sc(wt);Pt.zi&&(Pt=yield EC(Ve.localStore,je.query,!1).then(({documents:_n})=>je.view.sc(_n,Pt)));const Ht=Lt&&Lt.targetChanges.get(je.targetId),cn=je.view.applyChanges(Pt,Ve.isPrimaryClient,Ht);return Cx(Ve,je.targetId,cn.cc),cn.snapshot}),function(Ve,je,wt,Lt){return Ee.apply(this,arguments)})(n,R,z,ne);var Ee};const u=yield EC(n.localStore,e,!0),l=new aN(e,u.ir),m=l.sc(u.documents),E=i.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=l.applyChanges(m,n.isPrimaryClient,E);Cx(n,t,b.cc);const A=new AO(e,t,l);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),px.apply(this,arguments)}function RO(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,it.Z)(function*(n,e){const t=Qe(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!hc(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _y(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),sw(t.remoteStore,r.targetId),Ty(t,r.targetId)}).catch(uc))):(Ty(t,r.targetId),yield _y(t.localStore,r.targetId,!0))}),gx.apply(this,arguments)}function mx(){return mx=(0,it.Z)(function*(n,e,t){const r=function Fx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,e),e}(n);try{const o=yield function(u,l){const m=Qe(u),E=Bn.now(),b=l.reduce((z,ne)=>z.add(ne.key),Kt());let A,R;return m.persistence.runTransaction("Locally write mutations","readwrite",z=>{let ne=Li(),Ee=Kt();return m.Zi.getEntries(z,b).next(Ve=>{ne=Ve,ne.forEach((je,wt)=>{wt.isValidDocument()||(Ee=Ee.add(je))})}).next(()=>m.localDocuments.getOverlayedDocuments(z,ne)).next(Ve=>{A=Ve;const je=[];for(const wt of l){const Lt=uA(wt,A.get(wt.key).overlayedDocument);null!=Lt&&je.push(new mu(wt.key,Lt,N0(Lt.value.mapValue),jn.exists(!0)))}return m.mutationQueue.addMutationBatch(z,E,je,l)}).next(Ve=>{R=Ve;const je=Ve.applyToLocalDocumentSet(A,Ee);return m.documentOverlayCache.saveOverlays(z,Ve.batchId,je)})}).then(()=>({batchId:R.batchId,changes:eA(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let E=u.Tc[u.currentUser.toKey()];E||(E=new $n($t)),E=E.insert(l,m),u.Tc[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Yl(r,o.changes),yield Ey(r.remoteStore)}catch(o){const u=Dy(o,"Failed to persist write");t.reject(u)}}),mx.apply(this,arguments)}function uN(n,e){return yx.apply(this,arguments)}function yx(){return yx=(0,it.Z)(function*(n,e){const t=Qe(n);try{const r=yield function XR(n,e){const t=Qe(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((A,R)=>{const z=o.get(R);if(!z)return;m.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,R)));let ne=z.withSequenceNumber(u.currentSequenceNumber);var Ee,Ve,je;null!==e.targetMismatches.get(R)?ne=ne.withResumeToken(li.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):A.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(A.resumeToken,r)),o=o.insert(R,ne),Ve=ne,je=A,(0===(Ee=z).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,ne))});let E=Li(),b=Kt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(function B1(n,e,t){let r=Kt(),o=Kt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Li();return t.forEach((m,E)=>{const b=u.get(m);E.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),E.isNoDocument()&&E.version.isEqual(ft.min())?(e.removeEntry(m,E.readTime),l=l.insert(m,E)):!b.isValidDocument()||E.version.compareTo(b.version)>0||0===E.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(E),l=l.insert(m,E)):Pe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",E.version)}),{nr:l,sr:o}})}(u,l,e.documentUpdates).next(A=>{E=A.nr,b=A.sr})),!r.isEqual(ft.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(R=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return se.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,E,b)).next(()=>E)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?ht(l.fc):o.removedDocuments.size>0&&(ht(l.fc),l.fc=!1))}),yield Yl(t,r,e)}catch(r){yield uc(r)}}),yx.apply(this,arguments)}function cN(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=Qe(u);m.onlineState=l;let E=!1;m.queries.forEach((b,A)=>{for(const R of A.listeners)R.Mu(l)&&(E=!0)}),E&&lx(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function PO(n,e,t){return vx.apply(this,arguments)}function vx(){return vx=(0,it.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new $n(Ke.comparator);l=l.insert(u,An.newNoDocument(u,ft.min()));const m=Kt().add(u),E=new py(ft.min(),new Map,new $n($t),l,m);yield uN(r,E),r.gc=r.gc.remove(u),r.yc.delete(e),bx(r)}else yield _y(r.localStore,e,!1).then(()=>Ty(r,e,t)).catch(uc)}),vx.apply(this,arguments)}function kO(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,it.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const o=yield function JR(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,E,b){const A=E.batch,R=A.keys();let z=se.resolve();return R.forEach(ne=>{z=z.next(()=>b.getEntry(m,ne)).next(Ee=>{const Ve=E.docVersions.get(ne);ht(null!==Ve),Ee.version.compareTo(Ve)<0&&(A.applyToRemoteDocument(Ee,E),Ee.isValidDocument()&&(Ee.setReadTime(E.commitVersion),b.addEntry(Ee)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(m,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Kt();for(let E=0;E<l.mutationResults.length;++E)l.mutationResults[E].transformResults.length>0&&(m=m.add(l.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);Dx(t,r,null),Ix(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yl(t,o)}catch(o){yield uc(o)}}),_x.apply(this,arguments)}function FO(n,e,t){return wx.apply(this,arguments)}function wx(){return wx=(0,it.Z)(function*(n,e,t){const r=Qe(n);try{const o=yield function(u,l){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let b;return m.mutationQueue.lookupMutationBatch(E,l).next(A=>(ht(null!==A),b=A.keys(),m.mutationQueue.removeMutationBatch(E,A))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,b)).next(()=>m.localDocuments.getDocuments(E,b))})}(r.localStore,e);Dx(r,e,t),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yl(r,o)}catch(o){yield uc(o)}}),wx.apply(this,arguments)}function Ix(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Dx(n,e,t){const r=Qe(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Ty(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||lN(n,r)})}function lN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(sw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),bx(n))}function Cx(n,e,t){for(const r of t)r instanceof sN?(n.Ic.addReference(r.key,e),VO(n,r)):r instanceof oN?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||lN(n,r.key)):at()}function VO(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.mc.add(r),bx(n))}function bx(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ke(un.fromString(e)),r=n.Ac.next();n.yc.set(r,new xO(t)),n.gc=n.gc.insert(t,r),TC(n.remoteStore,new Zl(ys(Nh(t.path)),r,"TargetPurposeLimboResolution",Hs.ct))}}function Yl(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,it.Z)(function*(n,e,t){const r=Qe(n),o=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,E)=>{l.push(r.Rc(E,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const A=MA.Li(E.targetId,b);u.push(A)}}))}),yield Promise.all(l),r.dc.nu(o),yield(m=(0,it.Z)(function*(E,b){const A=Qe(E);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>se.forEach(b,z=>se.forEach(z.Fi,ne=>A.persistence.referenceDelegate.addReference(R,z.targetId,ne)).next(()=>se.forEach(z.Bi,ne=>A.persistence.referenceDelegate.removeReference(R,z.targetId,ne)))))}catch(R){if(!Ia(R))throw R;Pe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of b){const z=R.targetId;if(!R.fromCache){const ne=A.Ji.get(z),Ve=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);A.Ji=A.Ji.insert(z,Ve)}}}),function(E,b){return m.apply(this,arguments)})(r.localStore,u))}),Tx.apply(this,arguments)}function UO(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,it.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield V1(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yl(t,r.er)}var o}),Sx.apply(this,arguments)}function BO(n,e){const t=Qe(n),r=t.yc.get(e);if(r&&r.fc)return Kt().add(r.key);{let o=Kt();const u=t._c.get(e);if(!u)return o;for(const l of u){const m=t.wc.get(l);o=o.unionWith(m.view.nc)}return o}}class AC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.serializer=rw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function L1(n,e,t,r){return new QR(n,e,t,r)}(this.persistence,new F1,e.initialUser,this.serializer)}createPersistence(e){return new TA(vC.zs,this.serializer)}createSharedClientState(e){return new W1}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sy{initialize(e,t){var r=this;return(0,it.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>cN(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,r.syncEngine),yield function rx(n,e){return ix.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DO}createDatastore(e){const t=rw(e.databaseInfo.databaseId),r=new oO(e.databaseInfo);return new cO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>cN(this.syncEngine,m,0),l=q1.D()?new q1:new rO,new hO(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,E,b){const A=new MO(r,o,u,l,m,E);return b&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const r=Qe(t);Pe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield wy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class xC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XO{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ai.UNAUTHENTICATED,this.clientId=gD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,it.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Dy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function MC(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,it.Z)(function*(u){r.isEqual(u)||(yield V1(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Lx.apply(this,arguments)}function Vx(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Bx(n){return $x.apply(this,arguments)}(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>tN(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>tN(e.remoteStore,u)),n._onlineComponents=e}),Ux.apply(this,arguments)}function $x(){return $x=(0,it.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield MC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function mN(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield MC(n,new AC)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield MC(n,new AC);return n._offlineComponents}),$x.apply(this,arguments)}function NC(n){return jx.apply(this,arguments)}function jx(){return jx=(0,it.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vx(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield Vx(n,new Sy))),n._onlineComponents}),jx.apply(this,arguments)}function Ay(n){return zx.apply(this,arguments)}function zx(){return zx=(0,it.Z)(function*(n){const e=yield NC(n),t=e.eventManager;return t.onListen=NO.bind(null,e.syncEngine),t.onUnlisten=RO.bind(null,e.syncEngine),t}),zx.apply(this,arguments)}function IN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const DN=new Map;function Gx(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CN(n){if(!Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bN(n){if(Ke.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OC(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class SN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function uP(n,e,t,r){if(!0===e&&!0===r)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ow{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fD;switch(t.type){case"firstParty":return new v0(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DN.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),DN.delete(e),t.terminate())}(this),Promise.resolve()}}class Wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class mc extends Yi{constructor(e,t,r){super(e,t,Nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new Ke(e))}withConverter(e){return new mc(this.firestore,e,this._path)}}function AN(n,e,...t){if(n=(0,wr.m9)(n),Gx("collection","path",e),n instanceof ow){const r=un.fromString(e,...t);return bN(r),new mc(n,null,r)}{if(!(n instanceof Wr||n instanceof mc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return bN(r),new mc(n.firestore,null,r)}}function aw(n,e,...t){if(n=(0,wr.m9)(n),1===arguments.length&&(e=gD.A()),Gx("doc","path",e),n instanceof ow){const r=un.fromString(e,...t);return CN(r),new Wr(n,null,new Ke(r))}{if(!(n instanceof Wr||n instanceof mc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return CN(r),new Wr(n.firestore,n instanceof mc?n.converter:null,new Ke(r))}}class lP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new BA(this,"async_queue_retry"),this.Xc=()=>{const t=bC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=bC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=bC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,it.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ia(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=sx.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&at()}verifyOperationInProgress(){}sa(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Wx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class er extends ow{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new lP,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||MN(this),this._firestoreClient.terminate()}}function hP(n,e){const t="object"==typeof n?n:(0,tu.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,tu._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,wr.P0)("firestore");u&&function cP(n,e,t,r={}){var o;const u=(n=pn(n,ow))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,E;if("string"==typeof r.mockUserToken)m=r.mockUserToken,E=ai.MOCK_USER;else{m=(0,wr.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ai(b)}n._authCredentials=new AS(new m0(m,E))}}(o,...u)}return o}function di(n){return n._firestoreClient||MN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MN(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PD(n._databaseId,m,n._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,IN(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new XO(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Hp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hp(li.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hp(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xy{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cw{constructor(e){this._methodName=e}}class qx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const pP=/^__.*__$/;class gP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fh(e,this.data,t,this.fieldTransforms)}}class ON{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class PC{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new PC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PN(this.ca)&&pP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class mP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rw(e)}ya(e,t,r,o=!1){return new PC({ca:e,methodName:t,ga:r,path:Ir.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(n){const e=n._freezeSettings(),t=rw(n._databaseId);return new mP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kx(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);Yx("Data must be an object, but it was:",l,r);const m=UN(r,l);let E,b;if(u.merge)E=new Ei(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const A=[];for(const R of u.mergeFields){const z=dw(e,R,t);if(!l.contains(z))throw new Me(ce.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);$N(A,z)||A.push(z)}E=new Ei(A),b=l.fieldTransforms.filter(R=>E.covers(R.field))}else E=null,b=l.fieldTransforms;return new gP(new Kn(m),E,b)}class lw extends cw{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lw}}function kN(n,e,t){return new PC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yP extends cw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=kN(this,e,!0),r=this.pa.map(u=>zp(u,t)),o=new gu(r);return new Pp(e.path,o)}isEqual(e){return this===e}}class vP extends cw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=kN(this,e,!0),r=this.pa.map(u=>zp(u,t)),o=new Kl(r);return new Pp(e.path,o)}isEqual(e){return this===e}}function zp(n,e){if(BN(n=(0,wr.m9)(n)))return Yx("Unsupported field value:",e,n),UN(n,e);if(n instanceof cw)return function(t,r){if(!PN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=zp(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,wr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Bn.fromDate(t);return{timestampValue:Q(r.serializer,o)}}if(t instanceof Bn){const o=new Bn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Q(r.serializer,o)}}if(t instanceof qx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hp)return{bytesValue:_e(r.serializer,t._byteString)};if(t instanceof Wr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ut(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OC(t)}`)}(n,e)}function UN(n,e){const t={};return zS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(n,(r,o)=>{const u=zp(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function BN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof qx||n instanceof Hp||n instanceof Wr||n instanceof cw)}function Yx(n,e,t){if(!BN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function dw(n,e,t){if((e=(0,wr.m9)(e))instanceof xy)return e._internalPath;if("string"==typeof e)return kC(n,e);throw FC("Field path arguments must be of type string or ",n,!1,void 0,t)}const wP=new RegExp("[~\\*/\\[\\]]");function kC(n,e,t){if(e.search(wP)>=0)throw FC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xy(...e.split("."))._internalPath}catch{throw FC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FC(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||l)&&(E+=" (found",u&&(E+=` in field ${r}`),l&&(E+=` in document ${o}`),E+=")"),new Me(ce.INVALID_ARGUMENT,m+n+E)}function $N(n,e){return n.some(t=>t.isEqual(e))}class Qx{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new EP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class EP extends Qx{data(){return super.data()}}function LC(n,e){return"string"==typeof e?kC(n,e):e instanceof xy?e._internalPath:e._delegate._internalPath}class DP{convertValue(e,t="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hl(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new qx(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=S0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);ht(a1(r));const o=new cc(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return o.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Xx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ry extends Qx{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $C(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $C extends Ry{data(e={}){return super.data(e)}}class Oy{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $C(this._firestore,this._userDataWriter,r.key,r,new Gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new $C(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new $C(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Gp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,b=-1;return 0!==l.type&&(E=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:bP(l.type),doc:m,oldIndex:E,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}class Gh extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,t)}}function SP(n,e,t,...r){n=pn(n,Wr);const o=pn(n.firestore,er),u=My(o);let l;return l="string"==typeof(e=(0,wr.m9)(e))||e instanceof xy?function LN(n,e,t,r,o,u){const l=n.ya(1,e,t),m=[dw(e,r,t)],E=[o];if(u.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<u.length;z+=2)m.push(dw(e,u[z])),E.push(u[z+1]);const b=[],A=Kn.empty();for(let z=m.length-1;z>=0;--z)if(!$N(b,m[z])){const ne=m[z];let Ee=E[z];Ee=(0,wr.m9)(Ee);const Ve=l.da(ne);if(Ee instanceof lw)b.push(ne);else{const je=zp(Ee,Ve);null!=je&&(b.push(ne),A.set(ne,je))}}const R=new Ei(b);return new ON(A,R,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function FN(n,e,t,r){const o=n.ya(1,e,t);Yx("Data must be an object, but it was:",o,r);const u=[],l=Kn.empty();Hl(r,(E,b)=>{const A=kC(e,E,t);b=(0,wr.m9)(b);const R=o.da(A);if(b instanceof lw)u.push(A);else{const z=zp(b,R);null!=z&&(u.push(A),l.set(A,z))}});const m=new Ei(u);return new ON(l,m,o.fieldTransforms)}(u,"updateDoc",n._key,e),fw(o,[l.toMutation(n._key,jn.exists(!0))])}function AP(n){return fw(pn(n.firestore,er),[new Lh(n._key,jn.none())])}function xP(n,e){const t=pn(n.firestore,er),r=aw(n),o=Xx(n.converter,e);return fw(t,[Kx(My(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function fw(n,e){return function(t,r){const o=new zr;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function OO(n,e,t){return mx.apply(this,arguments)}(yield function Hx(n){return NC(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}(di(n),e)}function jP(...n){return new yP("arrayUnion",n)}function HP(...n){return new vP("arrayRemove",n)}!function(n,e=!0){sc=tu.SDK_VERSION,(0,tu._registerComponent)(new ao.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new er(new xS(t.getProvider("auth-internal")),new w0(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(m.options.projectId,E)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,tu.registerVersion)(hD,"3.13.0",n),(0,tu.registerVersion)(hD,"3.13.0","esm2017")}(),P(6878);class QN{constructor(){return(0,or.vb)("auth")}}var qP={includeMetadataChanges:!1};function rM(n,e){return void 0===e&&(e=qP),new Jr.y(function(t){var r=function MP(n,...e){var t,r,o;n=(0,wr.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Wx(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Wx(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let E,b,A;if(n instanceof Wr)b=pn(n.firestore,er),A=Nh(n._key.path),E={next:R=>{e[l]&&e[l](function eM(n,e,t){const r=t.docs.get(e._key),o=new Gh(n);return new Ry(n,o,e._key,r,new Gp(t.hasPendingWrites,t.fromCache),e.converter)}(b,n,R))},error:e[l+1],complete:e[l+2]};else{const R=pn(n,Yi);b=pn(R.firestore,er),A=R._query;const z=new Gh(b);E={next:ne=>{e[l]&&e[l](new Oy(b,z,R,ne))},error:e[l+1],complete:e[l+2]},function jN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(R,z,ne,Ee){const Ve=new xC(Ee),je=new dx(z,Ve,ne);return R.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function ox(n,e){return ax.apply(this,arguments)}(yield Ay(R),je)})),()=>{Ve.Dc(),R.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function ux(n,e){return cx.apply(this,arguments)}(yield Ay(R),je)}))}}(di(b),A,m,E)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ek(n,e){return void 0===e&&(e={}),function XP(n){return rM(n,{includeMetadataChanges:!0}).pipe((0,Zt.U)(function(e){return e.docs}))}(n).pipe((0,Zt.U)(function(t){return t.map(function(r){return function JN(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Py{constructor(e){return e}}const nR="firestore",oM=new h.OlP("angularfire2.firestore-instances");function rk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Py(r)}}const ik={provide:class tk{constructor(){return(0,or.vb)(nR)}},deps:[[new h.FiY,oM]]},sk={provide:Py,useFactory:function nk(n,e){const t=(0,or.JM)(nR,n,e);return t&&new Py(t)},deps:[[new h.FiY,oM],Zd]};let ok=(()=>{class n{constructor(){(0,Rl.KN)("angularfire",or.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[sk,ik]}),n})();function ak(n,...e){return{ngModule:ok,providers:[{provide:oM,useFactory:rk(n),multi:!0,deps:[h.R0b,h.zs3,or.HU,OE,[new h.FiY,QN],[new h.FiY,sm],...e]}]}}const uk=(0,or.u3)(ek,!0),ck=(0,or.u3)(xP,!0),lk=(0,or.u3)(HP,!0),dk=(0,or.u3)(jP,!0),hk=(0,or.u3)(AP,!0),fk=(0,or.u3)(hP,!0),aM=(0,or.u3)(SP,!0),rR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let HC;const pk=new Uint8Array(16);function gk(){if(!HC&&(HC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!HC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return HC(pk)}const Qi=[];for(let n=0;n<256;++n)Qi.push((n+256).toString(16).slice(1));const yk=function mk(n,e,t){if(rR.randomUUID&&!e&&!n)return rR.randomUUID();const r=(n=n||{}).random||(n.rng||gk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function iR(n,e=0){return(Qi[n[e+0]]+Qi[n[e+1]]+Qi[n[e+2]]+Qi[n[e+3]]+"-"+Qi[n[e+4]]+Qi[n[e+5]]+"-"+Qi[n[e+6]]+Qi[n[e+7]]+"-"+Qi[n[e+8]]+Qi[n[e+9]]+"-"+Qi[n[e+10]]+Qi[n[e+11]]+Qi[n[e+12]]+Qi[n[e+13]]+Qi[n[e+14]]+Qi[n[e+15]]).toLowerCase()}(r)};let ky=(()=>{class n{constructor(t){this.firestore=t}getAllBudgets(t){const r=AN(this.firestore,`users/${t}/budgets`);return uk(r)}getAllExpenses(t){return this.getAllBudgets(t).pipe((0,Zt.U)(r=>{let o=0;for(const u of r)o+=this.getBudgetExpensesAmount(u);return o}))}getBudgetExpensesAmount(t){return t.expenses.reduce((r,o)=>r+o.amount,0)}createUserDatabase(t,r){var o=this;return(0,it.Z)(function*(){try{const u=aw(o.firestore,`users/${t}`);yield function TP(n,e,t){n=pn(n,Wr);const r=pn(n.firestore,er),o=Xx(n.converter,e,t);return fw(r,[Kx(My(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,jn.none())])}(u,{email:r})}catch(u){console.log(u)}})()}addBudget(t,r){const o=AN(this.firestore,`users/${r}/budgets`),u={...t,amount:0,expenses:[]};ck(o,u).then(l=>{console.log("New Budget Created! ID: "+l.id),aM(l,{id:l.id})}).catch(l=>{console.log(l)})}deleteBudget(t,r){const o=aw(this.firestore,`users/${r}/budgets/${t}`);hk(o).then(()=>console.log("Budget deleted"))}addExpense(t,r,o){const u=aw(this.firestore,`users/${o}/budgets/${r.id}`),l={id:yk(),...t};aM(u,{expenses:dk(l)}).then(()=>{console.log("Expense Added! "+JSON.stringify(l))}).catch(m=>console.error(m))}deleteExpense(t,r,o){const u=aw(this.firestore,`users/${o}/budgets/${r}`);aM(u,{expenses:lk(t)}).then(()=>{console.log("Expense deleted!")})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Py))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zC=(()=>{class n{constructor(t,r){this.auth=t,this.budgetsService=r}logIn(t,r){this.auth.signInWithEmailAndPassword(t,r).then(()=>{console.log("Sign in successfully")}).catch(o=>{console.error(o)})}registerUser(t,r){var o=this;return(0,it.Z)(function*(){try{const l=(yield o.auth.createUserWithEmailAndPassword(t,r)).user?.uid;o.budgetsService.createUserDatabase(l,t)}catch(u){console.log(u)}})()}getCurrentUser(){return this.auth.authState}getCurrentUserUID(){return this.auth.authState.pipe((0,Zt.U)(t=>t?t.uid:null))}logOut(){this.auth.signOut().then(()=>console.log("Signed out")).catch(t=>console.error(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(am),h.LFG(ky))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vk=[{path:"",component:(()=>{class n{constructor(t,r){this.router=t,this.authService=r}ngOnInit(){this.authService.getCurrentUser().subscribe(t=>{this.router.navigate(t?[""]:["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps),h.Y36(zC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-startup"]],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})()},{path:"login",component:(()=>{class n{constructor(t,r,o){this.authService=t,this.formBuilder=r,this.router=o,this.registrationClick=new h.vpe,this.loginForm=this.formBuilder.group({email:["",[so.required,so.email]],password:["",[so.required,so.minLength(6)]]})}onRegistrationClick(){this.registrationClick.emit()}logIn(){const{email:t,password:r}=this.loginForm.value;this.authService.logIn(t,r),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zC),h.Y36(Xv),h.Y36(ps))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],outputs:{registrationClick:"registrationClick"},decls:25,vars:2,consts:[[1,"bg-white","text-black","m-12","rounded-md","border-none","flex","flex-col"],[1,"w-min","mx-auto","mt-4"],[1,"text-2xl","lg:text-5xl","border-black","border-2","p-2","text-center","justify-center","me-auto","hover:cursor-default"],[1,"font-semibold"],[1,"text-center","font-semibold","my-4"],[3,"formGroup","ngSubmit"],[1,"flex","flex-col","m-6"],[1,"font-semibold","px-2"],["type","email","formControlName","email","required","",1,"border-black","border-b-2","selection:border-cyan-700","rounded-md","px-2"],["type","password","formControlName","password","required","",1,"border-black","border-b-2","rounded-md","px-2"],[1,"flex","flex-col","justify-center","items-center","mx-6","mt-6","mb-2"],["type","submit",1,"py-2","px-4","bg-cyan-700","text-white","w-full","rounded-md",3,"disabled"],[1,"text-center","mb-2"],["routerLink","/register",1,"font-semibold","text-cyan-600","hover:text-cyan-700","cursor-pointer","transition-all",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3," Spend"),h.TgZ(4,"span",3),h._uU(5,"Smart"),h.qZA()()(),h.TgZ(6,"div",4)(7,"h1"),h._uU(8,"Sign in to your account!"),h.qZA()(),h.TgZ(9,"form",5),h.NdJ("ngSubmit",function(){return r.logIn()}),h.TgZ(10,"div",6)(11,"label",7),h._uU(12,"Email"),h.qZA(),h._UZ(13,"input",8),h.qZA(),h.TgZ(14,"div",6)(15,"label",7),h._uU(16,"Password"),h.qZA(),h._UZ(17,"input",9),h.qZA(),h.TgZ(18,"div",10)(19,"button",11),h._uU(20," Log In "),h.qZA()()(),h.TgZ(21,"div",12),h._uU(22," Don't have an account yet? "),h.TgZ(23,"span",13),h.NdJ("click",function(){return r.onRegistrationClick()}),h._uU(24,"Register"),h.qZA()()()),2&t&&(h.xp6(9),h.Q6J("formGroup",r.loginForm),h.xp6(10),h.Q6J("disabled",r.loginForm.invalid))},dependencies:[xf,qd,Vd,kf,ma,Nl,$f,Us],encapsulation:2}),n})()},{path:"register",component:(()=>{class n{constructor(t,r){this.authService=t,this.formBuilder=r,this.loginClick=new h.vpe,this.registrationForm=this.formBuilder.group({email:["",[so.required,so.email]],password:["",[so.required,so.minLength(6)]],confirmPassword:["",[so.required,so.minLength(6)]]})}register(){const{email:t,password:r}=this.registrationForm.value;this.authService.registerUser(t,r)}onLoginClick(){this.loginClick.emit()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zC),h.Y36(Xv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-registration"]],outputs:{loginClick:"loginClick"},decls:29,vars:2,consts:[[1,"bg-white","text-black","m-12","rounded-md","border-none","flex","flex-col"],[1,"w-min","mx-auto","mt-4"],[1,"text-2xl","lg:text-5xl","border-black","border-2","p-2","text-center","justify-center","me-auto","hover:cursor-default"],[1,"font-semibold"],[1,"text-center","font-semibold","my-4"],[3,"formGroup","ngSubmit"],[1,"flex","flex-col","m-6"],[1,"font-semibold","px-2"],["type","email","formControlName","email","required","",1,"border-black","border-b-2","selection:border-cyan-700","rounded-md","px-2"],["type","password","formControlName","password","required","",1,"border-black","border-b-2","rounded-md","px-2"],["type","password","formControlName","confirmPassword","required","",1,"border-black","border-b-2","rounded-md","px-2"],[1,"flex","flex-col","justify-center","items-center","mx-6","mt-6","mb-2"],["type","submit",1,"py-2","px-4","bg-cyan-700","text-white","w-full","rounded-md",3,"disabled"],[1,"text-center","mb-2"],["routerLink","/login",1,"font-semibold","text-cyan-600","hover:text-cyan-700","cursor-pointer","transition-all",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3," Spend"),h.TgZ(4,"span",3),h._uU(5,"Smart"),h.qZA()()(),h.TgZ(6,"div",4)(7,"h1"),h._uU(8,"Create a new account!"),h.qZA()(),h.TgZ(9,"form",5),h.NdJ("ngSubmit",function(){return r.register()}),h.TgZ(10,"div",6)(11,"label",7),h._uU(12,"Email"),h.qZA(),h._UZ(13,"input",8),h.qZA(),h.TgZ(14,"div",6)(15,"label",7),h._uU(16,"Password"),h.qZA(),h._UZ(17,"input",9),h.qZA(),h.TgZ(18,"div",6)(19,"label",7),h._uU(20,"Confirm password"),h.qZA(),h._UZ(21,"input",10),h.qZA(),h.TgZ(22,"div",11)(23,"button",12),h._uU(24," Create Account "),h.qZA()()(),h.TgZ(25,"div",13),h._uU(26," Already have an account? "),h.TgZ(27,"span",14),h.NdJ("click",function(){return r.onLoginClick()}),h._uU(28,"Log in"),h.qZA()()()),2&t&&(h.xp6(9),h.Q6J("formGroup",r.registrationForm),h.xp6(14),h.Q6J("disabled",r.registrationForm.invalid))},dependencies:[xf,qd,Vd,kf,ma,Nl,$f,Us],encapsulation:2}),n})()}];let _k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Xw.forRoot(vk),Xw]}),n})(),wk=(()=>{class n{constructor(){this.addTrackerClick=new h.vpe,this.logOutClick=new h.vpe}onAddTrackerClick(){this.addTrackerClick.emit()}logOut(){this.logOutClick.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header"]],outputs:{addTrackerClick:"addTrackerClick",logOutClick:"logOutClick"},decls:9,vars:0,consts:[[1,"flex","gap-2","mb-4"],[1,"text-2xl","lg:text-5xl","border-2","p-2","text-center","justify-center","me-auto","mx-4","hover:cursor-default"],[1,"font-semibold"],[1,"border-2","mr-4","w-32","text-lg","lg:text-2xl","lg:w-48","hover:bg-cyan-700","transition-all",3,"click"],[3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2," Spend"),h.TgZ(3,"span",2),h._uU(4,"Smart"),h.qZA()(),h.TgZ(5,"button",3),h.NdJ("click",function(){return r.onAddTrackerClick()}),h._uU(6," New Tracker "),h.qZA(),h.TgZ(7,"button",4),h.NdJ("click",function(){return r.logOut()}),h._uU(8,"Log Out"),h.qZA()())},encapsulation:2}),n})();function Ek(n,e){if(1&n&&(h.TgZ(0,"span",7),h._uU(1),h.ALo(2,"currency"),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij(" / ",h.gM2(2,1,t.max,"EUR","symbol","1.0-2")," ")}}function Ik(n,e){if(1&n&&(h.TgZ(0,"div",8),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.getProgressBarRatio()),h.Q6J("ngClass",t.getProgressBarColor())}}function Dk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",10)(1,"button",11),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onAddExpenseClick())}),h._uU(2," Add Expense "),h.qZA(),h.TgZ(3,"button",12),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onViewExpensesClick())}),h._uU(4," View Expenses "),h.qZA()()}}const Ck=function(n){return{"bg-slate-200/[0.9]":n}};let sR=(()=>{class n{constructor(){this.id="",this.title="Budget",this.amount=0,this.max=0,this.loan=!1,this.gray=!1,this.hideButtons=!1,this.addExpenseClick=new h.vpe,this.viewExpensesClick=new h.vpe}onAddExpenseClick(){this.addExpenseClick.emit()}onViewExpensesClick(){this.viewExpensesClick.emit()}colorClass(){return this.amount>=this.max?"bg-red-200":"bg-slate-50"}getProgressBarRatio(){return this.amount>this.max?"100%":this.amount/this.max*100+"%"}getProgressBarColor(){const t=this.amount/this.max;return t<.5?"bg-sky-400":t<.75?"bg-yellow-300":"bg-red-500"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-budget-card"]],inputs:{id:"id",title:"title",amount:"amount",max:"max",loan:"loan",gray:"gray",hideButtons:"hideButtons"},outputs:{addExpenseClick:"addExpenseClick",viewExpensesClick:"viewExpensesClick"},decls:10,vars:15,consts:[[1,"card","flex","flex-col","text-black",3,"ngClass"],[1,"flex","justify-between","items-baseline","font-semibold","text-xl","mb-3"],[1,"text-inherit","md:text-2xl","lg:text-3xl"],[1,"flex","items-baseline","text-xl","md:text-2xl","lg:text-3xl"],["class","text-black/[0.6] text-sm md:text-lg lg:text-xl ms-1",4,"ngIf"],["class","w-full h-6 bg-slate-200 rounded-lg",4,"ngIf"],["class","flex gap-2 mt-4",4,"ngIf"],[1,"text-black/[0.6]","text-sm","md:text-lg","lg:text-xl","ms-1"],[1,"w-full","h-6","bg-slate-200","rounded-lg"],[1,"h-6","rounded-lg","transition-all","duration-1000",3,"ngClass"],[1,"flex","gap-2","mt-4"],[1,"border-cyan-500","border-2","p-2","text-cyan-500","hover:bg-cyan-500","hover:text-white","font-semibold","rounded-md","ms-auto","transition-all","xl:text-lg",3,"click"],[1,"border-slate-400","border-2","p-2","text-slate-400","hover:bg-slate-400","hover:text-white","rounded-md","transition-all","xl:text-lg",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._uU(3),h.qZA(),h.TgZ(4,"div",3),h._uU(5),h.ALo(6,"currency"),h.YNc(7,Ek,3,6,"span",4),h.qZA()(),h.YNc(8,Ik,2,3,"div",5),h.YNc(9,Dk,5,0,"div",6),h.qZA()),2&t&&(h.Tol(r.colorClass()),h.Q6J("ngClass",h.VKq(13,Ck,r.gray)),h.xp6(3),h.hij(" ",r.title," "),h.xp6(2),h.hij(" ",h.gM2(6,8,r.amount,"EUR","symbol","1.0-2")," "),h.xp6(2),h.Q6J("ngIf",r.max),h.xp6(1),h.Q6J("ngIf",r.max),h.xp6(1),h.Q6J("ngIf",!r.hideButtons))},dependencies:[Sa,Aa,ts],encapsulation:2}),n})(),bk=(()=>{class n{constructor(t){this.budgetsService=t,this.closeModal=new h.vpe}handleSubmit(t){this.budgetsService.addBudget(t.value,this.user.uid),this.handleClose()}handleClose(){this.closeModal.emit()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ky))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-add-budget-modal"]],inputs:{user:"user"},outputs:{closeModal:"closeModal"},decls:22,vars:0,consts:[[1,"fixed","top-0","left-0","right-0","z-50","w-full","p-4","md:p-5","lg:p-6","overflow-x-hidden","overflow-y-auto","md:inset-0","h-full","max-h-full","bg-slate-700/[0.6]"],[1,"modal","relative","m-auto","w-full","max-w-md","md:max-w-lg","lg:max-w-xl","xl:max-w-2xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-2xl"],["type","button","data-modal-hide","authentication-modal",1,"absolute","top-3","right-2.5","text-gray-400","bg-transparent","hover:bg-gray-100","hover:text-gray-900","rounded-lg","text-sm","p-1.5","ml-auto","inline-flex","items-center",3,"click"],["aria-hidden","true","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","fill-gray-600"],["fill","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip","evenodd"],[1,"px-6","py-6","lg:px-8"],[1,"mb-4","text-xl","md:text-2xl","lg:text-3xl","font-medium","text-gray-500"],[1,"space-y-6",3,"ngSubmit"],["f","ngForm"],["for","title",1,"block","mb-2","text-sm","sm:text-md","md:text-lg","lg:text-xl","font-medium","text-gray-600"],["type","text","name","title","id","name","placeholder","Entertainment","ngModel","","required","",1,"bg-gray-100","border","border-gray-300","text-gray-900","text-sm","sm:text-md","md:text-lg","lg:text-xl","rounded-lg","block","w-full","p-2.5"],["for","max",1,"block","mb-2","text-sm","sm:text-md","md:text-lg","lg:text-xl","font-medium","text-gray-900"],["type","number","name","max","id","max","placeholder","200","ngModel","","required","","step","{0.01}",1,"bg-gray-100","border","border-gray-300","text-gray-900","text-sm","sm:text-md","md:text-lg","lg:text-xl","rounded-lg","block","w-full","p-2.5"],[1,"flex","justify-end"],["type","submit",1,"w-full","text-white","bg-cyan-400","hover:bg-cyan-500","focus:ring-4","focus:outline-none","font-medium","rounded-lg","text-sm","sm:text-md","md:text-lg","lg:text-xl","px-5","py-2.5","text-center"]],template:function(t,r){if(1&t){const o=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("click",function(){return r.handleClose()}),h.O4$(),h.TgZ(4,"svg",4),h._UZ(5,"path",5),h.qZA()(),h.kcU(),h.TgZ(6,"div",6)(7,"h3",7),h._uU(8," New Tracker "),h.qZA(),h.TgZ(9,"form",8,9),h.NdJ("ngSubmit",function(){h.CHM(o);const l=h.MAs(10);return h.KtG(r.handleSubmit(l))}),h.TgZ(11,"div")(12,"label",10),h._uU(13,"Title"),h.qZA(),h._UZ(14,"input",11),h.TgZ(15,"div")(16,"label",12),h._uU(17," Maximum Spending "),h.qZA(),h._UZ(18,"input",13),h.qZA(),h.TgZ(19,"div",14)(20,"button",15),h._uU(21," Add Budget "),h.qZA()()()()()()()()}},dependencies:[qd,Vd,Fg,kf,ma,Nl,Bf,Ja],encapsulation:2}),n})(),Tk=(()=>{class n{constructor(t){this.budgetsService=t,this.closeModal=new h.vpe}handleClose(){this.closeModal.emit()}handleSubmit(t){this.user&&this.budgetsService.addExpense(t.value,this.budget,this.user.uid),this.handleClose()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ky))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-add-expense-modal"]],inputs:{user:"user",budget:"budget"},outputs:{closeModal:"closeModal"},decls:26,vars:0,consts:[[1,"fixed","top-0","left-0","right-0","z-50","w-full","p-4","md:p-5","lg:p-6","overflow-x-hidden","overflow-y-auto","md:inset-0","h-full","max-h-full","bg-slate-700/[0.6]"],[1,"modal","relative","m-auto","w-full","max-w-md","md:max-w-lg","lg:max-w-xl","xl:max-w-2xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow-2xl"],["type","button","data-modal-hide","authentication-modal",1,"absolute","top-3","right-2.5","text-gray-400","bg-transparent","hover:bg-gray-100","hover:text-gray-900","rounded-lg","text-sm","p-1.5","ml-auto","inline-flex","items-center",3,"click"],["aria-hidden","true","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","fill-gray-600"],["fill","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip","evenodd"],[1,"px-6","py-6","lg:px-8"],[1,"mb-4","text-xl","md:text-2xl","lg:text-3xl","font-medium","text-gray-500"],[1,"space-y-6",3,"ngSubmit"],["f","ngForm"],["for","title",1,"block","mb-2","text-sm","sm:text-md","md:text-lg","lg:text-xl","font-medium","text-gray-600"],["type","text","name","title","id","title","placeholder","Restaurant Bill","ngModel","","required","",1,"bg-gray-100","border","border-gray-300","text-gray-900","text-sm","sm:text-md","md:text-lg","lg:text-xl","rounded-lg","block","w-full","p-2.5"],["for","amount",1,"block","mb-2","text-sm","sm:text-md","md:text-lg","lg:text-xl","font-medium","text-gray-900"],["type","number","name","amount","id","amount","placeholder","20","ngModel","","required","","step","{0.01}",1,"bg-gray-100","border","border-gray-300","text-gray-900","text-sm","sm:text-md","md:text-lg","lg:text-xl","rounded-lg","block","w-full","p-2.5"],["for","date",1,"block","mb-2","text-sm","sm:text-md","md:text-lg","lg:text-xl","font-medium","text-gray-900"],["type","date","name","date","id","date","placeholder","dayjs()","ngModel","","required","","step","{0.01}",1,"bg-gray-100","border","border-gray-300","text-gray-900","text-sm","sm:text-md","md:text-lg","lg:text-xl","rounded-lg","block","w-full","p-2.5"],[1,"flex","justify-end"],["type","submit",1,"w-full","text-white","bg-cyan-400","hover:bg-cyan-500","focus:ring-4","focus:outline-none","font-medium","rounded-lg","text-sm","sm:text-md","md:text-lg","lg:text-xl","px-5","py-2.5","text-center"]],template:function(t,r){if(1&t){const o=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("click",function(){return r.handleClose()}),h.O4$(),h.TgZ(4,"svg",4),h._UZ(5,"path",5),h.qZA()(),h.kcU(),h.TgZ(6,"div",6)(7,"h3",7),h._uU(8," New Expense "),h.qZA(),h.TgZ(9,"form",8,9),h.NdJ("ngSubmit",function(){h.CHM(o);const l=h.MAs(10);return h.KtG(r.handleSubmit(l))}),h.TgZ(11,"div")(12,"label",10),h._uU(13,"Title"),h.qZA(),h._UZ(14,"input",11),h.qZA(),h.TgZ(15,"div")(16,"label",12),h._uU(17," Amount "),h.qZA(),h._UZ(18,"input",13),h.qZA(),h.TgZ(19,"div")(20,"label",14),h._uU(21," Date "),h.qZA(),h._UZ(22,"input",15),h.qZA(),h.TgZ(23,"div",16)(24,"button",17),h._uU(25," Add Expense "),h.qZA()()()()()()()}},dependencies:[qd,Vd,Fg,kf,ma,Nl,Bf,Ja],encapsulation:2}),n})();var Sk=P(3304);let Ak=(()=>{class n{transform(t){return Sk(t).format("DD.MM.YYYY")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=h.Yjl({name:"dateToLocale",type:n,pure:!0}),n})();function xk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",13)(1,"div"),h._uU(2),h.ALo(3,"dateToLocale"),h.qZA(),h.TgZ(4,"div",14),h._uU(5),h.qZA(),h.TgZ(6,"div",15),h._uU(7),h.ALo(8,"currency"),h.qZA(),h.TgZ(9,"button",16),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.deleteExpense(u))}),h.O4$(),h.TgZ(10,"svg",4),h._UZ(11,"path",17),h.qZA()()()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.lcZ(3,3,t.date)),h.xp6(3),h.hij(" ",t.title," "),h.xp6(2),h.hij(" ",h.gM2(8,5,t.amount,"EUR","symbol","1.0-2")," ")}}let Mk=(()=>{class n{constructor(t,r,o,u){this.budgetsService=t,this.auth=r,this.firestore=o,this.changeDetector=u,this.closeModal=new h.vpe}handleClose(){this.closeModal.emit()}deleteBudget(){this.budgetsService.deleteBudget(this.budget.id,this.user.uid),this.handleClose()}deleteExpense(t){this.budgetsService.deleteExpense(t,this.budget.id,this.user.uid)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ky),h.Y36(am),h.Y36(Py),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-view-expenses-modal"]],inputs:{user:"user",budget:"budget"},outputs:{closeModal:"closeModal"},decls:17,vars:6,consts:[[1,"fixed","top-0","left-0","right-0","z-50","w-full","p-4","md:p-5","lg:p-6","overflow-x-hidden","overflow-y-auto","md:inset-0","h-full","max-h-full","bg-slate-700/[0.6]"],[1,"relative","w-full","max-w-md","md:max-w-lg","lg:max-w-xl","xl:max-w-2xl","max-h-full","m-auto"],[1,"relative","bg-white","text-gray-900","rounded-lg","shadow-lg"],["type","button","data-modal-hide","authentication-modal",1,"absolute","top-3","right-2.5","text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","p-1.5","ml-auto","inline-flex","items-center",3,"click"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fillRule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clipRule","evenodd"],[1,"sr-only"],[1,"px-6","py-6","lg:px-8"],[1,"mb-4","text-xl","md:text-2xl","lg:text-3xl","font-medium","text-gray-500"],[1,"flex","justify-between","mx-2","my-6","gap-2"],[1,"border-2","p-1","text-sm","md:text-md","lg:text-lg","border-red-400","text-red-400","rounded-lg","hover:bg-red-400","hover:text-white","transition-all",3,"click"],[1,"flex","flex-col","gap-4","pb-2"],["class","flex gap-4 items-center mx-6 justify-center mb-2 border-2 border-slate-200 rounded-md p-2","key","expense.id",4,"ngFor","ngForOf"],["key","expense.id",1,"flex","gap-4","items-center","mx-6","justify-center","mb-2","border-2","border-slate-200","rounded-md","p-2"],[1,"me-auto","text-md","md:text-lg","lg:text-xl"],[1,"text-lg","font-semibold","md:text-xl"],[1,"hover:bg-gray-200","p-1","rounded-md",3,"click"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h.NdJ("click",function(){return r.handleClose()}),h.O4$(),h.TgZ(4,"svg",4),h._UZ(5,"path",5),h.qZA(),h.kcU(),h.TgZ(6,"span",6),h._uU(7,"Close modal"),h.qZA()(),h.TgZ(8,"div",7)(9,"h3",8)(10,"div",9)(11,"div"),h._uU(12),h.qZA(),h.TgZ(13,"button",10),h.NdJ("click",function(){return r.deleteBudget()}),h._uU(14," Delete Tracker "),h.qZA()()()(),h.TgZ(15,"div",11),h.YNc(16,xk,12,10,"div",12),h.qZA()()()()),2&t&&(h.ekj("visible",r.budget.id)("hidden",!r.budget.id),h.xp6(12),h.Oqu(r.budget.title),h.xp6(4),h.Q6J("ngForOf",r.budget.expenses))},dependencies:[Or,ts,Ak],encapsulation:2}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-total-budget-card"]],inputs:{amount:"amount"},decls:1,vars:4,consts:[["name","Total Tracked",3,"gray","hideButtons","title","amount"]],template:function(t,r){1&t&&h._UZ(0,"app-budget-card",0),2&t&&h.Q6J("gray",!0)("hideButtons",!0)("title","Total Tracked")("amount",r.amount)},dependencies:[sR],encapsulation:2}),n})();function Rk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-budget-card",10),h.NdJ("addExpenseClick",function(){const u=h.CHM(t).$implicit,l=h.oxw(2);return h.KtG(l.openAddExpenseModal(u))})("viewExpensesClick",function(){const u=h.CHM(t).$implicit,l=h.oxw(2);return h.KtG(l.openViewExpensesModal(u))}),h.qZA()}if(2&n){const t=e.$implicit,r=h.oxw(2);h.Q6J("id",t.id)("amount",r.totalBudgetExpenses(t))("title",t.title)("max",t.max)}}function Ok(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",3)(1,"app-header",4),h.NdJ("addTrackerClick",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.toggleAddBudgetModal())})("logOutClick",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.handleLogOut())}),h.qZA(),h.TgZ(2,"h1",5),h._uU(3," Budgets "),h.qZA(),h.TgZ(4,"div",6),h.YNc(5,Rk,1,4,"app-budget-card",7),h.ALo(6,"async"),h.qZA(),h.TgZ(7,"div",8),h._UZ(8,"app-total-budget-card",9),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(5),h.Q6J("ngForOf",h.lcZ(6,2,t.budgets$)),h.xp6(3),h.Q6J("amount",t.expenses)}}function Pk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-add-budget-modal",11),h.NdJ("closeModal",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.toggleAddBudgetModal())}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("user",t.user)}}function kk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-add-expense-modal",12),h.NdJ("closeModal",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.closeAddExpenseModal())}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("budget",t.currentBudget)("user",t.user)}}function Fk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"app-view-expenses-modal",12),h.NdJ("closeModal",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.closeViewExpensesModal())}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("budget",t.currentBudget)("user",t.user)}}let Lk=(()=>{class n{constructor(t,r){this.authService=t,this.budgetsService=r,this.firestore=(0,h.f3M)(Py),this.registration=!1,this.addBudgetModal=!1,this.addExpenseModal=!1,this.viewExpensesModal=!1}ngOnInit(){this.authService.getCurrentUser().subscribe(t=>{t&&(this.user=t,this.budgets$=this.budgetsService.getAllBudgets(t.uid),this.budgetsService.getAllExpenses(t.uid).subscribe(r=>this.expenses=r))})}totalBudgetExpenses(t){return this.budgetsService.getBudgetExpensesAmount(t)}toggleRegistration(){this.registration=!this.registration}toggleAddBudgetModal(){this.addBudgetModal=!this.addBudgetModal}openAddExpenseModal(t){this.currentBudget=t,this.addExpenseModal=!0}closeAddExpenseModal(){this.addExpenseModal=!1}openViewExpensesModal(t){this.currentBudget=t,this.currentBudgetId=t.id,this.viewExpensesModal=!0}closeViewExpensesModal(){this.viewExpensesModal=!1}handleLogOut(){this.authService.logOut(),this.user=null}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zC),h.Y36(ky))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:4,consts:[["class","my-4 mx-auto items-center md:w-10/12 xl:w-8/12",4,"ngIf"],[3,"user","closeModal",4,"ngIf"],[3,"budget","user","closeModal",4,"ngIf"],[1,"my-4","mx-auto","items-center","md:w-10/12","xl:w-8/12"],[3,"addTrackerClick","logOutClick"],[1,"text-2xl","md:text-3xl","lg:text-4xl","mt-4","md:mt-6","lg:mt-8","font-semibold","mx-4","my-2"],[1,"grid","grid-cols-1","gap-1","items-start","mx-4","lg:grid-cols-2","md:gap-2","lg:gap-4"],[3,"id","amount","title","max","addExpenseClick","viewExpensesClick",4,"ngFor","ngForOf"],[1,"mx-4","mt-6","md:mt-8","lg:mt-10"],[3,"amount"],[3,"id","amount","title","max","addExpenseClick","viewExpensesClick"],[3,"user","closeModal"],[3,"budget","user","closeModal"]],template:function(t,r){1&t&&(h._UZ(0,"router-outlet"),h.YNc(1,Ok,9,4,"div",0),h.YNc(2,Pk,1,1,"app-add-budget-modal",1),h.YNc(3,kk,1,2,"app-add-expense-modal",2),h.YNc(4,Fk,1,2,"app-view-expenses-modal",2)),2&t&&(h.xp6(1),h.Q6J("ngIf",r.user),h.xp6(1),h.Q6J("ngIf",r.addBudgetModal),h.xp6(1),h.Q6J("ngIf",r.addExpenseModal),h.xp6(1),h.Q6J("ngIf",r.viewExpensesModal))},dependencies:[Or,Aa,ag,wk,sR,bk,Tk,Mk,Nk,gr],encapsulation:2}),n})();const oR_firebase={projectId:"spendsmart-4008f",appId:"1:913417332799:web:285e18135235ac8c81708a",storageBucket:"spendsmart-4008f.appspot.com",apiKey:"AIzaSyD3cUEriqT7VeNgO5MBNkC08peS--_ZvUI",authDomain:"spendsmart-4008f.firebaseapp.com",messagingSenderId:"913417332799"};let Vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Lk]}),n.\u0275inj=h.cJS({providers:[ky],imports:[Zc,_k,vT,PM,XT,ya.hO.initializeApp(oR_firebase),FM(()=>Gg(oR_firebase)),ak(()=>fk())]}),n})();md().bootstrapModule(Vk).catch(n=>console.error(n))},3304:function(lt){lt.exports=function(){"use strict";var P=6e4,h=36e5,L="millisecond",j="second",ee="minute",ae="hour",Ie="day",Oe="week",Ue="month",Ce="quarter",H="year",$="date",ue="Invalid Date",Fe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,pe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,We={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var Y=["th","st","nd","rd"],Z=B%100;return"["+B+(Y[(Z-20)%10]||Y[Z]||Y[0])+"]"}},ze=function(B,Y,Z){var Ze=String(B);return!Ze||Ze.length>=Y?B:""+Array(Y+1-Ze.length).join(Z)+B},qe={s:ze,z:function(B){var Y=-B.utcOffset(),Z=Math.abs(Y),Ze=Math.floor(Z/60),He=Z%60;return(Y<=0?"+":"-")+ze(Ze,2,"0")+":"+ze(He,2,"0")},m:function B(Y,Z){if(Y.date()<Z.date())return-B(Z,Y);var Ze=12*(Z.year()-Y.year())+(Z.month()-Y.month()),He=Y.clone().add(Ze,Ue),pt=Z-He<0,gt=Y.clone().add(Ze+(pt?-1:1),Ue);return+(-(Ze+(Z-He)/(pt?He-gt:gt-He))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:Ue,y:H,w:Oe,d:Ie,D:$,h:ae,m:ee,s:j,ms:L,Q:Ce}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return void 0===B}},xe="en",st={};st[xe]=We;var Ae=function(B){return B instanceof be},we=function B(Y,Z,Ze){var He;if(!Y)return xe;if("string"==typeof Y){var pt=Y.toLowerCase();st[pt]&&(He=pt),Z&&(st[pt]=Z,He=pt);var gt=Y.split("-");if(!He&&gt.length>1)return B(gt[0])}else{var yt=Y.name;st[yt]=Y,He=yt}return!Ze&&He&&(xe=He),He||!Ze&&xe},ge=function(B,Y){if(Ae(B))return B.clone();var Z="object"==typeof Y?Y:{};return Z.date=B,Z.args=arguments,new be(Z)},de=qe;de.l=we,de.i=Ae,de.w=function(B,Y){return ge(B,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var be=function(){function B(Z){this.$L=we(Z.locale,null,!0),this.parse(Z)}var Y=B.prototype;return Y.parse=function(Z){this.$d=function(Ze){var He=Ze.date,pt=Ze.utc;if(null===He)return new Date(NaN);if(de.u(He))return new Date;if(He instanceof Date)return new Date(He);if("string"==typeof He&&!/Z$/i.test(He)){var gt=He.match(Fe);if(gt){var yt=gt[2]-1||0,rn=(gt[7]||"0").substring(0,3);return pt?new Date(Date.UTC(gt[1],yt,gt[3]||1,gt[4]||0,gt[5]||0,gt[6]||0,rn)):new Date(gt[1],yt,gt[3]||1,gt[4]||0,gt[5]||0,gt[6]||0,rn)}}return new Date(He)}(Z),this.$x=Z.x||{},this.init()},Y.init=function(){var Z=this.$d;this.$y=Z.getFullYear(),this.$M=Z.getMonth(),this.$D=Z.getDate(),this.$W=Z.getDay(),this.$H=Z.getHours(),this.$m=Z.getMinutes(),this.$s=Z.getSeconds(),this.$ms=Z.getMilliseconds()},Y.$utils=function(){return de},Y.isValid=function(){return this.$d.toString()!==ue},Y.isSame=function(Z,Ze){var He=ge(Z);return this.startOf(Ze)<=He&&He<=this.endOf(Ze)},Y.isAfter=function(Z,Ze){return ge(Z)<this.startOf(Ze)},Y.isBefore=function(Z,Ze){return this.endOf(Ze)<ge(Z)},Y.$g=function(Z,Ze,He){return de.u(Z)?this[Ze]:this.set(He,Z)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(Z,Ze){var He=this,pt=!!de.u(Ze)||Ze,gt=de.p(Z),yt=function(Ne,Je){var kt=de.w(He.$u?Date.UTC(He.$y,Je,Ne):new Date(He.$y,Je,Ne),He);return pt?kt:kt.endOf(Ie)},rn=function(Ne,Je){return de.w(He.toDate()[Ne].apply(He.toDate("s"),(pt?[0,0,0,0]:[23,59,59,999]).slice(Je)),He)},wn=this.$W,te=this.$M,re=this.$D,ye="set"+(this.$u?"UTC":"");switch(gt){case H:return pt?yt(1,0):yt(31,11);case Ue:return pt?yt(1,te):yt(0,te+1);case Oe:var oe=this.$locale().weekStart||0,ve=(wn<oe?wn+7:wn)-oe;return yt(pt?re-ve:re+(6-ve),te);case Ie:case $:return rn(ye+"Hours",0);case ae:return rn(ye+"Minutes",1);case ee:return rn(ye+"Seconds",2);case j:return rn(ye+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(Z){return this.startOf(Z,!1)},Y.$set=function(Z,Ze){var He,pt=de.p(Z),gt="set"+(this.$u?"UTC":""),yt=(He={},He[Ie]=gt+"Date",He[$]=gt+"Date",He[Ue]=gt+"Month",He[H]=gt+"FullYear",He[ae]=gt+"Hours",He[ee]=gt+"Minutes",He[j]=gt+"Seconds",He[L]=gt+"Milliseconds",He)[pt],rn=pt===Ie?this.$D+(Ze-this.$W):Ze;if(pt===Ue||pt===H){var wn=this.clone().set($,1);wn.$d[yt](rn),wn.init(),this.$d=wn.set($,Math.min(this.$D,wn.daysInMonth())).$d}else yt&&this.$d[yt](rn);return this.init(),this},Y.set=function(Z,Ze){return this.clone().$set(Z,Ze)},Y.get=function(Z){return this[de.p(Z)]()},Y.add=function(Z,Ze){var He,pt=this;Z=Number(Z);var gt=de.p(Ze),yt=function(te){var re=ge(pt);return de.w(re.date(re.date()+Math.round(te*Z)),pt)};if(gt===Ue)return this.set(Ue,this.$M+Z);if(gt===H)return this.set(H,this.$y+Z);if(gt===Ie)return yt(1);if(gt===Oe)return yt(7);var rn=(He={},He[ee]=P,He[ae]=h,He[j]=1e3,He)[gt]||1,wn=this.$d.getTime()+Z*rn;return de.w(wn,this)},Y.subtract=function(Z,Ze){return this.add(-1*Z,Ze)},Y.format=function(Z){var Ze=this,He=this.$locale();if(!this.isValid())return He.invalidDate||ue;var pt=Z||"YYYY-MM-DDTHH:mm:ssZ",gt=de.z(this),yt=this.$H,rn=this.$m,wn=this.$M,te=He.weekdays,re=He.months,oe=function(Je,kt,Qt,mt){return Je&&(Je[kt]||Je(Ze,pt))||Qt[kt].slice(0,mt)},ve=function(Je){return de.s(yt%12||12,Je,"0")},Ne=He.meridiem||function(Je,kt,Qt){var mt=Je<12?"AM":"PM";return Qt?mt.toLowerCase():mt};return pt.replace(pe,function(Je,kt){return kt||function(Qt){switch(Qt){case"YY":return String(Ze.$y).slice(-2);case"YYYY":return de.s(Ze.$y,4,"0");case"M":return wn+1;case"MM":return de.s(wn+1,2,"0");case"MMM":return oe(He.monthsShort,wn,re,3);case"MMMM":return oe(re,wn);case"D":return Ze.$D;case"DD":return de.s(Ze.$D,2,"0");case"d":return String(Ze.$W);case"dd":return oe(He.weekdaysMin,Ze.$W,te,2);case"ddd":return oe(He.weekdaysShort,Ze.$W,te,3);case"dddd":return te[Ze.$W];case"H":return String(yt);case"HH":return de.s(yt,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return Ne(yt,rn,!0);case"A":return Ne(yt,rn,!1);case"m":return String(rn);case"mm":return de.s(rn,2,"0");case"s":return String(Ze.$s);case"ss":return de.s(Ze.$s,2,"0");case"SSS":return de.s(Ze.$ms,3,"0");case"Z":return gt}return null}(Je)||gt.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(Z,Ze,He){var pt,gt=this,yt=de.p(Ze),rn=ge(Z),wn=(rn.utcOffset()-this.utcOffset())*P,te=this-rn,re=function(){return de.m(gt,rn)};switch(yt){case H:pt=re()/12;break;case Ue:pt=re();break;case Ce:pt=re()/3;break;case Oe:pt=(te-wn)/6048e5;break;case Ie:pt=(te-wn)/864e5;break;case ae:pt=te/h;break;case ee:pt=te/P;break;case j:pt=te/1e3;break;default:pt=te}return He?pt:de.a(pt)},Y.daysInMonth=function(){return this.endOf(Ue).$D},Y.$locale=function(){return st[this.$L]},Y.locale=function(Z,Ze){if(!Z)return this.$L;var He=this.clone(),pt=we(Z,Ze,!0);return pt&&(He.$L=pt),He},Y.clone=function(){return de.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},B}(),J=be.prototype;return ge.prototype=J,[["$ms",L],["$s",j],["$m",ee],["$H",ae],["$W",Ie],["$M",Ue],["$y",H],["$D",$]].forEach(function(B){J[B[1]]=function(Y){return this.$g(Y,B[0],B[1])}}),ge.extend=function(B,Y){return B.$i||(B(Y,be,ge),B.$i=!0),ge},ge.locale=we,ge.isDayjs=Ae,ge.unix=function(B){return ge(1e3*B)},ge.en=st[xe],ge.Ls=st,ge.p={},ge}()},5619:(lt,Se,P)=>{"use strict";P.d(Se,{X:()=>L});var h=P(8645);class L extends h.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ae=super._subscribe(ee);return!ae.closed&&ee.next(this._value),ae}getValue(){const{hasError:ee,thrownError:ae,_value:Ie}=this;if(ee)throw ae;return this._throwIfClosed(),Ie}next(ee){super.next(this._value=ee)}}},5592:(lt,Se,P)=>{"use strict";P.d(Se,{y:()=>Ue});var h=P(1887),L=P(7394),j=P(4850),ee=P(8407),ae=P(2653),Ie=P(4674),Oe=P(1441);let Ue=(()=>{class ue{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const We=new ue;return We.source=this,We.operator=pe,We}subscribe(pe,We,ze){const qe=function $(ue){return ue&&ue instanceof h.Lv||function H(ue){return ue&&(0,Ie.m)(ue.next)&&(0,Ie.m)(ue.error)&&(0,Ie.m)(ue.complete)}(ue)&&(0,L.Nn)(ue)}(pe)?pe:new h.Hp(pe,We,ze);return(0,Oe.x)(()=>{const{operator:xe,source:st}=this;qe.add(xe?xe.call(qe,st):st?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(pe){try{return this._subscribe(pe)}catch(We){pe.error(We)}}forEach(pe,We){return new(We=Ce(We))((ze,qe)=>{const xe=new h.Hp({next:st=>{try{pe(st)}catch(Ae){qe(Ae),xe.unsubscribe()}},error:qe,complete:ze});this.subscribe(xe)})}_subscribe(pe){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(pe)}[j.L](){return this}pipe(...pe){return(0,ee.U)(pe)(this)}toPromise(pe){return new(pe=Ce(pe))((We,ze)=>{let qe;this.subscribe(xe=>qe=xe,xe=>ze(xe),()=>We(qe))})}}return ue.create=Fe=>new ue(Fe),ue})();function Ce(ue){var Fe;return null!==(Fe=ue??ae.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(lt,Se,P)=>{"use strict";P.d(Se,{x:()=>Oe});var h=P(5592),L=P(7394);const ee=(0,P(2306).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=P(9039),Ie=P(1441);let Oe=(()=>{class Ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ue=new Ue(this,this);return ue.operator=$,ue}_throwIfClosed(){if(this.closed)throw new ee}next($){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next($)}})}error($){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ue}=this;for(;ue.length;)ue.shift().error($)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ue,isStopped:Fe,observers:pe}=this;return ue||Fe?L.Lc:(this.currentObservers=null,pe.push($),new L.w0(()=>{this.currentObservers=null,(0,ae.P)(pe,$)}))}_checkFinalizedStatuses($){const{hasError:ue,thrownError:Fe,isStopped:pe}=this;ue?$.error(Fe):pe&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return Ce.create=(H,$)=>new Ue(H,$),Ce})();class Ue extends Oe{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,ue;null===(ue=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ue||ue.call($,H)}error(H){var $,ue;null===(ue=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ue||ue.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,ue;return null!==(ue=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==ue?ue:L.Lc}}},1887:(lt,Se,P)=>{"use strict";P.d(Se,{Hp:()=>ze,Lv:()=>ue});var h=P(4674),L=P(7394),j=P(2653),ee=P(3894);function ae(){}const Ie=Ce("C",void 0,void 0);function Ce(we,ge,de){return{kind:we,value:ge,error:de}}var H=P(7599),$=P(1441);class ue extends L.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,L.Nn)(ge)&&ge.add(this)):this.destination=Ae}static create(ge,de,be){return new ze(ge,de,be)}next(ge){this.isStopped?st(function Ue(we){return Ce("N",we,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?st(function Oe(we){return Ce("E",void 0,we)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?st(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function pe(we,ge){return Fe.call(we,ge)}class We{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:de}=this;if(de.next)try{de.next(ge)}catch(be){qe(be)}}error(ge){const{partialObserver:de}=this;if(de.error)try{de.error(ge)}catch(be){qe(be)}else qe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(de){qe(de)}}}class ze extends ue{constructor(ge,de,be){let J;if(super(),(0,h.m)(ge)||!ge)J={next:ge??void 0,error:de??void 0,complete:be??void 0};else{let B;this&&j.config.useDeprecatedNextContext?(B=Object.create(ge),B.unsubscribe=()=>this.unsubscribe(),J={next:ge.next&&pe(ge.next,B),error:ge.error&&pe(ge.error,B),complete:ge.complete&&pe(ge.complete,B)}):J=ge}this.destination=new We(J)}}function qe(we){j.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(we):(0,ee.h)(we)}function st(we,ge){const{onStoppedNotification:de}=j.config;de&&H.z.setTimeout(()=>de(we,ge))}const Ae={closed:!0,next:ae,error:function xe(we){throw we},complete:ae}},7394:(lt,Se,P)=>{"use strict";P.d(Se,{Lc:()=>Ie,w0:()=>ae,Nn:()=>Oe});var h=P(4674);const j=(0,P(2306).d)(Ce=>function($){Ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ue,Fe)=>`${Fe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ee=P(9039);class ae{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const pe of $)pe.remove(this);else $.remove(this);const{initialTeardown:ue}=this;if((0,h.m)(ue))try{ue()}catch(pe){H=pe instanceof j?pe.errors:[pe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const pe of Fe)try{Ue(pe)}catch(We){H=H??[],We instanceof j?H=[...H,...We.errors]:H.push(We)}}if(H)throw new j(H)}}add(H){var $;if(H&&H!==this)if(this.closed)Ue(H);else{if(H instanceof ae){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ee.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,ee.P)($,H),H instanceof ae&&H._removeParent(this)}}ae.EMPTY=(()=>{const Ce=new ae;return Ce.closed=!0,Ce})();const Ie=ae.EMPTY;function Oe(Ce){return Ce instanceof ae||Ce&&"closed"in Ce&&(0,h.m)(Ce.remove)&&(0,h.m)(Ce.add)&&(0,h.m)(Ce.unsubscribe)}function Ue(Ce){(0,h.m)(Ce)?Ce():Ce.unsubscribe()}},2653:(lt,Se,P)=>{"use strict";P.d(Se,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,Se,P)=>{"use strict";P.d(Se,{E:()=>L});const L=new(P(5592).y)(ae=>ae.complete())},2459:(lt,Se,P)=>{"use strict";P.d(Se,{D:()=>ge});var h=P(4829),L=P(3093),j=P(5137),Ie=P(5592),Ue=P(4971),Ce=P(4674),H=P(7103);function ue(de,be){if(!de)throw new Error("Iterable cannot be null");return new Ie.y(J=>{(0,H.f)(J,be,()=>{const B=de[Symbol.asyncIterator]();(0,H.f)(J,be,()=>{B.next().then(Y=>{Y.done?J.complete():J.next(Y.value)})},0,!0)})})}var Fe=P(8382),pe=P(4026),We=P(4266),ze=P(3664),qe=P(5726),xe=P(9853),st=P(541);function ge(de,be){return be?function we(de,be){if(null!=de){if((0,Fe.c)(de))return function ee(de,be){return(0,h.Xf)(de).pipe((0,j.R)(be),(0,L.Q)(be))}(de,be);if((0,We.z)(de))return function Oe(de,be){return new Ie.y(J=>{let B=0;return be.schedule(function(){B===de.length?J.complete():(J.next(de[B++]),J.closed||this.schedule())})})}(de,be);if((0,pe.t)(de))return function ae(de,be){return(0,h.Xf)(de).pipe((0,j.R)(be),(0,L.Q)(be))}(de,be);if((0,qe.D)(de))return ue(de,be);if((0,ze.T)(de))return function $(de,be){return new Ie.y(J=>{let B;return(0,H.f)(J,be,()=>{B=de[Ue.h](),(0,H.f)(J,be,()=>{let Y,Z;try{({value:Y,done:Z}=B.next())}catch(Ze){return void J.error(Ze)}Z?J.complete():J.next(Y)},0,!0)}),()=>(0,Ce.m)(B?.return)&&B.return()})}(de,be);if((0,st.L)(de))return function Ae(de,be){return ue((0,st.Q)(de),be)}(de,be)}throw(0,xe.z)(de)}(de,be):(0,h.Xf)(de)}},4829:(lt,Se,P)=>{"use strict";P.d(Se,{Xf:()=>Fe});var h=P(7582),L=P(4266),j=P(4026),ee=P(5592),ae=P(8382),Ie=P(5726),Oe=P(9853),Ue=P(3664),Ce=P(541),H=P(4674),$=P(3894),ue=P(4850);function Fe(we){if(we instanceof ee.y)return we;if(null!=we){if((0,ae.c)(we))return function pe(we){return new ee.y(ge=>{const de=we[ue.L]();if((0,H.m)(de.subscribe))return de.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,L.z)(we))return function We(we){return new ee.y(ge=>{for(let de=0;de<we.length&&!ge.closed;de++)ge.next(we[de]);ge.complete()})}(we);if((0,j.t)(we))return function ze(we){return new ee.y(ge=>{we.then(de=>{ge.closed||(ge.next(de),ge.complete())},de=>ge.error(de)).then(null,$.h)})}(we);if((0,Ie.D)(we))return xe(we);if((0,Ue.T)(we))return function qe(we){return new ee.y(ge=>{for(const de of we)if(ge.next(de),ge.closed)return;ge.complete()})}(we);if((0,Ce.L)(we))return function st(we){return xe((0,Ce.Q)(we))}(we)}throw(0,Oe.z)(we)}function xe(we){return new ee.y(ge=>{(function Ae(we,ge){var de,be,J,B;return(0,h.mG)(this,void 0,void 0,function*(){try{for(de=(0,h.KL)(we);!(be=yield de.next()).done;)if(ge.next(be.value),ge.closed)return}catch(Y){J={error:Y}}finally{try{be&&!be.done&&(B=de.return)&&(yield B.call(de))}finally{if(J)throw J.error}}ge.complete()})})(we,ge).catch(de=>ge.error(de))})}},3019:(lt,Se,P)=>{"use strict";P.d(Se,{T:()=>Ie});var h=P(7537),L=P(4829),j=P(6232),ee=P(4564),ae=P(2459);function Ie(...Oe){const Ue=(0,ee.yG)(Oe),Ce=(0,ee._6)(Oe,1/0),H=Oe;return H.length?1===H.length?(0,L.Xf)(H[0]):(0,h.J)(Ce)((0,ae.D)(H,Ue)):j.E}},2096:(lt,Se,P)=>{"use strict";P.d(Se,{of:()=>j});var h=P(4564),L=P(2459);function j(...ee){const ae=(0,h.yG)(ee);return(0,L.D)(ee,ae)}},8251:(lt,Se,P)=>{"use strict";P.d(Se,{x:()=>L});var h=P(1887);function L(ee,ae,Ie,Oe,Ue){return new j(ee,ae,Ie,Oe,Ue)}class j extends h.Lv{constructor(ae,Ie,Oe,Ue,Ce,H){super(ae),this.onFinalize=Ce,this.shouldUnsubscribe=H,this._next=Ie?function($){try{Ie($)}catch(ue){ae.error(ue)}}:super._next,this._error=Ue?function($){try{Ue($)}catch(ue){ae.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},7398:(lt,Se,P)=>{"use strict";P.d(Se,{U:()=>j});var h=P(9360),L=P(8251);function j(ee,ae){return(0,h.e)((Ie,Oe)=>{let Ue=0;Ie.subscribe((0,L.x)(Oe,Ce=>{Oe.next(ee.call(ae,Ce,Ue++))}))})}},7537:(lt,Se,P)=>{"use strict";P.d(Se,{J:()=>j});var h=P(1631),L=P(2737);function j(ee=1/0){return(0,h.z)(L.y,ee)}},1631:(lt,Se,P)=>{"use strict";P.d(Se,{z:()=>Ue});var h=P(7398),L=P(4829),j=P(9360),ee=P(7103),ae=P(8251),Oe=P(4674);function Ue(Ce,H,$=1/0){return(0,Oe.m)(H)?Ue((ue,Fe)=>(0,h.U)((pe,We)=>H(ue,pe,Fe,We))((0,L.Xf)(Ce(ue,Fe))),$):("number"==typeof H&&($=H),(0,j.e)((ue,Fe)=>function Ie(Ce,H,$,ue,Fe,pe,We,ze){const qe=[];let xe=0,st=0,Ae=!1;const we=()=>{Ae&&!qe.length&&!xe&&H.complete()},ge=be=>xe<ue?de(be):qe.push(be),de=be=>{pe&&H.next(be),xe++;let J=!1;(0,L.Xf)($(be,st++)).subscribe((0,ae.x)(H,B=>{Fe?.(B),pe?ge(B):H.next(B)},()=>{J=!0},void 0,()=>{if(J)try{for(xe--;qe.length&&xe<ue;){const B=qe.shift();We?(0,ee.f)(H,We,()=>de(B)):de(B)}we()}catch(B){H.error(B)}}))};return Ce.subscribe((0,ae.x)(H,ge,()=>{Ae=!0,we()})),()=>{ze?.()}}(ue,Fe,Ce,$)))}},3093:(lt,Se,P)=>{"use strict";P.d(Se,{Q:()=>ee});var h=P(7103),L=P(9360),j=P(8251);function ee(ae,Ie=0){return(0,L.e)((Oe,Ue)=>{Oe.subscribe((0,j.x)(Ue,Ce=>(0,h.f)(Ue,ae,()=>Ue.next(Ce),Ie),()=>(0,h.f)(Ue,ae,()=>Ue.complete(),Ie),Ce=>(0,h.f)(Ue,ae,()=>Ue.error(Ce),Ie)))})}},3020:(lt,Se,P)=>{"use strict";P.d(Se,{B:()=>ae});var h=P(4829),L=P(8645),j=P(1887),ee=P(9360);function ae(Oe={}){const{connector:Ue=(()=>new L.x),resetOnError:Ce=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=Oe;return ue=>{let Fe,pe,We,ze=0,qe=!1,xe=!1;const st=()=>{pe?.unsubscribe(),pe=void 0},Ae=()=>{st(),Fe=We=void 0,qe=xe=!1},we=()=>{const ge=Fe;Ae(),ge?.unsubscribe()};return(0,ee.e)((ge,de)=>{ze++,!xe&&!qe&&st();const be=We=We??Ue();de.add(()=>{ze--,0===ze&&!xe&&!qe&&(pe=Ie(we,$))}),be.subscribe(de),!Fe&&ze>0&&(Fe=new j.Hp({next:J=>be.next(J),error:J=>{xe=!0,st(),pe=Ie(Ae,Ce,J),be.error(J)},complete:()=>{qe=!0,st(),pe=Ie(Ae,H),be.complete()}}),(0,h.Xf)(ge).subscribe(Fe))})(ue)}}function Ie(Oe,Ue,...Ce){if(!0===Ue)return void Oe();if(!1===Ue)return;const H=new j.Hp({next:()=>{H.unsubscribe(),Oe()}});return(0,h.Xf)(Ue(...Ce)).subscribe(H)}},5137:(lt,Se,P)=>{"use strict";P.d(Se,{R:()=>L});var h=P(9360);function L(j,ee=0){return(0,h.e)((ae,Ie)=>{Ie.add(j.schedule(()=>ae.subscribe(Ie),ee))})}},4664:(lt,Se,P)=>{"use strict";P.d(Se,{w:()=>ee});var h=P(4829),L=P(9360),j=P(8251);function ee(ae,Ie){return(0,L.e)((Oe,Ue)=>{let Ce=null,H=0,$=!1;const ue=()=>$&&!Ce&&Ue.complete();Oe.subscribe((0,j.x)(Ue,Fe=>{Ce?.unsubscribe();let pe=0;const We=H++;(0,h.Xf)(ae(Fe,We)).subscribe(Ce=(0,j.x)(Ue,ze=>Ue.next(Ie?Ie(Fe,ze,We,pe++):ze),()=>{Ce=null,ue()}))},()=>{$=!0,ue()}))})}},9397:(lt,Se,P)=>{"use strict";P.d(Se,{b:()=>ae});var h=P(4674),L=P(9360),j=P(8251),ee=P(2737);function ae(Ie,Oe,Ue){const Ce=(0,h.m)(Ie)||Oe||Ue?{next:Ie,error:Oe,complete:Ue}:Ie;return Ce?(0,L.e)((H,$)=>{var ue;null===(ue=Ce.subscribe)||void 0===ue||ue.call(Ce);let Fe=!0;H.subscribe((0,j.x)($,pe=>{var We;null===(We=Ce.next)||void 0===We||We.call(Ce,pe),$.next(pe)},()=>{var pe;Fe=!1,null===(pe=Ce.complete)||void 0===pe||pe.call(Ce),$.complete()},pe=>{var We;Fe=!1,null===(We=Ce.error)||void 0===We||We.call(Ce,pe),$.error(pe)},()=>{var pe,We;Fe&&(null===(pe=Ce.unsubscribe)||void 0===pe||pe.call(Ce)),null===(We=Ce.finalize)||void 0===We||We.call(Ce)}))}):ee.y}},4552:(lt,Se,P)=>{"use strict";P.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(lt,Se,P)=>{"use strict";P.d(Se,{z:()=>h});const h={setTimeout(L,j,...ee){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(L,j,...ee):setTimeout(L,j,...ee)},clearTimeout(L){const{delegate:j}=h;return(j?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(lt,Se,P)=>{"use strict";P.d(Se,{h:()=>L});const L=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,Se,P)=>{"use strict";P.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(lt,Se,P)=>{"use strict";P.d(Se,{_6:()=>Ie,jO:()=>ee,yG:()=>ae});var h=P(4674);function j(Oe){return Oe[Oe.length-1]}function ee(Oe){return(0,h.m)(j(Oe))?Oe.pop():void 0}function ae(Oe){return function L(Oe){return Oe&&(0,h.m)(Oe.schedule)}(j(Oe))?Oe.pop():void 0}function Ie(Oe,Ue){return"number"==typeof j(Oe)?Oe.pop():Ue}},9039:(lt,Se,P)=>{"use strict";function h(L,j){if(L){const ee=L.indexOf(j);0<=ee&&L.splice(ee,1)}}P.d(Se,{P:()=>h})},2306:(lt,Se,P)=>{"use strict";function h(L){const ee=L(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}P.d(Se,{d:()=>h})},1441:(lt,Se,P)=>{"use strict";P.d(Se,{O:()=>ee,x:()=>j});var h=P(2653);let L=null;function j(ae){if(h.config.useDeprecatedSynchronousErrorHandling){const Ie=!L;if(Ie&&(L={errorThrown:!1,error:null}),ae(),Ie){const{errorThrown:Oe,error:Ue}=L;if(L=null,Oe)throw Ue}}else ae()}function ee(ae){h.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ae)}},7103:(lt,Se,P)=>{"use strict";function h(L,j,ee,ae=0,Ie=!1){const Oe=j.schedule(function(){ee(),Ie?L.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(L.add(Oe),!Ie)return Oe}P.d(Se,{f:()=>h})},2737:(lt,Se,P)=>{"use strict";function h(L){return L}P.d(Se,{y:()=>h})},4266:(lt,Se,P)=>{"use strict";P.d(Se,{z:()=>h});const h=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(lt,Se,P)=>{"use strict";P.d(Se,{D:()=>L});var h=P(4674);function L(j){return Symbol.asyncIterator&&(0,h.m)(j?.[Symbol.asyncIterator])}},4674:(lt,Se,P)=>{"use strict";function h(L){return"function"==typeof L}P.d(Se,{m:()=>h})},8382:(lt,Se,P)=>{"use strict";P.d(Se,{c:()=>j});var h=P(4850),L=P(4674);function j(ee){return(0,L.m)(ee[h.L])}},3664:(lt,Se,P)=>{"use strict";P.d(Se,{T:()=>j});var h=P(4971),L=P(4674);function j(ee){return(0,L.m)(ee?.[h.h])}},4026:(lt,Se,P)=>{"use strict";P.d(Se,{t:()=>L});var h=P(4674);function L(j){return(0,h.m)(j?.then)}},541:(lt,Se,P)=>{"use strict";P.d(Se,{L:()=>ee,Q:()=>j});var h=P(7582),L=P(4674);function j(ae){return(0,h.FC)(this,arguments,function*(){const Oe=ae.getReader();try{for(;;){const{value:Ue,done:Ce}=yield(0,h.qq)(Oe.read());if(Ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ue)}}finally{Oe.releaseLock()}})}function ee(ae){return(0,L.m)(ae?.getReader)}},9360:(lt,Se,P)=>{"use strict";P.d(Se,{A:()=>L,e:()=>j});var h=P(4674);function L(ee){return(0,h.m)(ee?.lift)}function j(ee){return ae=>{if(L(ae))return ae.lift(function(Ie){try{return ee(Ie,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(lt,Se,P)=>{"use strict";P.d(Se,{U:()=>j,z:()=>L});var h=P(2737);function L(...ee){return j(ee)}function j(ee){return 0===ee.length?h.y:1===ee.length?ee[0]:function(Ie){return ee.reduce((Oe,Ue)=>Ue(Oe),Ie)}}},3894:(lt,Se,P)=>{"use strict";P.d(Se,{h:()=>j});var h=P(2653),L=P(7599);function j(ee){L.z.setTimeout(()=>{const{onUnhandledError:ae}=h.config;if(!ae)throw ee;ae(ee)})}},9853:(lt,Se,P)=>{"use strict";function h(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>h})},8926:(lt,Se,P)=>{"use strict";P.d(Se,{tb:()=>Ta,AFp:()=>nE,ip1:()=>ci,hGG:()=>tC,z2F:()=>Ah,Ojb:()=>Fb,sBO:()=>Nh,Sil:()=>du,EJc:()=>OD,Xts:()=>mg,SBq:()=>Tl,lqb:()=>bl,qLn:()=>Sl,vpe:()=>ho,XFs:()=>ot,OlP:()=>vn,zs3:()=>Xu,ZZ4:()=>H0,aQg:()=>gu,soG:()=>Ei,YKP:()=>X_,h0i:()=>Zi,PXZ:()=>BD,R0b:()=>dr,FiY:()=>Tt,Lbi:()=>io,g9A:()=>Yu,Qsj:()=>Av,FYo:()=>dE,JOm:()=>ha,tp0:()=>Xn,Rgc:()=>wh,dDg:()=>GS,eoX:()=>LD,q4F:()=>Hb,GfV:()=>jb,s_b:()=>Eh,ifc:()=>Cn,VuI:()=>lA,MMx:()=>mp,Lck:()=>mS,eFA:()=>ty,Gpc:()=>st,f3M:()=>he,X6Q:()=>sy,$WT:()=>Ws,_c5:()=>eC,qFp:()=>kp,rg0:()=>ud,c2e:()=>T0,zSh:()=>yv,HDt:()=>lu,wAp:()=>Dt,vHH:()=>J,lri:()=>Sh,rWj:()=>M0,cg1:()=>ch,kL8:()=>ym,dqk:()=>ln,Z0I:()=>Di,eJc:()=>Km,QGY:()=>rm,F4k:()=>m_,RDi:()=>ub,AaK:()=>ze,qOj:()=>Hf,Xq5:()=>ST,TTD:()=>cd,_Bn:()=>J_,jDz:()=>yp,xp6:()=>fE,uIk:()=>Wn,Tol:()=>iu,ekj:()=>ii,Suo:()=>un,Xpm:()=>_u,lG2:()=>pr,Yz7:()=>Rt,cJS:()=>qr,oAB:()=>Xl,Yjl:()=>Ma,Y36:()=>Al,_UZ:()=>f_,qZA:()=>tm,TgZ:()=>em,EpF:()=>g_,n5z:()=>ks,LFG:()=>F,$8M:()=>zu,$Z:()=>Og,NdJ:()=>YE,CRH:()=>mD,kcU:()=>tl,O4$:()=>_d,oxw:()=>HT,ALo:()=>wa,lcZ:()=>vp,gM2:()=>wp,Q6J:()=>d_,VKq:()=>u0,iGM:()=>ft,MAs:()=>jE,KtG:()=>Eo,CHM:()=>lf,P3R:()=>hv,Udp:()=>E_,YNc:()=>c_,_uU:()=>hm,Oqu:()=>S_,hij:()=>tc});var h=P(8645),L=P(7394),j=P(5619),ee=P(5592),ae=P(3019),Ie=P(2096),Oe=P(3020),Ue=P(4664),Ce=P(2737),H=P(9360),$=P(8251);function Fe(i,s){return i===s}function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function We(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ze(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ze).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function qe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const xe=pe({__forward_ref__:pe});function st(i){return i.__forward_ref__=st,i.toString=function(){return ze(this())},i}function Ae(i){return we(i)?i():i}function we(i){return"function"==typeof i&&i.hasOwnProperty(xe)&&i.__forward_ref__===st}function ge(i){return i&&!!i.\u0275providers}const be="https://g.co/ng/security#xss";class J extends Error{constructor(s,a){super(function B(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function gt(i,s){throw new J(-201,!1)}function Ft(i,s){null==i&&function vt(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Rt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function qr(i){return{providers:i.providers||[],imports:i.imports||[]}}function ws(i){return mo(i,Jt)||mo(i,Et)}function Di(i){return null!==ws(i)}function mo(i,s){return i.hasOwnProperty(s)?i[s]:null}function Gs(i){return i&&(i.hasOwnProperty(ct)||i.hasOwnProperty(xn))?i[ct]:null}const Jt=pe({\u0275prov:pe}),ct=pe({\u0275inj:pe}),Et=pe({ngInjectableDef:pe}),xn=pe({ngInjectorDef:pe});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Nr;function sn(i){const s=Nr;return Nr=i,s}function Ji(i,s,a){const c=ws(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ot.Optional?null:void 0!==s?s:void gt(ze(i))}const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Es={},hr="__NG_DI_FLAG__",Kr="ngTempTokenPath",tr=/\n/gm,Zn="__source";let Xi;function nr(i){const s=Xi;return Xi=i,s}function V(i,s=ot.Default){if(void 0===Xi)throw new J(-203,!1);return null===Xi?Ji(i,void 0,s):Xi.get(i,s&ot.Optional?null:void 0,s)}function F(i,s=ot.Default){return(function Ci(){return Nr}()||V)(Ae(i),s)}function he(i,s=ot.Default){return F(i,ie(s))}function ie(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function et(i){const s=[];for(let a=0;a<i.length;a++){const c=Ae(i[a]);if(Array.isArray(c)){if(0===c.length)throw new J(900,!1);let d,f=ot.Default;for(let y=0;y<c.length;y++){const _=c[y],C=Xt(_);"number"==typeof C?-1===C?d=_.token:f|=C:d=_}s.push(F(d,f))}else s.push(F(c))}return s}function _t(i,s){return i[hr]=s,i.prototype[hr]=s,i}function Xt(i){return i[hr]}function Nn(i){return{toString:i}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),Cn=(()=>{return(i=Cn||(Cn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Cn;var i})();const Hn={},Gt=[],Is=pe({\u0275cmp:pe}),me=pe({\u0275dir:pe}),X=pe({\u0275pipe:pe}),Re=pe({\u0275mod:pe}),nt=pe({\u0275fac:pe}),Ct=pe({__NG_ELEMENT_ID__:pe}),Bt=pe({__NG_ENV_ID__:pe});function on(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function Yn(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],_=a[c++];i.setAttribute(s,y,_,f)}else{const f=d,y=a[++c];Ds(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),c++}}return c}function Rn(i){return 3===i||4===i||6===i}function Ds(i){return 64===i.charCodeAt(0)}function Cs(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Bo(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Bo(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const yc="ng-template";function Sa(i,s,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==on(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function bs(i){return 4===i.type&&i.value!==yc}function $o(i,s,a){return s===(4!==i.type||a?i.value:yc)}function Wh(i,s,a){let c=4;const d=i.attrs||[],f=function qp(i){for(let s=0;s<i.length;s++)if(Rn(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const C=s[_];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!$o(i,C,a)||""===C&&1===s.length){if(Or(c))return!1;y=!0}}else{const T=8&c?C:s[++_];if(8&c&&null!==i.attrs){if(!Sa(i.attrs,T,a)){if(Or(c))return!1;y=!0}continue}const k=Fn(8&c?"class":C,d,bs(i),a);if(-1===k){if(Or(c))return!1;y=!0;continue}if(""!==T){let G;G=k>f?"":d[k+1].toLowerCase();const Q=8&c?G:null;if(Q&&-1!==on(Q,T,0)||2&c&&T!==G){if(Or(c))return!1;y=!0}}}}else{if(!y&&!Or(c)&&!Or(C))return!1;if(y&&Or(C))continue;y=!1,c=C|1&c}}return Or(c)||y}function Or(i){return 0==(1&i)}function Fn(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function Ql(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function qh(i,s,a=!1){for(let c=0;c<s.length;c++)if(Wh(i,s[c],a))return!0;return!1}function jo(i,s){return i?":not("+s.trim()+")":s}function vc(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Or(y)&&(s+=jo(f,d),d=""),c=y,f=f||!Or(c);a++}return""!==d&&(s+=jo(f,d)),s}function _u(i){return Nn(()=>{const s=Ec(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Cn.Emulated,styles:i.styles||Gt,_:null,schemas:i.schemas||null,tView:null,id:""};Eu(a);const c=i.dependencies;return a.directiveDefs=Ho(c,!1),a.pipeDefs=Ho(c,!0),a.id=function Zh(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function _c(i){return en(i)||gr(i)}function wc(i){return null!==i}function Xl(i){return Nn(()=>({type:i.type,bootstrap:i.bootstrap||Gt,declarations:i.declarations||Gt,imports:i.imports||Gt,exports:i.exports||Gt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function wu(i,s){if(null==i)return Hn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function pr(i){return Nn(()=>{const s=Ec(i);return Eu(s),s})}function Ma(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function en(i){return i[Is]||null}function gr(i){return i[me]||null}function mr(i){return i[X]||null}function Ws(i){const s=en(i)||gr(i)||mr(i);return null!==s&&s.standalone}function yr(i,s){const a=i[Re]||null;if(!a&&!0===s)throw new Error(`Type ${ze(i)} does not have '\u0275mod' property.`);return a}function Ec(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Hn,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Gt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wu(i.inputs,s),outputs:wu(i.outputs)}}function Eu(i){i.features?.forEach(s=>s(i))}function Ho(i,s){if(!i)return null;const a=s?mr:_c;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(wc)}const Tn=0,tt=1,Ot=2,En=3,rr=4,es=5,Dr=6,Pr=7,zn=8,ts=9,Ts=10,St=11,Iu=12,Dc=13,zo=14,Ln=15,yo=16,kr=17,Cr=18,Du=19,qs=20,Go=21,ns=22,Ui=23,Ss=24,Wt=25,bc=1,Tc=2,rs=7,xs=9,br=11;function vr(i){return Array.isArray(i)&&"object"==typeof i[bc]}function hn(i){return Array.isArray(i)&&!0===i[bc]}function Wo(i){return 0!=(4&i.flags)}function Ks(i){return i.componentOffset>-1}function qo(i){return 1==(1&i.flags)}function Qr(i){return!!i.template}function Na(i){return 0!=(512&i[Ot])}function Ys(i,s){return i.hasOwnProperty(nt)?i[nt]:null}let Rc=ln.WeakRef??class Au{constructor(s){this.ref=s}deref(){return this.ref}},Ti=0,hi=null,Ra=!1;function Pn(i){const s=hi;return hi=i,s}class Oa{constructor(){this.id=Ti++,this.ref=function nf(i){return new Rc(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Ra;Ra=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{Ra=s}}producerAccessed(){if(Ra)throw new Error("");if(null===hi)return;let s=hi.producers.get(this.id);void 0===s?(s={consumerNode:hi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:hi.trackingVersion},hi.producers.set(this.id,s),this.consumers.set(hi.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=hi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==hi?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Qn=null;function ud(i){const s=Pn(null);try{return i()}finally{Pn(s)}}const Zo=()=>{};class Fc extends Oa{constructor(s,a,c){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Zo,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Zo,this.watch(this.registerOnCleanup)}finally{Pn(s)}}cleanup(){this.cleanupFn()}}class Lc{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function cd(){return Vc}function Vc(i){return i.type.prototype.ngOnChanges&&(i.setInput=rf),ld}function ld(){const i=Uc(this),s=i?.current;if(s){const a=i.previous;if(a===Hn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function rf(i,s,a,c){const d=this.declaredInputs[a],f=Uc(i)||function dd(i,s){return i[Pu]=s}(i,{previous:Hn,current:null}),y=f.current||(f.current={}),_=f.previous,C=_[d];y[d]=new Lc(C&&C.currentValue,s,_===Hn),i[c]=s}cd.ngInherit=!0;const Pu="__ngSimpleChanges__";function Uc(i){return i[Pu]||null}const fi=function(i,s,a){},ku="svg";function dn(i){for(;Array.isArray(i);)i=i[Tn];return i}function Yo(i,s){return dn(s[i])}function pi(i,s){return dn(s[i.index])}function $c(i,s){return i.data[s]}function _o(i,s){return i[s]}function Fr(i,s){const a=s[i];return vr(a)?a:a[Tn]}function Si(i,s){return null==s?null:i[s]}function Ai(i){i[kr]=0}function Lu(i){1024&i[Ot]||(i[Ot]|=1024,zc(i,1))}function Vu(i){1024&i[Ot]&&(i[Ot]&=-1025,zc(i,-1))}function zc(i,s){let a=i[En];if(null===a)return;a[es]+=s;let c=a;for(a=a[En];null!==a&&(1===s&&1===c[es]||-1===s&&0===c[es]);)a[es]+=s,c=a,a=a[En]}const bt={lFrame:Xc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fd(){return bt.bindingsEnabled}function Te(){return bt.lFrame.lView}function tn(){return bt.lFrame.tView}function lf(i){return bt.lFrame.contextLView=i,i[zn]}function Eo(i){return bt.lFrame.contextLView=null,i}function Lr(){let i=Vn();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vn(){return bt.lFrame.currentTNode}function xi(i,s){const a=bt.lFrame;a.currentTNode=i,a.isParent=s}function Kc(){return bt.lFrame.isParent}function Tr(){const i=bt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function is(){return bt.lFrame.bindingIndex++}function Mi(i){const s=bt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Yc(i,s){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ss(s)}function ss(i){bt.lFrame.currentDirectiveIndex=i}function Qc(){return bt.lFrame.currentQueryIndex}function Fa(i){bt.lFrame.currentQueryIndex=i}function yd(i){const s=i[tt];return 2===s.type?s.declTNode:1===s.type?i[Dr]:null}function Qp(i,s,a){if(a&ot.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&ot.Host||(d=yd(f),null===d||(f=f[zo],10&d.type))););if(null===d)return!1;s=d,i=f}const c=bt.lFrame=df();return c.currentTNode=s,c.lView=i,!0}function Jc(i){const s=df(),a=i[tt];bt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function df(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?Xc(i):s}function Xc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function hf(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ff=hf;function Hu(){const i=hf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Vr(){return bt.lFrame.selectedIndex}function Js(i){bt.lFrame.selectedIndex=i}function bn(){const i=bt.lFrame;return $c(i.tView,i.selectedIndex)}function _d(){bt.lFrame.currentNamespace=ku}function tl(){!function Jp(){bt.lFrame.currentNamespace=null}()}let Ed=!0;function La(){return Ed}function Co(i){Ed=i}function Jr(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:M}=f;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),C&&(i.viewHooks??=[]).push(-a,C),T&&((i.viewHooks??=[]).push(a,T),(i.viewCheckHooks??=[]).push(a,T)),null!=M&&(i.destroyHooks??=[]).push(a,M)}}function os(i,s,a){It(i,s,3,a)}function Xo(i,s,a,c){(3&i[Ot])===a&&It(i,s,a,c)}function kn(i,s){let a=i[Ot];(3&a)===s&&(a&=8191,a+=1,i[Ot]=a)}function It(i,s,a,c){const f=c??-1,y=s.length-1;let _=0;for(let C=void 0!==c?65535&i[kr]:0;C<y;C++)if("number"==typeof s[C+1]){if(_=s[C],null!=c&&_>=c)break}else s[C]<0&&(i[kr]+=65536),(_<f||-1==f)&&(Va(i,a,s,C),i[kr]=(4294901760&i[kr])+C+2),C++}function Xr(i,s){fi(4,i,s);const a=Pn(null);try{s.call(i)}finally{Pn(a),fi(5,i,s)}}function Va(i,s,a,c){const d=a[c]<0,f=a[c+1],_=i[d?-a[c]:a[c]];d?i[Ot]>>13<i[kr]>>16&&(3&i[Ot])===s&&(i[Ot]+=8192,Xr(_,f)):Xr(_,f)}const as=-1;class Xs{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Hi(i){return i!==as}function bo(i){return 32767&i}function gi(i,s){let a=function Ni(i){return i>>16}(i),c=s;for(;a>0;)c=c[zo],a--;return c}let Ns=!0;function il(i){const s=Ns;return Ns=i,s}const Cd=255,ea=5;let To=0;const cs={};function Ba(i,s){const a=ta(i,s);if(-1!==a)return a;const c=s[tt];c.firstCreatePass&&(i.injectorIndex=s.length,ol(c.data,i),ol(s,null),ol(c.blueprint,null));const d=eo(i,s),f=i.injectorIndex;if(Hi(d)){const y=bo(d),_=gi(d,s),C=_[tt].data;for(let T=0;T<8;T++)s[f+T]=_[y+T]|C[y+T]}return s[f+8]=d,f}function ol(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ta(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function eo(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=ls(d),null===c)return as;if(a++,d=d[zo],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return as}function zi(i,s,a){!function Rs(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ct)&&(c=a[Ct]),null==c&&(c=a[Ct]=To++);const d=c&Cd;s.data[i+(d>>ea)]|=1<<d}(i,s,a)}function Ri(i,s,a){if(a&ot.Optional||void 0!==i)return i;gt()}function $a(i,s,a,c){if(a&ot.Optional&&void 0===c&&(c=null),!(a&(ot.Self|ot.Host))){const d=i[ts],f=sn(void 0);try{return d?d.get(s,c,a&ot.Optional):Ji(s,c,a&ot.Optional)}finally{sn(f)}}return Ri(c,0,a)}function al(i,s,a,c=ot.Default,d){if(null!==i){if(2048&s[Ot]&&!(c&ot.Self)){const y=function sr(i,s,a,c,d){let f=i,y=s;for(;null!==f&&null!==y&&2048&y[Ot]&&!(512&y[Ot]);){const _=Os(f,y,a,c|ot.Self,cs);if(_!==cs)return _;let C=f.parent;if(!C){const T=y[qs];if(T){const M=T.get(a,cs,c);if(M!==cs)return M}C=ls(y),y=y[zo]}f=C}return d}(i,s,a,c,cs);if(y!==cs)return y}const f=Os(i,s,a,c,cs);if(f!==cs)return f}return $a(s,a,c,d)}function Os(i,s,a,c,d){const f=function Ps(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ct)?i[Ct]:void 0;return"number"==typeof s?s>=0?s&Cd:ul:s}(a);if("function"==typeof f){if(!Qp(s,i,c))return c&ot.Host?Ri(d,0,c):$a(s,a,c,d);try{const y=f(c);if(null!=y||c&ot.Optional)return y;gt()}finally{ff()}}else if("number"==typeof f){let y=null,_=ta(i,s),C=as,T=c&ot.Host?s[Ln][Dr]:null;for((-1===_||c&ot.SkipSelf)&&(C=-1===_?eo(i,s):s[_+8],C!==as&&ja(c,!1)?(y=s[tt],_=bo(C),s=gi(C,s)):_=-1);-1!==_;){const M=s[tt];if(Un(f,_,M.data)){const k=ir(_,s,a,y,c,T);if(k!==cs)return k}C=s[_+8],C!==as&&ja(c,s[tt].data[_+8]===T)&&Un(f,_,s)?(y=M,_=bo(C),s=gi(C,s)):_=-1}}return d}function ir(i,s,a,c,d,f){const y=s[tt],_=y.data[i+8],M=Gi(_,y,a,null==c?Ks(_)&&Ns:c!=y&&0!=(3&_.type),d&ot.Host&&f===_);return null!==M?So(s,y,M,_):cs}function Gi(i,s,a,c,d){const f=i.providerIndexes,y=s.data,_=1048575&f,C=i.directiveStart,M=f>>20,G=d?_+M:i.directiveEnd;for(let Q=c?_:_+M;Q<G;Q++){const _e=y[Q];if(Q<C&&a===_e||Q>=C&&_e.type===a)return Q}if(d){const Q=y[C];if(Q&&Qr(Q)&&Q.type===a)return C}return null}function So(i,s,a,c){let d=i[a];const f=s.data;if(function pf(i){return i instanceof Xs}(d)){const y=d;y.resolving&&function Ze(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new J(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Z(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}(f[a]));const _=il(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?sn(y.injectImpl):null;Qp(i,c,ot.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Id(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=Vc(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==C&&sn(C),il(_),y.resolving=!1,ff()}}return d}function Un(i,s,a){return!!(a[s+(i>>ea)]&1<<i)}function ja(i,s){return!(i&ot.Self||i&ot.Host&&s)}class to{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return al(this._tNode,this._lView,s,ie(c),a)}}function ul(){return new to(Lr(),Te())}function ks(i){return Nn(()=>{const s=i.prototype.constructor,a=s[nt]||mi(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[nt]||mi(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function mi(i){return we(i)?()=>{const s=mi(Ae(i));return s&&s()}:Ys(i)}function ls(i){const s=i[tt],a=s.type;return 2===a?s.declTNode:1===a?i[Dr]:null}function zu(i){return function mf(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Rn(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Lr(),i)}const no="__parameters__";function At(i,s,a){return Nn(()=>{const c=function ra(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(C,T,M){const k=C.hasOwnProperty(no)?C[no]:Object.defineProperty(C,no,{value:[]})[no];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function aa(i,s){i.forEach(a=>Array.isArray(a)?aa(a,s):s(a))}function Ha(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Br(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function _r(i,s,a){let c=la(i,s);return c>=0?i[1|c]=a:(c=~c,function ua(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function ca(i,s){const a=la(i,s);if(a>=0)return i[1|a]}function la(i,s){return function D(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const Tt=_t(At("Optional"),8),Xn=_t(At("SkipSelf"),4);function ng(i){return 128==(128&i.flags)}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();const gl=new Map;let ww=0;const ig="__ngContext__";function Pi(i,s){vr(s)?(i[ig]=s[Du],function jy(i){gl.set(i[Du],i)}(s)):i[ig]=s}let yl;function Wy(i,s){return yl(i,s)}function vl(i){const s=i[En];return hn(s)?s[En]:s}function qy(i){return Zy(i[Iu])}function Ky(i){return Zy(i[rr])}function Zy(i){for(;null!==i&&!hn(i);)i=i[rr];return i}function Od(i,s,a,c,d){if(null!=c){let f,y=!1;hn(c)?f=c:vr(c)&&(y=!0,c=c[Tn]);const _=dn(c);0===i&&null!==a?null==d?El(s,a,_):wl(s,a,_,d||null,!0):1===i&&null!==a?wl(s,a,_,d||null,!0):2===i?function Il(i,s,a){const c=Ku(i,s);c&&function tb(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=f&&function rb(i,s,a,c,d){const f=a[rs];f!==dn(a)&&Od(s,i,c,f,d);for(let _=br;_<a.length;_++){const C=a[_];Cf(C[tt],C,i,s,c,f)}}(s,i,f,a,d)}}function Qy(i,s,a){return i.createElement(s,a)}function Sw(i,s){const a=i[xs],c=a.indexOf(s);Vu(s),a.splice(c,1)}function _l(i,s){if(i.length<=br)return;const a=br+s,c=i[a];if(c){const d=c[yo];null!==d&&d!==i&&Sw(d,c),s>0&&(i[a-1][rr]=c[rr]);const f=Br(i,br+s);!function YC(i,s){Cf(i,s,s[St],2,null,null),s[Tn]=null,s[Dr]=null}(c[tt],c);const y=f[Cr];null!==y&&y.detachView(f[tt]),c[En]=null,c[rr]=null,c[Ot]&=-129}return c}function XC(i,s){if(!(256&s[Ot])){const a=s[St];s[Ui]?.destroy(),s[Ss]?.destroy(),a.destroyNode&&Cf(i,s,a,3,null,null),function JC(i){let s=i[Iu];if(!s)return Xy(i[tt],i);for(;s;){let a=null;if(vr(s))a=s[Iu];else{const c=s[br];c&&(a=c)}if(!a){for(;s&&!s[rr]&&s!==i;)vr(s)&&Xy(s[tt],s),s=s[En];null===s&&(s=i),vr(s)&&Xy(s[tt],s),a=s&&s[rr]}s=a}}(s)}}function Xy(i,s){if(!(256&s[Ot])){s[Ot]&=-129,s[Ot]|=256,function Aw(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Xs)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],C=f[y+1];fi(4,_,C);try{C.call(_)}finally{fi(5,_,C)}}else{fi(4,d,f);try{f.call(d)}finally{fi(5,d,f)}}}}}(i,s),function eb(i,s){const a=i.cleanup,c=s[Pr];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[Pr]=null);const d=s[Go];if(null!==d){s[Go]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[tt].type&&s[St].destroy();const a=s[yo];if(null!==a&&hn(s[En])){a!==s[En]&&Sw(a,s);const c=s[Cr];null!==c&&c.detachView(i)}!function Rd(i){gl.delete(i[Du])}(s)}}function Pd(i,s,a){return function xw(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Tn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===Cn.None||f===Cn.Emulated)return null}return pi(c,a)}}(i,s.parent,a)}function wl(i,s,a,c,d){i.insertBefore(s,a,c,d)}function El(i,s,a){i.appendChild(s,a)}function kd(i,s,a,c,d){null!==c?wl(i,s,a,c,d):El(i,s,a)}function Ku(i,s){return i.parentNode(s)}let ev,rv,dg,Rw=function Nw(i,s,a){return 40&i.type?pi(i,a):null};function ug(i,s,a,c){const d=Pd(i,c,s),f=s[St],_=function Mw(i,s,a){return Rw(i,s,a)}(c.parent||s[Dr],c,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)kd(f,d,a[C],_,!1);else kd(f,d,a,_,!1);void 0!==ev&&ev(f,c,s,a,d)}function cg(i,s){if(null!==s){const a=s.type;if(3&a)return pi(s,i);if(4&a)return lg(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return cg(i,c);{const d=i[s.index];return hn(d)?lg(-1,d):dn(d)}}if(32&a)return Wy(s,i)()||dn(i[s.index]);{const c=Pw(i,s);return null!==c?Array.isArray(c)?c[0]:cg(vl(i[Ln]),c):cg(i,s.next)}}return null}function Pw(i,s){return null!==s?i[Ln][Dr].projection[s.projection]:null}function lg(i,s){const a=br+i+1;if(a<s.length){const c=s[a],d=c[tt].firstChild;if(null!==d)return cg(c,d)}return s[rs]}function tv(i,s,a,c,d,f,y){for(;null!=a;){const _=c[a.index],C=a.type;if(y&&0===s&&(_&&Pi(dn(_),c),a.flags|=2),32!=(32&a.flags))if(8&C)tv(i,s,a.child,c,d,f,!1),Od(s,i,d,_,f);else if(32&C){const T=Wy(a,c);let M;for(;M=T();)Od(s,i,d,M,f);Od(s,i,d,_,f)}else 16&C?kw(i,s,c,a,d,f):Od(s,i,d,_,f);a=y?a.projectionNext:a.next}}function Cf(i,s,a,c,d,f){tv(a,c,i.firstChild,s,d,f,!1)}function kw(i,s,a,c,d,f){const y=a[Ln],C=y[Dr].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Od(s,i,d,C[T],f);else{let T=C;const M=y[En];ng(c)&&(T.flags|=128),tv(i,s,T,M,d,f,!0)}}function Fw(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Lw(i,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&Yn(i,s,c),null!==d&&Fw(i,s,d),null!==f&&function sb(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function ub(i){rv=i}function Bw(i){return function Tf(){if(void 0===dg&&(dg=null,ln.trustedTypes))try{dg=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return dg}()?.createScriptURL(i)||i}class $w{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${be})`}}function Zu(i){return i instanceof $w?i.changingThisBreaksApplicationSecurity:i}function Sf(i,s){const a=function fb(i){return i instanceof $w&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${be})`)}return a===s}const wb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sr=(()=>((Sr=Sr||{})[Sr.NONE=0]="NONE",Sr[Sr.HTML=1]="HTML",Sr[Sr.STYLE=2]="STYLE",Sr[Sr.SCRIPT=3]="SCRIPT",Sr[Sr.URL=4]="URL",Sr[Sr.RESOURCE_URL=5]="RESOURCE_URL",Sr))();function Ww(i){const s=Ls();return s?s.sanitize(Sr.URL,i)||"":Sf(i,"URL")?Zu(i):function fg(i){return(i=String(i)).match(wb)?i:"unsafe:"+i}(Y(i))}function lv(i){const s=Ls();if(s)return Bw(s.sanitize(Sr.RESOURCE_URL,i)||"");if(Sf(i,"ResourceURL"))return Bw(Zu(i));throw new J(904,!1)}function hv(i,s,a){return function dv(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?lv:Ww}(s,a)(i)}function Ls(){const i=Te();return i&&i[Ts].sanitizer}class vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Rt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mg=new vn("ENVIRONMENT_INITIALIZER"),xb=new vn("INJECTOR",-1),Mb=new vn("INJECTOR_DEF_TYPES");class fv{get(s,a=Es){if(a===Es){const c=new Error(`NullInjectorError: No provider for ${ze(s)}!`);throw c.name="NullInjectorError",c}return a}}function gv(...i){return{\u0275providers:qw(0,i),\u0275fromNgModule:!0}}function qw(i,...s){const a=[],c=new Set;let d;return aa(s,f=>{const y=f;Zw(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&Kw(d,a),a}function Kw(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];mv(d,f=>{s.push(f)})}}function Zw(i,s,a,c){if(!(i=Ae(i)))return!1;let d=null,f=Gs(i);const y=!f&&en(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(f=Gs(C),!f)return!1;d=C}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of C)Zw(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let T;c.add(d);try{aa(f.imports,M=>{Zw(M,s,a,c)&&(T||=[],T.push(M))})}finally{}void 0!==T&&Kw(T,s)}if(!_){const T=Ys(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:Gt},{provide:Mb,useValue:d,multi:!0},{provide:mg,useValue:()=>F(d),multi:!0})}const C=f.providers;null==C||_||mv(C,M=>{s.push(M)})}}return d!==i&&void 0!==i.providers}function mv(i,s){for(let a of i)ge(a)&&(a=a.\u0275providers),Array.isArray(a)?mv(a,s):s(a)}const mM=pe({provide:String,useValue:pe});function Yw(i){return null!==i&&"object"==typeof i&&mM in i}function Ld(i){return"function"==typeof i}const yv=new vn("Set Injector scope."),yg={},Xw={};let vv;function vg(){return void 0===vv&&(vv=new fv),vv}class bl{}class _v extends bl{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tE(s,y=>this.processProvider(y)),this.records.set(xb,Mf(void 0,this)),d.has("environment")&&this.records.set(bl,Mf(void 0,this));const f=this.records.get(yv);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Mb.multi,Gt,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=nr(this),c=sn(void 0);try{return s()}finally{nr(a),sn(c)}}get(s,a=Es,c=ot.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Bt))return s[Bt](this);c=ie(c);const d=nr(this),f=sn(void 0);try{if(!(c&ot.SkipSelf)){let _=this.records.get(s);if(void 0===_){const C=function _M(i){return"function"==typeof i||"object"==typeof i&&i instanceof vn}(s)&&ws(s);_=C&&this.injectableDefInScope(C)?Mf(wv(s),yg):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(c&ot.Self?vg():this.parent).get(s,a=c&ot.Optional&&a===Es?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Kr]=y[Kr]||[]).unshift(ze(s)),d)throw y;return function fr(i,s,a,c){const d=i[Kr];throw s[Zn]&&d.unshift(s[Zn]),i.message=function Mn(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ze(s);if(Array.isArray(s))d=s.map(ze).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):ze(_)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(tr,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Kr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{sn(f),nr(d)}}resolveInjectorInitializers(){const s=nr(this),a=sn(void 0);try{const c=this.get(mg.multi,Gt,ot.Self);for(const d of c)d()}finally{nr(s),sn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ze(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(s){let a=Ld(s=Ae(s))?s:Ae(s&&s.provide);const c=function Ob(i){return Yw(i)?Mf(void 0,i.useValue):Mf(Pb(i),yg)}(s);if(Ld(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Mf(void 0,yg,!0),d.factory=()=>et(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===yg&&(a.value=Xw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vM(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Ae(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function wv(i){const s=ws(i),a=null!==s?s.factory:Ys(i);if(null!==a)return a;if(i instanceof vn)throw new J(204,!1);if(i instanceof Function)return function eE(i){const s=i.length;if(s>0)throw function Yt(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new J(204,!1);const a=function zs(i){return i&&(i[Jt]||i[Et])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new J(204,!1)}function Pb(i,s,a){let c;if(Ld(i)){const d=Ae(i);return Ys(d)||wv(d)}if(Yw(i))c=()=>Ae(i.useValue);else if(function Qw(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...et(i.deps||[]));else if(function Rb(i){return!(!i||!i.useExisting)}(i))c=()=>F(Ae(i.useExisting));else{const d=Ae(i&&(i.useClass||i.provide));if(!function yM(i){return!!i.deps}(i))return Ys(d)||wv(d);c=()=>new d(...et(i.deps))}return c}function Mf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function tE(i,s){for(const a of i)Array.isArray(a)?tE(a,s):a&&ge(a)?tE(a.\u0275providers,s):s(a)}const nE=new vn("AppId",{providedIn:"root",factory:()=>rE}),rE="ng",Yu=new vn("Platform Initializer"),io=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fb=new vn("CSP nonce",{providedIn:"root",factory:()=>function Cl(){if(void 0!==rv)return rv;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Iv=(i,s)=>null;function aE(i,s){return Iv(i,s)}class lE{}class Tv{}class IM{resolveComponentFactory(s){throw function Ki(i){const s=Error(`No component factory found for ${ze(i)}.`);return s.ngComponent=i,s}(s)}}let Sv=(()=>{class i{}return i.NULL=new IM,i})();function kf(){return ma(Lr(),Te())}function ma(i,s){return new Tl(pi(i,s))}let Tl=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=kf,i})();function bg(i){return i instanceof Tl?i.nativeElement:i}class dE{}let Av=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function $b(){const i=Te(),a=Fr(Lr().index,i);return(vr(a)?a:i)[St]}(),i})(),DM=(()=>{class i{}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:()=>null}),i})();class jb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Hb=new jb("16.1.4"),hE={};function Tg(i){for(;i;){i[Ot]|=64;const s=vl(i);if(Na(i)&&!s)return i;i=s}return null}function xv(i){return i.ngOriginalError}class Sl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&xv(s);for(;a&&xv(a);)a=xv(a);return a||null}}const Wb=new vn("",{providedIn:"root",factory:()=>!1});function oo(i){return i instanceof Function?i():i}class Qu extends Oa{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Tg(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,c){const d=Pn(this);this.trackingVersion++;try{s(a,c)}finally{Pn(d)}}destroy(){this.trackingVersion++}}let Ju=null;function Vf(){return Ju??=new Qu,Ju}function Gd(i,s){return i[s]??Vf()}function Uf(i,s){const a=Vf();a.hasReadASignal&&(i[s]=Ju,a.lView=i,Ju=new Qu)}const Ut={};function fE(i){Ng(tn(),Te(),Vr()+i,!1)}function Ng(i,s,a,c){if(!c)if(3==(3&s[Ot])){const f=i.preOrderCheckHooks;null!==f&&os(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Xo(s,f,0,a)}Js(a)}function tT(i,s=null,a=null,c){const d=Rg(i,s,a,c);return d.resolveInjectorInitializers(),d}function Rg(i,s=null,a=null,c,d=new Set){const f=[a||Gt,gv(i)];return c=c||("object"==typeof i?void 0:ze(i)),new _v(f,s||vg(),c||null,d)}let Xu=(()=>{class i{static create(a,c){if(Array.isArray(a))return tT({name:""},c,a,"");{const d=a.name??"";return tT({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Es,i.NULL=new fv,i.\u0275prov=Rt({token:i,providedIn:"any",factory:()=>F(xb)}),i.__NG_ELEMENT_ID__=-1,i})();function Al(i,s=ot.Default){const a=Te();return null===a?F(i,s):al(Lr(),a,Ae(i),s)}function Og(){throw new Error("invalid")}function Lv(i,s,a,c,d,f,y,_,C,T,M){const k=s.blueprint.slice();return k[Tn]=d,k[Ot]=140|c,(null!==T||i&&2048&i[Ot])&&(k[Ot]|=2048),Ai(k),k[En]=k[zo]=i,k[zn]=a,k[Ts]=y||i&&i[Ts],k[St]=_||i&&i[St],k[ts]=C||i&&i[ts]||null,k[Dr]=f,k[Du]=function $y(){return ww++}(),k[ns]=M,k[qs]=T,k[Ln]=2==s.type?i[Ln]:k,k}function Wd(i,s,a,c,d){let f=i.data[s];if(null===f)f=function xl(i,s,a,c,d){const f=Vn(),y=Kc(),C=i.data[s]=function _E(i,s,a,c,d,f){let y=s?s.injectorIndex:-1,_=0;return function wo(){return null!==bt.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=C),null!==f&&(y?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(i,s,a,c,d),function Yp(){return bt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function Io(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return xi(f,!0),f}function Ja(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Vv(i,s,a,c,d){const f=Gd(s,Ui),y=Vr(),_=2&c;try{if(Js(-1),_&&s.length>Wt&&Ng(i,s,Wt,!1),fi(_?2:0,d),_)f.runInContext(a,c,d);else{const T=Pn(null);try{a(c,d)}finally{Pn(T)}}}finally{_&&null===s[Ui]&&Uf(s,Ui),Js(y),fi(_?3:1,d)}}function Pg(i,s,a){if(Wo(s)){const c=Pn(null);try{const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Pn(c)}}}function Ml(i,s,a){fd()&&(function aT(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;Ks(a)&&function lT(i,s,a){const c=pi(s,i),d=yE(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=jf(i,Lv(i,d,null,y,c,s,null,i[Ts].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=_}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||Ba(a,s),Pi(c,s);const y=a.initialInputs;for(let _=d;_<f;_++){const C=i.data[_],T=So(s,i,_,a);Pi(T,s),null!==y&&CE(0,_-d,T,C,0,y),Qr(C)&&(Fr(a.index,s)[zn]=So(s,i,_,a))}}(i,s,a,pi(a,s)),64==(64&a.flags)&&Bv(i,s,a))}function mE(i,s,a=pi){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function yE(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=kg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function kg(i,s,a,c,d,f,y,_,C,T,M){const k=Wt+c,G=k+d,Q=function CM(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ut);return a}(k,G),_e="function"==typeof T?T():T;return Q[tt]={type:i,blueprint:Q,template:a,queries:null,viewQuery:_,declTNode:s,data:Q.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:_e,incompleteFirstPass:!1,ssrId:M}}let rT=i=>null;function Bf(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?qd(a,s,d,f):c.hasOwnProperty(d)&&qd(a,s,c[d],f)}return a}function qd(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function Lg(i,s,a,c){if(fd()){const d=null===c?null:{"":-1},f=function $f(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(qh(s,y.selectors,!1))if(c||(c=[]),Qr(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),$v(i,s,_.length)}else c.unshift(y),$v(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===f?y=_=null:[y,_]=f,null!==y&&EE(i,s,a,y,d,_),d&&function jv(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new J(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=Cs(a.mergedAttrs,a.attrs)}function EE(i,s,a,c,d,f){for(let T=0;T<c.length;T++)zi(Ba(a,s),i,c[T].type);!function Hv(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let T=0;T<c.length;T++){const M=c[T];M.providersResolver&&M.providersResolver(M)}let y=!1,_=!1,C=Ja(i,s,c.length,null);for(let T=0;T<c.length;T++){const M=c[T];a.mergedAttrs=Cs(a.mergedAttrs,M.hostAttrs),DE(i,a,s,C,M),cT(C,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const k=M.type.prototype;!y&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(k.ngOnChanges||k.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),C++}!function oT(i,s,a){const d=s.directiveEnd,f=i.data,y=s.attrs,_=[];let C=null,T=null;for(let M=s.directiveStart;M<d;M++){const k=f[M],G=a?a.get(k):null,_e=G?G.outputs:null;C=Bf(k.inputs,M,C,G?G.inputs:null),T=Bf(k.outputs,M,T,_e);const ke=null===C||null===y||bs(s)?null:Gv(C,M,y);_.push(ke)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=C,s.outputs=T}(i,a,f)}function Bv(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Jo(){return bt.lFrame.currentDirectiveIndex}();try{Js(f);for(let _=c;_<d;_++){const C=i.data[_],T=s[_];ss(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&uT(C,T)}}finally{Js(-1),ss(y)}}function uT(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function $v(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function cT(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Qr(s)&&(a[""]=i)}}function DE(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Ys(d.type)),y=new Xs(f,Qr(d),Al);i.blueprint[c]=y,a[c]=y,function IE(i,s,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~s.index;(function Uv(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,f)}}(i,s,c,Ja(i,a,d.hostVars,Ut),d)}function Us(i,s,a,c,d,f){const y=pi(i,s);!function zv(i,s,a,c,d,f,y){if(null==f)i.removeAttribute(s,d,a);else{const _=null==y?Y(f):y(f,c||"",d);i.setAttribute(s,d,_,a)}}(s[St],y,f,i.value,a,c,d)}function CE(i,s,a,c,d,f){const y=f[s];if(null!==y)for(let _=0;_<y.length;)bE(c,a,y[_++],y[_++],y[_++])}function bE(i,s,a,c,d){const f=Pn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{Pn(f)}}function Gv(i,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let _=0;_<y.length;_+=2)if(y[_]===s){c.push(f,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function TE(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function SE(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];Fa(a[c]),y.contentQueries(2,s[f],f)}}}function jf(i,s){return i[Iu]?i[Dc][rr]=s:i[Iu]=s,i[Dc]=s,s}function Wv(i,s,a){Fa(0);const c=Pn(null);try{s(i,a)}finally{Pn(c)}}function Vg(i){return i[Pr]||(i[Pr]=[])}function AE(i){return i.cleanup||(i.cleanup=[])}function Kv(i,s){const a=i[ts],c=a?a.get(Sl,null):null;c&&c.handleError(s)}function Xa(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++];bE(i.data[y],s[y],c,_,d)}}function xE(i,s){const a=Fr(s,i),c=a[tt];!function dT(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[Tn];null!==d&&null===a[ns]&&(a[ns]=aE(d,a[ts])),Ug(c,a,a[zn])}function Ug(i,s,a){Jc(s);try{const c=i.viewQuery;null!==c&&Wv(1,c,a);const d=i.template;null!==d&&Vv(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&SE(i,s),i.staticViewQueries&&Wv(2,i.viewQuery,a);const f=i.components;null!==f&&function hT(i,s){for(let a=0;a<s.length;a++)xE(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Ot]&=-5,Hu()}}let ME=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=new Fc(a,T=>{this.all.has(T)&&this.queue.set(T,f)},d);let _;this.all.add(y),y.notify();const C=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:()=>new i}),i})();function Bg(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?d=qe(d,_):2==f&&(c=qe(c,_+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Kd(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(dn(f)),hn(f)){for(let _=br;_<f.length;_++){const C=f[_],T=C[tt].firstChild;null!==T&&Kd(C[tt],C,T,c)}f[rs]!==f[Tn]&&c.push(f[rs])}const y=a.type;if(8&y)Kd(i,s,a.child,c);else if(32&y){const _=Wy(a,s);let C;for(;C=_();)c.push(C)}else if(16&y){const _=Pw(s,a);if(Array.isArray(_))c.push(..._);else{const C=vl(s[Ln]);Kd(C[tt],C,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function $g(i,s,a,c=!0){const d=s[Ts].rendererFactory;d.begin&&d.begin();try{Zv(i,s,i.template,a)}catch(y){throw c&&Kv(s,y),y}finally{d.end&&d.end(),s[Ts].effectManager?.flush()}}function Zv(i,s,a,c){const d=s[Ot];if(256!=(256&d)){s[Ts].effectManager?.flush(),Jc(s);try{Ai(s),function Zc(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Vv(i,s,a,2,c);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&os(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Xo(s,T,0,null),kn(s,0)}if(function xM(i){for(let s=qy(i);null!==s;s=Ky(s)){if(!s[Tc])continue;const a=s[xs];for(let c=0;c<a.length;c++){Lu(a[c])}}}(s),yT(s,2),null!==i.contentQueries&&SE(i,s),y){const T=i.contentCheckHooks;null!==T&&os(s,T)}else{const T=i.contentHooks;null!==T&&Xo(s,T,1),kn(s,1)}!function nT(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=Gd(s,Ss);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)Js(~f);else{const y=f,_=a[++d],C=a[++d];Yc(_,y),c.runInContext(C,2,s[y])}}}finally{null===s[Ss]&&Uf(s,Ss),Js(-1)}}(i,s);const _=i.components;null!==_&&Qv(s,_,0);const C=i.viewQuery;if(null!==C&&Wv(2,C,c),y){const T=i.viewCheckHooks;null!==T&&os(s,T)}else{const T=i.viewHooks;null!==T&&Xo(s,T,2),kn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Ot]&=-73,Vu(s)}finally{Hu()}}}function yT(i,s){for(let a=qy(i);null!==a;a=Ky(a))for(let c=br;c<a.length;c++)Yv(a[c],s)}function MM(i,s,a){Yv(Fr(s,i),a)}function Yv(i,s){if(!function jc(i){return 128==(128&i[Ot])}(i))return;const a=i[tt];if(80&i[Ot]&&0===s||1024&i[Ot]||2===s)Zv(a,i,a.template,i[zn]);else if(i[es]>0){yT(i,1);const d=i[tt].components;null!==d&&Qv(i,d,1)}}function Qv(i,s,a){for(let c=0;c<s.length;c++)MM(i,s[c],a)}class jg{get rootNodes(){const s=this._lView,a=s[tt];return Kd(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(s){this._lView[zn]=s}get destroyed(){return 256==(256&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[En];if(hn(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(_l(s,c),Br(a,c))}this._attachedToViewContainer=!1}XC(this._lView[tt],this._lView)}onDestroy(s){!function Uu(i,s){if(256==(256&i[Ot]))throw new J(911,!1);null===i[Go]&&(i[Go]=[]),i[Go].push(s)}(this._lView,s)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){this._lView[Ot]|=128}detectChanges(){$g(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QC(i,s){Cf(i,s,s[St],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=s}}class NM extends jg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;$g(s[tt],s,s[zn],!1)}checkNoChanges(){}get context(){return null}}class Jv extends Sv{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=en(s);return new Hg(a,this.ngModule)}}function Xv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class OM{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=ie(c);const d=this.injector.get(s,hE,c);return d!==hE||a===hE?d:this.parentInjector.get(s,a,c)}}class Hg extends Tv{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=Xv(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return Xv(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Kh(i){return i.map(vc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof bl?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new OM(s,f):s,_=y.get(dE,null);if(null===_)throw new J(407,!1);const M={rendererFactory:_,sanitizer:y.get(DM,null),effectManager:y.get(ME,null)},k=_.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",Q=c?function bM(i,s,a,c){const f=c.get(Wb,!1)||a===Cn.ShadowDom,y=i.selectRootElement(s,f);return function TM(i){rT(i)}(y),y}(k,c,this.componentDef.encapsulation,y):Qy(k,G,function RM(i){const s=i.toLowerCase();return"svg"===s?ku:"math"===s?"math":null}(G)),Le=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ut=kg(0,null,null,1,0,null,null,null,null,null,null),De=Lv(null,ut,null,Le,null,null,M,k,y,null,null);let Nt,jt;Jc(De);try{const nn=this.componentDef;let Ii,gc=null;nn.findHostDirectiveDefs?(Ii=[],gc=new Map,nn.findHostDirectiveDefs(nn,Ii,gc),Ii.push(nn)):Ii=[nn];const uC=function it(i,s){const a=i[tt],c=Wt;return i[c]=s,Wd(a,c,2,"#host",null)}(De,Q),cC=function _T(i,s,a,c,d,f,y){const _=d[tt];!function zg(i,s,a,c){for(const d of i)s.mergedAttrs=Cs(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Bg(s,s.mergedAttrs,!0),null!==a&&Lw(c,a,s))}(c,i,s,y);let C=null;null!==s&&(C=aE(s,d[ts]));const T=f.rendererFactory.createRenderer(s,a);let M=16;a.signals?M=4096:a.onPush&&(M=64);const k=Lv(d,yE(a),null,M,d[i.index],i,f,T,null,null,C);return _.firstCreatePass&&$v(_,i,c.length-1),jf(d,k),d[i.index]=k}(uC,Q,nn,Ii,De,M,k);jt=$c(ut,Wt),Q&&function ET(i,s,a,c){if(c)Yn(i,a,["ng-version",Hb.full]);else{const{attrs:d,classes:f}=function xa(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Or(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Yn(i,a,d),f&&f.length>0&&Fw(i,a,f.join(" "))}}(k,nn,Q,c),void 0!==a&&function IT(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(jt,this.ngContentSelectors,a),Nt=function wT(i,s,a,c,d,f){const y=Lr(),_=d[tt],C=pi(y,d);EE(_,d,y,a,null,c);for(let M=0;M<a.length;M++)Pi(So(d,_,y.directiveStart+M,y),d);Bv(_,d,y),C&&Pi(C,d);const T=So(d,_,y.directiveStart+y.componentOffset,y);if(i[zn]=d[zn]=T,null!==f)for(const M of f)M(T,s);return Pg(_,y,i),T}(cC,nn,Ii,gc,De,[RE]),Ug(ut,De,null)}finally{Hu()}return new vT(this.componentType,Nt,ma(jt,De),De,jt)}}class vT extends lE{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new NM(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;Xa(f[tt],f,d,s,a),this.previousInputValues.set(s,a),Tg(Fr(this._tNode.index,f))}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function RE(){const i=Lr();Jr(Te()[tt],i)}function Hf(i){let s=function e_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(Qr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new J(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=ya(i.inputs),y.inputTransforms=ya(i.inputTransforms),y.declaredInputs=ya(i.declaredInputs),y.outputs=ya(i.outputs);const _=d.hostBindings;_&&OE(i,_);const C=d.viewQuery,T=d.contentQueries;if(C&&Rl(i,C),T&&Zd(i,T),We(i.inputs,d.inputs),We(i.declaredInputs,d.declaredInputs),We(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),We(y.inputTransforms,d.inputTransforms)),Qr(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===Hf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function or(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Cs(d.hostAttrs,a=Cs(a,d.hostAttrs))}}(c)}function ya(i){return i===Hn?{}:i===Gt?[]:i}function Rl(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function Zd(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function OE(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function ST(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Gg(i){return!!FE(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function FE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ao(i,s,a){return i[s]=a}function ar(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function nu(i,s,a,c){const d=ar(i,s,a);return ar(i,s+1,c)||d}function Wn(i,s,a,c){const d=Te();return ar(d,is(),s)&&(tn(),Us(bn(),d,i,s,a,c)),Wn}function c_(i,s,a,c,d,f,y,_){const C=Te(),T=tn(),M=i+Wt,k=T.firstCreatePass?function u_(i,s,a,c,d,f,y,_,C){const T=s.consts,M=Wd(s,i,4,y||null,Si(T,_));Lg(s,a,M,Si(T,C)),Jr(s,M);const k=M.tView=kg(2,M,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,M),k.queries=s.queries.embeddedTView(M)),M}(M,T,C,s,a,c,d,f,y):T.data[M];xi(k,!1);const G=BE(T,C,k,i);La()&&ug(T,C,G,k),Pi(G,C),jf(C,C[M]=TE(G,C,G,k)),qo(k)&&Ml(T,C,k),null!=y&&mE(C,k,_)}let BE=function l_(i,s,a,c){return Co(!0),s[St].createComment("")};function jE(i){return _o(function gd(){return bt.lFrame.contextLView}(),Wt+i)}function d_(i,s,a){const c=Te();return ar(c,is(),s)&&function Vs(i,s,a,c,d,f,y,_){const C=pi(s,a);let M,T=s.inputs;!_&&null!=T&&(M=T[c])?(Xa(i,a,M,c,d),Ks(s)&&function SM(i,s){const a=Fr(s,i);16&a[Ot]||(a[Ot]|=64)}(a,s.index)):3&s.type&&(c=function Fg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,f.setProperty(C,c,d))}(tn(),bn(),c,i,s,c[St],a,!1),d_}function h_(i,s,a,c,d){const y=d?"class":"style";Xa(i,a,s.inputs[y],y,c)}function em(i,s,a,c){const d=Te(),f=tn(),y=Wt+i,_=d[St],C=f.firstCreatePass?function BT(i,s,a,c,d,f){const y=s.consts,C=Wd(s,i,2,c,Si(y,d));return Lg(s,a,C,Si(y,f)),null!==C.attrs&&Bg(C,C.attrs,!1),null!==C.mergedAttrs&&Bg(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(y,f,d,s,a,c):f.data[y],T=HE(f,d,C,_,s,i);d[y]=T;const M=qo(C);return xi(C,!0),Lw(_,T,C),32!=(32&C.flags)&&La()&&ug(f,d,T,C),0===function Qo(){return bt.lFrame.elementDepthCount}()&&Pi(T,d),function Bu(){bt.lFrame.elementDepthCount++}(),M&&(Ml(f,d,C),Pg(f,C,d)),null!==c&&mE(d,C),em}function tm(){let i=Lr();Kc()?function ka(){bt.lFrame.isParent=!1}():(i=i.parent,xi(i,!1));const s=i;(function cf(i){return bt.skipHydrationRootTNode===i})(s)&&function qc(){bt.skipHydrationRootTNode=null}(),function Pa(){bt.lFrame.elementDepthCount--}();const a=tn();return a.firstCreatePass&&(Jr(a,i),Wo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Zt(i){return 0!=(8&i.flags)}(s)&&h_(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function us(i){return 0!=(16&i.flags)}(s)&&h_(a,s,Te(),s.stylesWithoutHost,!1),tm}function f_(i,s,a,c){return em(i,s,a,c),tm(),f_}let HE=(i,s,a,c,d,f)=>(Co(!0),Qy(c,d,function nl(){return bt.lFrame.currentNamespace}()));function g_(){return Te()}function rm(i){return!!i&&"function"==typeof i.then}function m_(i){return!!i&&"function"==typeof i.subscribe}function YE(i,s,a,c){const d=Te(),f=tn(),y=Lr();return function $T(i,s,a,c,d,f,y){const _=qo(c),T=i.firstCreatePass&&AE(i),M=s[zn],k=Vg(s);let G=!0;if(3&c.type||y){const ke=pi(c,s),Le=y?y(ke):ke,ut=k.length,De=y?jt=>y(dn(jt[c.index])):c.index;let Nt=null;if(!y&&_&&(Nt=function $M(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const _=s[Pr],C=d[f+2];return _.length>C?_[C]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=f,Nt.__ngLastListenerFn__=f,G=!1;else{f=jT(c,s,M,f,!1);const jt=a.listen(Le,d,f);k.push(f,jt),T&&T.push(d,De,ut,ut+1)}}else f=jT(c,s,M,f,!1);const Q=c.outputs;let _e;if(G&&null!==Q&&(_e=Q[d])){const ke=_e.length;if(ke)for(let Le=0;Le<ke;Le+=2){const nn=s[_e[Le]][_e[Le+1]].subscribe(f),Ii=k.length;k.push(f,nn),T&&T.push(d,c.index,Ii,-(Ii+1))}}}(f,d,d[St],y,i,s,c),YE}function im(i,s,a,c){try{return fi(6,s,a),!1!==a(c)}catch(d){return Kv(i,d),!1}finally{fi(7,s,a)}}function jT(i,s,a,c,d){return function f(y){if(y===Function)return c;Tg(i.componentOffset>-1?Fr(i.index,s):s);let C=im(s,a,c,y),T=f.__ngNextListenerFn__;for(;T;)C=im(s,a,T,y)&&C,T=T.__ngNextListenerFn__;return d&&!1===C&&y.preventDefault(),C}}function HT(i=1){return function el(i){return(bt.lFrame.contextLView=function vd(i,s){for(;i>0;)s=s[zo],i--;return s}(i,bt.lFrame.contextLView))[zn]}(i)}function v_(i,s){return i<<17|s<<2}function kl(i){return i>>17&32767}function nI(i){return 2|i}function ah(i){return(131068&i)>>2}function rI(i,s){return-131069&i|s<<2}function __(i){return 1|i}function iI(i,s,a,c,d){const f=i[a+1],y=null===s;let _=c?kl(f):ah(f),C=!1;for(;0!==_&&(!1===C||y);){const M=i[_+1];JT(i[_],s)&&(C=!0,i[_+1]=c?__(M):nI(M)),_=c?kl(M):ah(M)}C&&(i[a+1]=c?nI(f):__(f))}function JT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&la(i,s)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sI(i){return i.substring(jr.key,jr.keyEnd)}function oI(i,s){const a=jr.textEnd;return a===s?-1:(s=jr.keyEnd=function cm(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,jr.key=s,a),Mt(i,s,a))}function Mt(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function E_(i,s,a){return co(i,s,a,!1),E_}function ii(i,s){return co(i,s,null,!0),ii}function iu(i){!function $s(i,s,a,c){const d=tn(),f=Mi(2);d.firstUpdatePass&&vi(d,null,f,c);const y=Te();if(a!==Ut&&ar(y,f,a)){const _=d.data[Vr()];if(dm(_,c)&&!I_(d,f)){let C=c?_.classesWithoutHost:_.stylesWithoutHost;null!==C&&(a=qe(C,a||"")),h_(d,_,y,a,c)}else!function D_(i,s,a,c,d,f,y,_){d===Ut&&(d=Gt);let C=0,T=0,M=0<d.length?d[0]:null,k=0<f.length?f[0]:null;for(;null!==M||null!==k;){const G=C<d.length?d[C+1]:void 0,Q=T<f.length?f[T+1]:void 0;let ke,_e=null;M===k?(C+=2,T+=2,G!==Q&&(_e=k,ke=Q)):null===k||null!==M&&M<k?(C+=2,_e=M):(T+=2,_e=k,ke=Q),null!==_e&&C_(i,s,a,c,_e,ke,y,_),M=C<d.length?d[C]:null,k=T<f.length?f[T]:null}}(d,_,y,y[St],y[f+1],y[f+1]=function tS(i,s,a){if(null==a||""===a)return Gt;const c=[],d=Zu(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,a),c,f)}}(cI,va,i,!0)}function va(i,s){for(let a=function XT(i){return function um(i){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=i.length}(i),oI(i,Mt(i,0,jr.textEnd))}(s);a>=0;a=oI(s,a))_r(i,sI(s),!0)}function co(i,s,a,c){const d=Te(),f=tn(),y=Mi(2);f.firstUpdatePass&&vi(f,i,y,c),s!==Ut&&ar(d,y,s)&&C_(f,f.data[Vr()],d,d[St],i,d[y+1]=function b_(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ze(Zu(i)))),i}(s,a),c,y)}function I_(i,s){return s>=i.expandoStartIndex}function vi(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Vr()],y=I_(i,a);dm(f,c)&&null===s&&!y&&(s=!1),s=function eS(i,s,a,c){const d=function Do(i){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=ip(a=rp(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=rp(d,i,s,a,c),null===f){let C=function np(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==ah(c))return i[kl(c)]}(i,s,c);void 0!==C&&Array.isArray(C)&&(C=rp(null,i,s,C[1],c),C=ip(C,s.attrs,c),function lm(i,s,a,c){i[kl(a?s.classBindings:s.styleBindings)]=c}(i,s,c,C))}else f=function _a(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=ip(c,i[f].hostAttrs,a);return ip(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function YT(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,_=kl(y),C=ah(y);i[c]=a;let M,T=!1;if(Array.isArray(a)?(M=a[1],(null===M||la(a,M)>0)&&(T=!0)):M=a,d)if(0!==C){const G=kl(i[_+1]);i[c+1]=v_(G,_),0!==G&&(i[G+1]=rI(i[G+1],c)),i[_+1]=function jM(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=v_(_,0),0!==_&&(i[_+1]=rI(i[_+1],c)),_=c;else i[c+1]=v_(C,0),0===_?_=c:i[C+1]=rI(i[C+1],c),C=c;T&&(i[c+1]=nI(i[c+1])),iI(i,M,c,!0),iI(i,M,c,!1),function QT(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&la(f,s)>=0&&(a[c+1]=__(a[c+1]))}(s,M,i,c,f),y=v_(_,C),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}function rp(i,s,a,c,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],c=ip(c,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function ip(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),_r(i,y,!!a||s[++f]))}return void 0===i?null:i}function cI(i,s,a){const c=String(s);""!==c&&!c.includes(" ")&&_r(i,c,a)}function C_(i,s,a,c,d,f,y,_){if(!(3&s.type))return;const C=i.data,T=C[_+1],M=function HM(i){return 1==(1&i)}(T)?lI(C,s,a,d,ah(T),y):void 0;sp(M)||(sp(f)||function ZT(i){return 2==(2&i)}(T)&&(f=lI(C,null,a,d,_,y)),function ib(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:ha.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ha.Important),i.setStyle(a,c,d,f))}}(c,y,Yo(Vr(),a),d,f))}function lI(i,s,a,c,d,f){const y=null===s;let _;for(;d>0;){const C=i[d],T=Array.isArray(C),M=T?C[1]:C,k=null===M;let G=a[d+1];G===Ut&&(G=k?Gt:void 0);let Q=k?ca(G,c):M===c?G:void 0;if(T&&!sp(Q)&&(Q=ca(C,c)),sp(Q)&&(_=Q,y))return _;const _e=i[d+1];d=y?kl(_e):ah(_e)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(_=ca(C,c))}return _}function sp(i){return void 0!==i}function dm(i,s){return 0!=(i.flags&(s?8:16))}function hm(i,s=""){const a=Te(),c=tn(),d=i+Wt,f=c.firstCreatePass?Wd(c,d,1,s,null):c.data[d],y=fm(c,a,f,s,i);a[d]=y,La()&&ug(c,a,y,f),xi(f,!1)}let fm=(i,s,a,c,d)=>(Co(!0),function Yy(i,s){return i.createText(s)}(s[St],c));function S_(i){return tc("",i,""),S_}function tc(i,s,a){const c=Te(),d=function ru(i,s,a,c){return ar(i,is(),a)?s+Y(a)+c:Ut}(c,i,s,a);return d!==Ut&&function eu(i,s,a){const c=Yo(s,i);!function ZC(i,s,a){i.setValue(s,a)}(i[St],c,a)}(c,Vr(),d),tc}const Po=void 0;var V_=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function up(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ll={};function ch(i){const s=function MI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=U_(s);if(a)return a;const c=s.split("-")[0];if(a=U_(c),a)return a;if("en"===c)return V_;throw new J(701,!1)}function ym(i){return ch(i)[Dt.PluralCase]}function U_(i){return i in Ll||(Ll[i]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[i]),Ll[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const su="en-US";let nc=su;function Fm(i,s,a,c,d){if(i=Ae(i),Array.isArray(i))for(let f=0;f<i.length;f++)Fm(i[f],s,a,c,d);else{const f=tn(),y=Te();let _=Ld(i)?i:Ae(i.provide),C=Pb(i);const T=Lr(),M=1048575&T.providerIndexes,k=T.directiveStart,G=T.providerIndexes>>20;if(Ld(i)||!i.multi){const Q=new Xs(C,d,Al),_e=Q_(_,s,d?M:M+G,k);-1===_e?(zi(Ba(T,y),f,_),Y_(f,i,s.length),s.push(_),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[_e]=Q,y[_e]=Q)}else{const Q=Q_(_,s,M+G,k),_e=Q_(_,s,M,M+G),Le=_e>=0&&a[_e];if(d&&!Le||!d&&!(Q>=0&&a[Q])){zi(Ba(T,y),f,_);const ut=function Vm(i,s,a,c,d){const f=new Xs(i,a,Al);return f.multi=[],f.index=s,f.componentProviders=0,tD(f,d,c&&!a),f}(d?rD:nD,a.length,d,c,C);!d&&Le&&(a[_e].providerFactory=ut),Y_(f,i,s.length,0),s.push(_),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ut),y.push(ut)}else Y_(f,i,Q>-1?Q:_e,tD(a[d?_e:Q],C,!d&&c));!d&&c&&Le&&a[_e].componentProviders++}}}function Y_(i,s,a,c){const d=Ld(s),f=function Jw(i){return!!i.useClass}(s);if(d||f){const C=(f?Ae(s.useClass):s).prototype.ngOnDestroy;if(C){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=T.indexOf(a);-1===M?T.push(a,[c,C]):T[M+1].push(c,C)}else T.push(a,C)}}}function tD(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Q_(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function nD(i,s,a,c){return Lm(this.multi,[])}function rD(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=So(a,a[tt],this.providerFactory.index,c);f=_.slice(0,y),Lm(d,f);for(let C=y;C<_.length;C++)f.push(_[C])}else f=[],Lm(d,f);return f}function Lm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function J_(i,s=[]){return a=>{a.providersResolver=(c,d)=>function cr(i,s,a){const c=tn();if(c.firstCreatePass){const d=Qr(i);Fm(a,c.data,c.blueprint,d,!0),Fm(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Zi{}class X_{}function mS(i,s){return new gp(i,s??null,[])}class gp extends Zi{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jv(this);const d=yr(s);this._bootstrapComponents=oo(d.bootstrap),this._r3Injector=Rg(s,a,[{provide:Zi,useValue:this},{provide:Sv,useValue:this.componentFactoryResolver},...c],ze(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ul extends X_{constructor(s){super(),this.moduleType=s}create(s){return new gp(this.moduleType,s,[])}}class Um extends Zi{constructor(s){super(),this.componentFactoryResolver=new Jv(this),this.instance=null;const a=new _v([...s.providers,{provide:Zi,useValue:this},{provide:Sv,useValue:this.componentFactoryResolver}],s.parent||vg(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function mp(i,s,a=null){return new Um({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let sD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=qw(0,a.type),d=c.length>0?mp([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Rt({token:i,providedIn:"environment",factory:()=>new i(F(bl))}),i})();function yp(i){i.getStandaloneInjector=s=>s.get(sD).getOrCreateStandaloneInjector(i)}function u0(i,s,a,c){return d0(Te(),Tr(),i,s,a,c)}function gs(i,s){const a=i[s];return a===Ut?void 0:a}function d0(i,s,a,c,d,f){const y=s+a;return ar(i,y,d)?ao(i,y+1,f?c.call(f,d):c(d)):gs(i,y+1)}function Hm(i,s,a,c,d,f,y,_,C){const T=s+a;return function uo(i,s,a,c,d,f){const y=nu(i,s,a,c);return nu(i,s+2,d,f)||y}(i,T,d,f,y,_)?ao(i,T+4,C?c.call(C,d,f,y,_):c(d,f,y,_)):gs(i,T+4)}function wa(i,s){const a=tn();let c;const d=i+Wt;a.firstCreatePass?(c=function lo(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const f=c.factory||(c.factory=Ys(c.type)),y=sn(Al);try{const _=il(!1),C=f();return il(_),function UT(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Te(),d,C),C}finally{sn(y)}}function vp(i,s,a){const c=i+Wt,d=Te(),f=_o(d,c);return Ea(d,c)?d0(d,Tr(),s,f.transform,a,f):f.transform(a)}function wp(i,s,a,c,d,f){const y=i+Wt,_=Te(),C=_o(_,y);return Ea(_,y)?Hm(_,Tr(),s,C.transform,a,c,d,f,C):C.transform(a,c,d,f)}function Ea(i,s){return i[tt].data[s].pure}function f0(i){return s=>{setTimeout(i,void 0,s)}}const ho=class IS extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const C=s;d=C.next?.bind(C),f=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(f=f0(f),d&&(d=f0(d)),y&&(y=f0(y)));const _=super.subscribe({next:d,error:f,complete:y});return s instanceof L.w0&&s.add(_),_}};function DS(){return this._results[Symbol.iterator]()}class p0{get changes(){return this._changes||(this._changes=new ho)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=p0.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=DS)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function ei(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function oa(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wh=(()=>{class i{}return i.__NG_ELEMENT_ID__=bS,i})();const CS=wh,Gm=class extends CS{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,c){const y=this._declarationTContainer.tView,_=Lv(this._declarationLView,y,s,4096&this._declarationLView[Ot]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);_[yo]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Cr];return null!==T&&(_[Cr]=T.createEmbeddedView(y)),Ug(y,_,s),new jg(_)}};function bS(){return Wm(Lr(),Te())}function Wm(i,s){return 4&i.type?new Gm(s,i,ma(i,s)):null}let Eh=(()=>{class i{}return i.__NG_ELEMENT_ID__=at,i})();function at(){return Me(Lr(),Te())}const ht=Eh,SS=class extends ht{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const s=eo(this._hostTNode,this._hostLView);if(Hi(s)){const a=gi(s,this._hostLView),c=bo(s);return new to(a[tt].data[c+8],a)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Qe(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-br}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(_,d,false),_}createComponent(s,a,c,d,f){const y=s&&!function sa(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const ke=a||{};_=ke.index,c=ke.injector,d=ke.projectableNodes,f=ke.environmentInjector||ke.ngModuleRef}const C=y?s:new Hg(en(s)),T=c||this.parentInjector;if(!f&&null==C.ngModule){const Le=(y?T:this.parentInjector).get(bl,null);Le&&(f=Le)}en(C.componentType??{});const Q=C.create(T,d,null,f);return this.insertImpl(Q.hostView,_,false),Q}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView,f=d[tt];if(function Hc(i){return hn(i[En])}(d)){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const T=d[En],M=new SS(T,T[Dr],T[En]);M.detach(M.indexOf(s))}}const y=this._adjustIndex(a),_=this._lContainer;if(function Jy(i,s,a,c){const d=br+c,f=a.length;c>0&&(a[d-1][rr]=s),c<f-br?(s[rr]=a[d],Ha(a,br+c,s)):(a.push(s),s[rr]=null),s[En]=a;const y=s[yo];null!==y&&a!==y&&function Mo(i,s){const a=i[xs];s[Ln]!==s[En][En][Ln]&&(i[Tc]=!0),null===a?i[xs]=[s]:a.push(s)}(y,s);const _=s[Cr];null!==_&&_.insertView(i),s[Ot]|=128}(f,d,_,y),!c){const C=lg(y,_),T=d[St],M=Ku(T,_[rs]);null!==M&&function cM(i,s,a,c,d,f){c[Tn]=d,c[Dr]=s,Cf(i,c,a,1,d,f)}(f,_[Dr],T,d,M,C)}return s.attachToViewContainerRef(),Ha(ce(_),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Qe(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=_l(this._lContainer,a);c&&(Br(ce(this._lContainer),a),XC(c[tt],c))}detach(s){const a=this._adjustIndex(s,-1),c=_l(this._lContainer,a);return c&&null!=Br(ce(this._lContainer),a)?new jg(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Qe(i){return i[8]}function ce(i){return i[8]||(i[8]=[])}function Me(i,s){let a;const c=s[i.index];return hn(c)?a=c:(a=TE(c,s,null,i),s[i.index]=a,jf(s,a)),m0(a,s,i,c),new SS(a,i,s)}let m0=function fD(i,s,a,c){if(i[rs])return;let d;d=8&a.type?dn(c):function zr(i,s){const a=i[St],c=a.createComment(""),d=pi(s,i);return wl(a,Ku(a,d),c,function Df(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[rs]=d};class y0{constructor(s){this.queryList=s,this.matches=null}clone(){return new y0(this.queryList)}setDirty(){this.queryList.setDirty()}}class v0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new v0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ac(s,a).matches&&this.queries[a].setDirty()}}class _0{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class w0{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new w0(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class pD{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new pD(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,MS(a,f)),this.matchTNodeWithReadOption(s,a,Gi(a,s,f,!1,!1))}else c===wh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Gi(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Tl||d===Eh||d===wh&&4&a.type)this.addMatch(a.index,-2);else{const f=Gi(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function MS(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function $t(i,s,a,c){return-1===a?function gD(i,s){return 11&i.type?ma(i,s):4&i.type?Wm(i,s):null}(s,i):-2===a?function Ih(i,s,a){return a===Tl?ma(s,i):a===wh?Wm(s,i):a===Eh?Me(s,i):void 0}(i,s,c):So(i,i[tt],a,s)}function E0(i,s,a,c){const d=s[Cr].queries[c];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let C=0;C<y.length;C+=2){const T=y[C];_.push(T<0?null:$t(s,f[T],y[C+1],a.metadata.read))}d.matches=_}return d.matches}function Bn(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=E0(i,s,d,a);for(let _=0;_<f.length;_+=2){const C=f[_];if(C>0)c.push(y[_/2]);else{const T=f[_+1],M=s[-C];for(let k=br;k<M.length;k++){const G=M[k];G[yo]===G[En]&&Bn(G[tt],G,T,c)}if(null!==M[xs]){const k=M[xs];for(let G=0;G<k.length;G++){const Q=k[G];Bn(Q[tt],Q,T,c)}}}}}return c}function ft(i){const s=Te(),a=tn(),c=Qc();Fa(c+1);const d=ac(a,c);if(i.dirty&&function uf(i){return 4==(4&i[Ot])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Bn(a,s,c,[]):E0(a,s,d,c);i.reset(f,bg),i.notifyOnChanges()}return!0}return!1}function un(i,s,a,c){const d=tn();if(d.firstCreatePass){const f=Lr();(function Ip(i,s,a){null===i.queries&&(i.queries=new w0),i.queries.track(new pD(s,a))})(d,new _0(s,a,c),f.index),function I0(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Ke(i,s,a){const c=new p0(4==(4&a));(function sT(i,s,a,c){const d=Vg(s);d.push(a),i.firstCreatePass&&AE(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[Cr]&&(s[Cr]=new v0),s[Cr].queries.push(new y0(c))}(d,Te(),a)}function mD(){return function Ir(i,s){return i[Cr].queries[s].queryList}(Te(),Qc())}function ac(i,s){return i.queries.getByIndex(s)}function Km(i){return!!yr(i)}const ci=new vn("Application Initializer");let Sn=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=he(ci,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(rm(f))a.push(f);else if(m_(f)){const y=new Promise((_,C)=>{f.subscribe({complete:_,error:C})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ei=new vn("LocaleId",{providedIn:"root",factory:()=>he(Ei,ot.Optional|ot.SkipSelf)||function bh(){return typeof $localize<"u"&&$localize.locale||su}()}),OD=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lu=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new j.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class lr{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let du=(()=>{class i{compileModuleSync(a){return new Ul(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=oo(yr(a).declarations).reduce((y,_)=>{const C=en(_);return C&&y.push(new Hg(C)),y},[]);return new lr(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hu(...i){}class dr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ho(!1),this.onMicrotaskEmpty=new ho(!1),this.onStable=new ho(!1),this.onError=new ho(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ba(){const i="function"==typeof ln.requestAnimationFrame;let s=ln[i?"requestAnimationFrame":"setTimeout"],a=ln[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Jm(i){const s=()=>{!function A0(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ln,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,fu(i),i.isCheckStableRunning=!0,lc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),fu(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,_)=>{try{return Xm(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Th(i)}},onInvoke:(a,c,d,f,y,_,C)=>{try{return Xm(i),a.invoke(d,f,y,_,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),Th(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,fu(i),lc(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dr.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(dr.isInAngularZone())throw new J(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,kD,hu,hu);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const kD={};function lc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function fu(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Xm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Th(i){i._nesting--,lc(i)}class FD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ho,this.onMicrotaskEmpty=new ho,this.onStable=new ho,this.onError=new ho}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const x0=new vn("",{providedIn:"root",factory:Np});function Np(){const i=he(dr);let s=!0;const a=new ee.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new ee.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{dr.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ae.T)(a,c.pipe((0,Oe.B)()))}const Sh=new vn(""),M0=new vn("");let ey,GS=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ey||(function VD(i){ey=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(F(dr),F(LD),F(M0))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac}),i})(),LD=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return ey?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Kn=null;const N0=new vn("AllowMultipleToken"),An=new vn("PlatformDestroyListeners"),Ta=new vn("appBootstrapListener");class BD{constructor(s,a){this.name=s,this.token=a}}function ty(i,s,a=[]){const c=`Platform: ${s}`,d=new vn(c);return(f=[])=>{let y=ry();if(!y||y.injector.get(N0,!1)){const _=[...a,...f,{provide:d,useValue:!0}];i?i(_):function an(i){if(Kn&&!Kn.get(N0,!1))throw new J(400,!1);(function Gl(){!function Nu(i){Qn=i}(()=>{throw new J(600,!1)})})(),Kn=i;const s=i.get(R0);(function Wl(i){i.get(Yu,null)?.forEach(a=>a())})(i)}(function ny(i=[],s){return Xu.create({name:s,providers:[{provide:yv,useValue:"platform"},{provide:An,useValue:new Set([()=>Kn=null])},...i]})}(_,c))}return function jD(i){const s=ry();if(!s)throw new J(401,!1);return s}()}}function ry(){return Kn?.get(R0)??null}let R0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function ZS(i="zone.js",s){return"noop"===i?new FD:"zone.js"===i?new dr(s):i}(c?.ngZone,function HD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function iD(i,s,a){return new gp(i,s,a)}(a.moduleType,this.injector,function Mh(i){return[{provide:dr,useFactory:i},{provide:mg,multi:!0,useFactory:()=>{const s=he(P0,{optional:!0});return()=>s.initialize()}},{provide:WD,useFactory:YS},{provide:x0,useFactory:Np}]}(()=>d)),y=f.injector.get(Sl,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:C=>{y.handleError(C)}});f.onDestroy(()=>{Rp(this._modules,f),_.unsubscribe()})}),function zD(i,s,a){try{const c=a();return rm(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const _=f.injector.get(Sn);return _.runInitializers(),_.donePromise.then(()=>(function B_(i){Ft(i,"Expected localeId to be defined"),"string"==typeof i&&(nc=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ei,su)||su),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=O0({},c);return function UD(i,s,a){const c=new Ul(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(Ah);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new J(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(An,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(F(Xu))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function O0(i,s){return Array.isArray(s)?s.reduce(O0,i):{...i,...s}}let Ah=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(WD),this.zoneIsStable=he(x0),this.componentTypes=[],this.components=[],this.isStable=he(lu).hasPendingTasks.pipe((0,Ue.w)(a=>a?(0,Ie.of)(!1):this.zoneIsStable),function ue(i,s=Ce.y){return i=i??Fe,(0,H.e)((a,c)=>{let d,f=!0;a.subscribe((0,$.x)(c,y=>{const _=s(y);(f||!i(d,_))&&(f=!1,d=_,c.next(y))}))})}(),(0,Oe.B)()),this._injector=he(bl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof Tv;if(!this._injector.get(Sn).done)throw!d&&Ws(a),new J(405,!1);let y;y=d?a:this._injector.get(Sv).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function qS(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Zi),T=y.create(Xu.NULL,[],c||y.selector,_),M=T.location.nativeElement,k=T.injector.get(Sh,null);return k?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),Rp(this.components,T),k?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Rp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Ta,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Rp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new J(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Rp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const WD=new vn("",{providedIn:"root",factory:()=>he(Sl).handleError.bind(void 0)});function YS(){const i=he(dr),s=he(Sl);return a=>i.runOutsideAngular(()=>s.handleError(a))}let P0=(()=>{class i{constructor(){this.zone=he(dr),this.applicationRef=he(Ah)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sy(){return!1}let Nh=(()=>{class i{}return i.__NG_ELEMENT_ID__=qD,i})();function qD(i){return function F0(i,s,a){if(Ks(i)&&!a){const c=Fr(i.index,s);return new jg(c,c)}return 47&i.type?new jg(s[Ln],s):null}(Lr(),Te(),16==(16&i))}class Ph{constructor(){}supports(s){return Gg(s)}create(s){return new rA(s)}}const nA=(i,s)=>s;class rA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||nA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<$0(c,d,f)?a:c,_=$0(y,d,f),C=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const T=_-d,M=C-d;if(T!=M){for(let G=0;G<T;G++){const Q=G<f.length?f[G]:f[G]=0,_e=Q+G;M<=_e&&_e<T&&(f[G]=Q+1)}f[y.previousIndex]=M-T}}_!==C&&s(y,_,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Gg(s))throw new J(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else d=0,function VM(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new Kt(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new uy),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Kt{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class uy{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new iA,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $0(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class j0{constructor(){}supports(s){return s instanceof Map||FE(s)}create(){return new QD}}class QD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||FE(s)))throw new J(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new cy(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class cy{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JD(){return new H0([new Ph])}let H0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||JD()),deps:[[i,new Xn,new Tt]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new J(901,!1)}}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:JD}),i})();function ql(){return new gu([new j0])}let gu=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ql()),deps:[[i,new Xn,new Tt]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new J(901,!1)}}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:ql}),i})();const eC=ty(null,"core",[]);let tC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(F(Ah))},i.\u0275mod=Xl({type:i}),i.\u0275inj=qr({}),i})();function lA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function kp(i){const s=en(i);if(!s)return null;const a=new Hg(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(lt,Se,P)=>{"use strict";P.d(Se,{Z:()=>We});var h=P(9058),L=P(4537),j=P(534),ee=P(7879);class ae{constructor(qe,xe){this._delegate=qe,this.firebase=xe,(0,j._addComponent)(qe,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(qe,xe=j._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(qe);return!Ae.isInitialized()&&"EXPLICIT"===(null===(st=Ae.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:xe})}_removeServiceInstance(qe,xe=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(xe)}_addComponent(qe){(0,j._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,j._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Ce(){const ze=function Ue(ze){const qe={},xe={__esModule:!0,initializeApp:function we(J,B={}){const Y=j.initializeApp(J,B);if((0,h.r3)(qe,Y.name))return qe[Y.name];const Z=new ze(Y,xe);return qe[Y.name]=Z,Z},app:Ae,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function de(J){const B=J.name,Y=B.replace("-compat","");if(j._registerComponent(J)&&"PUBLIC"===J.type){const Z=(Ze=Ae())=>{if("function"!=typeof Ze[Y])throw Oe.create("invalid-app-argument",{appName:B});return Ze[Y]()};void 0!==J.serviceProps&&(0,h.ZB)(Z,J.serviceProps),xe[Y]=Z,ze.prototype[Y]=function(...Ze){return this._getService.bind(this,B).apply(this,J.multipleInstances?Ze:[])}}return"PUBLIC"===J.type?xe[Y]:null},removeApp:function st(J){delete qe[J]},useAsService:function be(J,B){return"serverAuth"===B?null:B},modularAPIs:j}};function Ae(J){if(!(0,h.r3)(qe,J=J||j._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:J});return qe[J]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function ge(){return Object.keys(qe).map(J=>qe[J])}}),Ae.App=ze,xe}(ae);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function qe(xe){(0,h.ZB)(ze,xe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ze}(),$=new ee.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=H;!function pe(ze){(0,j.registerVersion)("@firebase/app-compat","0.2.13",ze)}()},534:(lt,Se,P)=>{"use strict";P.r(Se),P.d(Se,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Uo,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>ot,_addOrOverwriteComponent:()=>Nr,_apps:()=>Et,_clearComponents:()=>mn,_components:()=>xn,_getProvider:()=>sn,_registerComponent:()=>Ci,_removeServiceInstance:()=>Ji,deleteApp:()=>Rr,getApp:()=>hr,getApps:()=>Kr,initializeApp:()=>Es,onLog:()=>Zn,registerVersion:()=>Zr,setLogLevel:()=>Xi});var h=P(5861),L=P(4537),j=P(7879),ee=P(9058);const ae=(me,X)=>X.some(Re=>me instanceof Re);let Ie,Oe;const H=new WeakMap,$=new WeakMap,ue=new WeakMap,Fe=new WeakMap,pe=new WeakMap;let qe={get(me,X,Re){if(me instanceof IDBTransaction){if("done"===X)return $.get(me);if("objectStoreNames"===X)return me.objectStoreNames||ue.get(me);if("store"===X)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return we(me[X])},set:(me,X,Re)=>(me[X]=Re,!0),has:(me,X)=>me instanceof IDBTransaction&&("done"===X||"store"===X)||X in me};function Ae(me){return"function"==typeof me?function st(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...X){return me.apply(ge(this),X),we(H.get(this))}:function(...X){return we(me.apply(ge(this),X))}:function(X,...Re){const nt=me.call(ge(this),X,...Re);return ue.set(nt,X.sort?X.sort():[X]),we(nt)}}(me):(me instanceof IDBTransaction&&function ze(me){if($.has(me))return;const X=new Promise((Re,nt)=>{const Ct=()=>{me.removeEventListener("complete",Bt),me.removeEventListener("error",on),me.removeEventListener("abort",on)},Bt=()=>{Re(),Ct()},on=()=>{nt(me.error||new DOMException("AbortError","AbortError")),Ct()};me.addEventListener("complete",Bt),me.addEventListener("error",on),me.addEventListener("abort",on)});$.set(me,X)}(me),ae(me,function Ue(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,qe):me)}function we(me){if(me instanceof IDBRequest)return function We(me){const X=new Promise((Re,nt)=>{const Ct=()=>{me.removeEventListener("success",Bt),me.removeEventListener("error",on)},Bt=()=>{Re(we(me.result)),Ct()},on=()=>{nt(me.error),Ct()};me.addEventListener("success",Bt),me.addEventListener("error",on)});return X.then(Re=>{Re instanceof IDBCursor&&H.set(Re,me)}).catch(()=>{}),pe.set(X,me),X}(me);if(Fe.has(me))return Fe.get(me);const X=Ae(me);return X!==me&&(Fe.set(me,X),pe.set(X,me)),X}const ge=me=>pe.get(me),J=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],Y=new Map;function Z(me,X){if(!(me instanceof IDBDatabase)||X in me||"string"!=typeof X)return;if(Y.get(X))return Y.get(X);const Re=X.replace(/FromIndex$/,""),nt=X!==Re,Ct=B.includes(Re);if(!(Re in(nt?IDBIndex:IDBObjectStore).prototype)||!Ct&&!J.includes(Re))return;const Bt=function(){var on=(0,h.Z)(function*(Yn,...Rn){const Ds=this.transaction(Yn,Ct?"readwrite":"readonly");let Cs=Ds.store;return nt&&(Cs=Cs.index(Rn.shift())),(yield Promise.all([Cs[Re](...Rn),Ct&&Ds.done]))[0]});return function(Rn){return on.apply(this,arguments)}}();return Y.set(X,Bt),Bt}!function xe(me){qe=me(qe)}(me=>({...me,get:(X,Re,nt)=>Z(X,Re)||me.get(X,Re,nt),has:(X,Re)=>!!Z(X,Re)||me.has(X,Re)}));class Ze{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function He(me){const X=me.getComponent();return"VERSION"===X?.type}(Re)){const nt=Re.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Re=>Re).join(" ")}}const pt="@firebase/app",yt=new j.Yd("@firebase/app"),Jt="[DEFAULT]",ct={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,xn=new Map;function ot(me,X){try{me.container.addComponent(X)}catch(Re){yt.debug(`Component ${X.name} failed to register with FirebaseApp ${me.name}`,Re)}}function Nr(me,X){me.container.addOrOverwriteComponent(X)}function Ci(me){const X=me.name;if(xn.has(X))return yt.debug(`There were multiple attempts to register component ${X}.`),!1;xn.set(X,me);for(const Re of Et.values())ot(Re,me);return!0}function sn(me,X){const Re=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),me.container.getProvider(X)}function Ji(me,X,Re=Jt){sn(me,X).clearInstance(Re)}function mn(){xn.clear()}const zt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yu{constructor(X,Re,nt){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Uo="9.23.0";function Es(me,X={}){let Re=me;"object"!=typeof X&&(X={name:X});const nt=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},X),Ct=nt.name;if("string"!=typeof Ct||!Ct)throw zt.create("bad-app-name",{appName:String(Ct)});if(Re||(Re=(0,ee.aH)()),!Re)throw zt.create("no-options");const Bt=Et.get(Ct);if(Bt){if((0,ee.vZ)(Re,Bt.options)&&(0,ee.vZ)(nt,Bt.config))return Bt;throw zt.create("duplicate-app",{appName:Ct})}const on=new L.H0(Ct);for(const Rn of xn.values())on.addComponent(Rn);const Yn=new yu(Re,nt,on);return Et.set(Ct,Yn),Yn}function hr(me=Jt){const X=Et.get(me);if(!X&&me===Jt&&(0,ee.aH)())return Es();if(!X)throw zt.create("no-app",{appName:me});return X}function Kr(){return Array.from(Et.values())}function Rr(me){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(me){const X=me.name;Et.has(X)&&(Et.delete(X),yield Promise.all(me.container.getProviders().map(Re=>Re.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Zr(me,X,Re){var nt;let Ct=null!==(nt=ct[me])&&void 0!==nt?nt:me;Re&&(Ct+=`-${Re}`);const Bt=Ct.match(/\s|\//),on=X.match(/\s|\//);if(Bt||on){const Yn=[`Unable to register library "${Ct}" with version "${X}":`];return Bt&&Yn.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Bt&&on&&Yn.push("and"),on&&Yn.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void yt.warn(Yn.join(" "))}Ci(new L.wA(`${Ct}-version`,()=>({library:Ct,version:X}),"VERSION"))}function Zn(me,X){if(null!==me&&"function"!=typeof me)throw zt.create("invalid-log-argument");(0,j.Am)(me,X)}function Xi(me){(0,j.Ub)(me)}const bi="firebase-heartbeat-database",nr=1,V="firebase-heartbeat-store";let F=null;function q(){return F||(F=function de(me,X,{blocked:Re,upgrade:nt,blocking:Ct,terminated:Bt}={}){const on=indexedDB.open(me,X),Yn=we(on);return nt&&on.addEventListener("upgradeneeded",Rn=>{nt(we(on.result),Rn.oldVersion,Rn.newVersion,we(on.transaction),Rn)}),Re&&on.addEventListener("blocked",Rn=>Re(Rn.oldVersion,Rn.newVersion,Rn)),Yn.then(Rn=>{Bt&&Rn.addEventListener("close",()=>Bt()),Ct&&Rn.addEventListener("versionchange",Ds=>Ct(Ds.oldVersion,Ds.newVersion,Ds))}).catch(()=>{}),Yn}(bi,nr,{upgrade:(me,X)=>{0===X&&me.createObjectStore(V)}}).catch(me=>{throw zt.create("idb-open",{originalErrorMessage:me.message})})),F}function ie(){return(ie=(0,h.Z)(function*(me){try{return yield(yield q()).transaction(V).objectStore(V).get(Xt(me))}catch(X){if(X instanceof ee.ZR)yt.warn(X.message);else{const Re=zt.create("idb-get",{originalErrorMessage:X?.message});yt.warn(Re.message)}}})).apply(this,arguments)}function et(me,X){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(me,X){try{const nt=(yield q()).transaction(V,"readwrite");yield nt.objectStore(V).put(X,Xt(me)),yield nt.done}catch(Re){if(Re instanceof ee.ZR)yt.warn(Re.message);else{const nt=zt.create("idb-set",{originalErrorMessage:Re?.message});yt.warn(nt.message)}}})).apply(this,arguments)}function Xt(me){return`${me.name}!${me.options.appId}`}class Nn{constructor(X){this.container=X,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Hn(Re),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var X=this;return(0,h.Z)(function*(){const nt=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=Vt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!X._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Ct))return X._heartbeatsCache.heartbeats.push({date:Ct,agent:nt}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Bt=>{const on=new Date(Bt.date).valueOf();return Date.now()-on<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,h.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Re=Vt(),{heartbeatsToSend:nt,unsentEntries:Ct}=function Cn(me,X=1024){const Re=[];let nt=me.slice();for(const Ct of me){const Bt=Re.find(on=>on.agent===Ct.agent);if(Bt){if(Bt.dates.push(Ct.date),Gt(Re)>X){Bt.dates.pop();break}}else if(Re.push({agent:Ct.agent,dates:[Ct.date]}),Gt(Re)>X){Re.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:nt}}(X._heartbeatsCache.heartbeats),Bt=(0,ee.L)(JSON.stringify({version:2,heartbeats:nt}));return X._heartbeatsCache.lastSentHeartbeatDate=Re,Ct.length>0?(X._heartbeatsCache.heartbeats=Ct,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Bt})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Hn{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,h.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function he(me){return ie.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Re=this;return(0,h.Z)(function*(){var nt;if(yield Re._canUseIndexedDBPromise){const Bt=yield Re.read();return et(Re.app,{lastSentHeartbeatDate:null!==(nt=X.lastSentHeartbeatDate)&&void 0!==nt?nt:Bt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Re=this;return(0,h.Z)(function*(){var nt;if(yield Re._canUseIndexedDBPromise){const Bt=yield Re.read();return et(Re.app,{lastSentHeartbeatDate:null!==(nt=X.lastSentHeartbeatDate)&&void 0!==nt?nt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...X.heartbeats]})}})()}}function Gt(me){return(0,ee.L)(JSON.stringify({version:2,heartbeats:me})).length}!function Is(me){Ci(new L.wA("platform-logger",X=>new Ze(X),"PRIVATE")),Ci(new L.wA("heartbeat",X=>new Nn(X),"PRIVATE")),Zr(pt,"0.9.13",me),Zr(pt,"0.9.13","esm2017"),Zr("fire-js","")}("")},4537:(lt,Se,P)=>{"use strict";P.d(Se,{H0:()=>Ue,wA:()=>j});var h=P(5861),L=P(9058);class j{constructor(H,$,ue){this.name=H,this.instanceFactory=$,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ee="[DEFAULT]";class ae{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const ue=new L.BH;if(this.instancesDeferred.set($,ue),this.isInitialized($)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:$});Fe&&ue.resolve(Fe)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const ue=this.normalizeInstanceIdentifier(H?.identifier),Fe=null!==($=H?.optional)&&void 0!==$&&$;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(pe){if(Fe)return null;throw pe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Oe(Ce){return"EAGER"===Ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[$,ue]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier($);try{const pe=this.getOrInitializeService({instanceIdentifier:Fe});ue.resolve(pe)}catch{}}}}clearInstance(H=ee){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...$.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ee){return this.instances.has(H)}getOptions(H=ee){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,ue=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:ue,options:$});for(const[pe,We]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(pe)&&We.resolve(Fe);return Fe}onInit(H,$){var ue;const Fe=this.normalizeInstanceIdentifier($),pe=null!==(ue=this.onInitCallbacks.get(Fe))&&void 0!==ue?ue:new Set;pe.add(H),this.onInitCallbacks.set(Fe,pe);const We=this.instances.get(Fe);return We&&H(We,Fe),()=>{pe.delete(H)}}invokeOnInitCallbacks(H,$){const ue=this.onInitCallbacks.get($);if(ue)for(const Fe of ue)try{Fe(H,$)}catch{}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let ue=this.instances.get(H);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=H,Ce===ee?void 0:Ce),options:$}),this.instances.set(H,ue),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(ue,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ue)}catch{}var Ce;return ue||null}normalizeInstanceIdentifier(H=ee){return this.component?this.component.multipleInstances?H:ee:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new ae(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(lt,Se,P)=>{"use strict";P.d(Se,{Am:()=>Ce,Ub:()=>Ue,Yd:()=>Oe,in:()=>L});const h=[];var L=(()=>((L=L||{})[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L))();const j={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ee=L.INFO,ae={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},Ie=(H,$,...ue)=>{if($<H.logLevel)return;const Fe=(new Date).toISOString(),pe=ae[$];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[pe](`[${Fe}]  ${H.name}:`,...ue)};class Oe{constructor($){this.name=$,this._logLevel=ee,this._logHandler=Ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in L))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?j[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...$),this._logHandler(this,L.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...$),this._logHandler(this,L.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,L.INFO,...$),this._logHandler(this,L.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,L.WARN,...$),this._logHandler(this,L.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...$),this._logHandler(this,L.ERROR,...$)}}function Ue(H){h.forEach($=>{$.setLogLevel(H)})}function Ce(H,$){for(const ue of h){let Fe=null;$&&$.level&&(Fe=j[$.level]),ue.userLogHandler=null===H?null:(pe,We,...ze)=>{const qe=ze.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");We>=(Fe??pe.logLevel)&&H({level:L[We].toLowerCase(),message:qe,args:ze,type:pe.name})}}}},3182:(lt,Se,P)=>{"use strict";P.d(Se,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=P(534);(0,h.registerVersion)("firebase","9.23.0","app")},7142:(lt,Se,P)=>{"use strict";P.d(Se,{Z:()=>h.Z});var h=P(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(lt,Se,P)=>{"use strict";function h(j,ee,ae,Ie,Oe,Ue,Ce){try{var H=j[Ue](Ce),$=H.value}catch(ue){return void ae(ue)}H.done?ee($):Promise.resolve($).then(Ie,Oe)}function L(j){return function(){var ee=this,ae=arguments;return new Promise(function(Ie,Oe){var Ue=j.apply(ee,ae);function Ce($){h(Ue,Ie,Oe,Ce,H,"next",$)}function H($){h(Ue,Ie,Oe,Ce,H,"throw",$)}Ce(void 0)})}}P.d(Se,{Z:()=>L})},7582:(lt,Se,P)=>{"use strict";function ee(te,re){var ye={};for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&re.indexOf(oe)<0&&(ye[oe]=te[oe]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(oe=Object.getOwnPropertySymbols(te);ve<oe.length;ve++)re.indexOf(oe[ve])<0&&Object.prototype.propertyIsEnumerable.call(te,oe[ve])&&(ye[oe[ve]]=te[oe[ve]])}return ye}function ue(te,re,ye,oe){return new(ye||(ye=Promise))(function(Ne,Je){function kt(Ft){try{mt(oe.next(Ft))}catch(vt){Je(vt)}}function Qt(Ft){try{mt(oe.throw(Ft))}catch(vt){Je(vt)}}function mt(Ft){Ft.done?Ne(Ft.value):function ve(Ne){return Ne instanceof ye?Ne:new ye(function(Je){Je(Ne)})}(Ft.value).then(kt,Qt)}mt((oe=oe.apply(te,re||[])).next())})}function we(te){return this instanceof we?(this.v=te,this):new we(te)}function ge(te,re,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,oe=ye.apply(te,re||[]),Ne=[];return ve={},Je("next"),Je("throw"),Je("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Je(gn){oe[gn]&&(ve[gn]=function(Ar){return new Promise(function(xr,Rt){Ne.push([gn,Ar,xr,Rt])>1||kt(gn,Ar)})})}function kt(gn,Ar){try{!function Qt(gn){gn.value instanceof we?Promise.resolve(gn.value.v).then(mt,Ft):vt(Ne[0][2],gn)}(oe[gn](Ar))}catch(xr){vt(Ne[0][3],xr)}}function mt(gn){kt("next",gn)}function Ft(gn){kt("throw",gn)}function vt(gn,Ar){gn(Ar),Ne.shift(),Ne.length&&kt(Ne[0][0],Ne[0][1])}}function be(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,re=te[Symbol.asyncIterator];return re?re.call(te):(te=function ze(te){var re="function"==typeof Symbol&&Symbol.iterator,ye=re&&te[re],oe=0;if(ye)return ye.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&oe>=te.length&&(te=void 0),{value:te&&te[oe++],done:!te}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ye={},oe("next"),oe("throw"),oe("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function oe(Ne){ye[Ne]=te[Ne]&&function(Je){return new Promise(function(kt,Qt){!function ve(Ne,Je,kt,Qt){Promise.resolve(Qt).then(function(mt){Ne({value:mt,done:kt})},Je)}(kt,Qt,(Je=te[Ne](Je)).done,Je.value)})}}}P.d(Se,{FC:()=>ge,KL:()=>be,_T:()=>ee,mG:()=>ue,qq:()=>we}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=2268)}]);